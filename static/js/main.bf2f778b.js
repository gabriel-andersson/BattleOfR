/*! For license information please see main.bf2f778b.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},57:(e,t)=>{t.P=void 0;var n=new WeakMap;function r(e){var t,r,i;return null!=e&&(t=!0===e.disableCache,r=!0===e.disableMix,i=e.transform),function(){for(var e=[],o="",s=null,a=t?null:n,l=new Array(arguments.length),u=0;u<arguments.length;u++)l[u]=arguments[u];for(;l.length>0;){var c=l.pop();if(null!=c&&!1!==c)if(Array.isArray(c))for(var d=0;d<c.length;d++)l.push(c[d]);else{var h=null!=i?i(c):c;if(h.$$css){var f="";if(null!=a&&a.has(h)){var p=a.get(h);null!=p&&(f=p[0],e.push.apply(e,p[1]),a=p[2])}else{var g=[];for(var m in h){var y=h[m];"$$css"!==m&&("string"===typeof y||null===y?e.includes(m)||(e.push(m),null!=a&&g.push(m),"string"===typeof y&&(f+=f?" "+y:y)):console.error("styleq: ".concat(m," typeof ").concat(String(y),' is not "string" or "null".')))}if(null!=a){var v=new WeakMap;a.set(h,[f,g,v]),a=v}}f&&(o=o?f+" "+o:f)}else if(r)null==s&&(s={}),s=Object.assign({},h,s);else{var b=null;for(var w in h){var S=h[w];void 0!==S&&(e.includes(w)||(null!=S&&(null==s&&(s={}),null==b&&(b={}),b[w]=S),e.push(w),a=null))}null!=b&&(s=Object.assign(b,s))}}}return[o,s]}}var i=r();t.P=i,i.factory=r},68:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){for(var o=0,s=e.length;o<s;++o){var a=e[o](t,n,r,i);if(a)return a}}},134:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)(e)};var r,i=n(408),o=(r=i)&&r.__esModule?r:{default:r}},142:(e,t)=>{function n(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)n(e,t[r]);else n(e,t)}},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:a.current}}t.jsx=u,t.jsxs=u},154:(e,t,n)=>{t.A=function(e,t){if("string"===typeof t&&!(0,r.isPrefixedValue)(t)&&-1!==t.indexOf("cross-fade("))return o.map((function(e){return t.replace(i,e+"cross-fade(")}))};var r=n(393),i=/cross-fade\(/g,o=["-webkit-",""]},184:(e,t,n)=>{t.A=function(e,t){if("string"===typeof t&&!(0,r.isPrefixedValue)(t)&&-1!==t.indexOf("filter("))return o.map((function(e){return t.replace(i,e+"filter(")}))};var r=n(393),i=/filter\(/g,o=["-webkit-",""]},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var S=Array.isArray,E=Object.prototype.hasOwnProperty,T={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,i)&&!x.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:T.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+_(l,0):o,S(s)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),R(s,t,i,"",(function(e){return e}))):null!=s&&(C(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",S(e))for(var u=0;u<e.length;u++){var c=o+_(a=e[u],u);l+=R(a,t,i,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=R(a=a.value,t,i,c=o+_(a,u++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function D(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},P={transition:null},O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:P,ReactCurrentOwner:T};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=T.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)E.call(t,u)&&!x.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function S(e){if(m=!1,w(e),!g)if(null!==r(u))g=!0,P(E);else{var t=r(c);null!==t&&O(S,t.startTime-e)}}function E(e,n){g=!1,m&&(m=!1,v(C),C=-1),p=!0;var o=f;try{for(w(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!R());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(u)&&i(u),w(n)}else i(u);h=r(u)}if(null!==h)var l=!0;else{var d=r(c);null!==d&&O(S,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var T,x=!1,k=null,C=-1,I=5,_=-1;function R(){return!(t.unstable_now()-_<I)}function D(){if(null!==k){var e=t.unstable_now();_=e;var n=!0;try{n=k(!0,e)}finally{n?T():(x=!1,k=null)}}else x=!1}if("function"===typeof b)T=function(){b(D)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,N=A.port2;A.port1.onmessage=D,T=function(){N.postMessage(null)}}else T=function(){y(D,0)};function P(e){k=e,x||(x=!0,T())}function O(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,P(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(m?(v(C),C=-1):m=!0,O(S,o-s))):(e.sortIndex=a,n(u,e),g||p||(g=!0,P(E))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},293:(e,t)=>{t.n=function(e,t){if(null!=e[r]){var o=t?1:0;if(n.has(e)){var s=n.get(e),a=s[o];return null==a&&(a=i(e,t),s[o]=a,n.set(e,s)),a}var l=i(e,t),u=new Array(2);return u[o]=l,n.set(e,u),l}return e};var n=new WeakMap,r="$$css$localize";function i(e,t){var n={};for(var i in e)if(i!==r){var o=e[i];Array.isArray(o)?n[i]=t?o[1]:o[0]:n[i]=o}return n}},310:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},313:(e,t,n)=>{t.A=function(e,t,n,s){if("string"===typeof t&&a.hasOwnProperty(e)){var u=function(e,t){if((0,i.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),o=0,s=n.length;o<s;++o){var a=n[o],u=[a];for(var c in t){var d=(0,r.default)(c);if(a.indexOf(d)>-1&&"order"!==d)for(var h=t[c],f=0,p=h.length;f<p;++f)u.unshift(a.replace(d,l[h[f]]+d))}n[o]=u.join(",")}return n.join(",")}(t,s),c=u.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return c;var d=u.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?d:(n["Webkit"+(0,o.default)(e)]=c,n["Moz"+(0,o.default)(e)]=d,u)}};var r=s(n(134)),i=s(n(341)),o=s(n(310));function s(e){return e&&e.__esModule?e:{default:e}}var a={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},l={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"}},341:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e&&n.test(e)};var n=/-webkit-|-moz-|-ms-/},391:(e,t,n)=>{var r=n(950);t.H=r.createRoot,t.c=r.hydrateRoot},393:(e,t,n)=>{function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return e.filter((function(t,n){return e.lastIndexOf(t)===n}))}function a(e){for(var t=0,n=arguments.length<=1?0:arguments.length-1;t<n;++t){var o=t+1<1||arguments.length<=t+1?void 0:arguments[t+1];for(var l in o){var u=o[l],c=e[l];if(c&&u){if(Array.isArray(c)){e[l]=s(c.concat(u));continue}if(Array.isArray(u)){e[l]=s([c].concat(i(u)));continue}if("object"===r(u)){e[l]=a({},c,u);continue}}e[l]=u}}return e}n.r(t),n.d(t,{assignStyle:()=>a,camelCaseProperty:()=>h,cssifyDeclaration:()=>g,cssifyObject:()=>m,hyphenateProperty:()=>p,isPrefixedProperty:()=>v,isPrefixedValue:()=>w,isUnitlessProperty:()=>A,normalizeProperty:()=>O,resolveArrayValue:()=>M,unprefixProperty:()=>P,unprefixValue:()=>F});var l=/-([a-z])/g,u=/^Ms/g,c={};function d(e){return e[1].toUpperCase()}function h(e){if(c.hasOwnProperty(e))return c[e];var t=e.replace(l,d).replace(u,"ms");return c[e]=t,t}var f=n(408);function p(e){return(0,f.default)(e)}function g(e,t){return p(e)+":"+t}function m(e){var t="";for(var n in e){var r=e[n];"string"!==typeof r&&"number"!==typeof r||(t&&(t+=";"),t+=g(n,r))}return t}var y=/^(Webkit|Moz|O|ms)/;function v(e){return y.test(e)}var b=/-webkit-|-moz-|-ms-/;function w(e){return"string"===typeof e&&b.test(e)}var S={borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E=["animationIterationCount","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineClamp","order"],T=["Webkit","ms","Moz","O"];function x(e,t){return e+t.charAt(0).toUpperCase()+t.slice(1)}for(var k=0,C=E.length;k<C;++k){var I=E[k];S[I]=!0;for(var _=0,R=T.length;_<R;++_)S[x(T[_],I)]=!0}for(var D in S)S[p(D)]=!0;function A(e){return S.hasOwnProperty(e)}var N=/^(ms|Webkit|Moz|O)/;function P(e){var t=e.replace(N,"");return t.charAt(0).toLowerCase()+t.slice(1)}function O(e){return P(h(e))}function M(e,t){return t.join(";"+p(e)+":")}var L=/(-ms-|-webkit-|-moz-|-o-)/g;function F(e){return"string"===typeof e?e.replace(L,""):e}},408:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var r=/[A-Z]/g,i=/^ms-/,o={};function s(e){return"-"+e.toLowerCase()}const a=function(e){if(o.hasOwnProperty(e))return o[e];var t=e.replace(r,s);return o[e]=i.test(t)?"-"+t:t}},415:e=>{var t=function(e){};e.exports=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(t(n),!e){var s;if(void 0===n)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(s=new Error(n.replace(/%s/g,(function(){return String(i[a++])})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},443:(e,t,n)=>{var r=n(534);e.exports=r},472:(e,t)=>{t.A=function(e,t){if("cursor"===e&&r.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0}},534:e=>{function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},552:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=e[t];if(r&&n.hasOwnProperty(t))for(var i=(0,o.default)(t),s=0;s<r.length;++s){var a=r[s]+i;n[a]||(n[a]=n[t])}return n};var r,i=n(310),o=(r=i)&&r.__esModule?r:{default:r}},579:(e,t,n)=>{e.exports=n(153)},608:(e,t)=>{t.A=function(e,t){if(r.hasOwnProperty(e)&&i.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},i={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0}},673:(e,t)=>{t.A=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]}},730:(e,t,n)=>{var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,F=Object.assign;function B(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var z=!1;function V(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function j(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case E:return"Portal";case k:return"Profiler";case x:return"StrictMode";case R:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Te=null,xe=null;function ke(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=Si(t),Ee(e.stateNode,e.type,t))}}function Ce(e){Te?xe?xe.push(e):xe=[e]:Te=e}function Ie(){if(Te){var e=Te,t=xe;if(xe=Te=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function _e(e,t){return e(t)}function Re(){}var De=!1;function Ae(e,t,n){if(De)return e(t,n);De=!0;try{return _e(e,t,n)}finally{De=!1,(null!==Te||null!==xe)&&(Re(),Ie())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=Si(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Pe=!1;if(c)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ce){Pe=!1}function Me(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Le=!1,Fe=null,Be=!1,ze=null,Ve={onError:function(e){Le=!0,Fe=e}};function je(e,t,n,r,i,o,s,a,l){Le=!1,Fe=null,Me.apply(Ve,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ue(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return qe(i),e;if(s===r)return qe(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,Et,Tt,xt,kt,Ct=!1,It=[],_t=null,Rt=null,Dt=null,At=new Map,Nt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=vi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void kt(e.priority,(function(){Tt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function zt(e,t,n){Bt(e)&&n.delete(t)}function Vt(){Ct=!1,null!==_t&&Bt(_t)&&(_t=null),null!==Rt&&Bt(Rt)&&(Rt=null),null!==Dt&&Bt(Dt)&&(Dt=null),At.forEach(zt),Nt.forEach(zt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Ut(e){function t(t){return jt(t,e)}if(0<It.length){jt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&jt(_t,e),null!==Rt&&jt(Rt,e),null!==Dt&&jt(Dt,e),At.forEach(t),Nt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var $t=w.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=bt,o=$t.transition;$t.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,$t.transition=o}}function Ht(e,t,n,r){var i=bt,o=$t.transition;$t.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,$t.transition=o}}function Kt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Gt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return _t=Lt(_t,e,t,n,r,i),!0;case"dragenter":return Rt=Lt(Rt,e,t,n,r,i),!0;case"mouseover":return Dt=Lt(Dt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,Lt(At.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nt.set(o,Lt(Nt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&St(o),null===(o=Qt(e,t,n,r))&&qr(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=vi(e=Se(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),dn=F({},un,{view:0,detail:0}),hn=on(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),gn=on(F({},fn,{dataTransfer:0})),mn=on(F({},dn,{relatedTarget:0})),yn=on(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(F({},un,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function kn(){return xn}var Cn=F({},dn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(Cn),_n=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Dn=on(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(An),Pn=[9,13,27,32],On=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Mn,Fn=c&&(!On||Mn&&8<Mn&&11>=Mn),Bn=String.fromCharCode(32),zn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=Hr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Gn(e){Br(e,0)}function Qn(e){if(K(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Wn(t,Kn,e,Se(e)),Ae(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function or(e,t){if("click"===e)return Qn(t)}function sr(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var s=cr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},Tr={},xr={};function kr(e){if(Tr[e])return Tr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Tr[e]=n[t];return e}c&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Cr=kr("animationend"),Ir=kr("animationiteration"),_r=kr("animationstart"),Rr=kr("transitionend"),Dr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Dr.set(e,t),l(t,[e])}for(var Pr=0;Pr<Ar.length;Pr++){var Or=Ar[Pr];Nr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Nr(Cr,"onAnimationEnd"),Nr(Ir,"onAnimationIteration"),Nr(_r,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Rr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,u){if(je.apply(this,arguments),Le){if(!Le)throw Error(o(198));var c=Fe;Le=!1,Fe=null,Be||(Be=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,u),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,u),o=l}}}if(Be)throw e=ze,Be=!1,ze=null,e}function zr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[jr]){e[jr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Vr("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=vi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Ae((function(){var r=o,i=Se(n),s=[];e:{var a=Dr.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case Cr:case Ir:case _r:l=yn;break;case Rr:l=Dn;break;case"scroll":l=hn;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Ne(p,h))&&c.push(Wr(p,g,f)))),d)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),s.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!vi(u)&&!u[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?vi(u):null)&&(u!==(d=Ue(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=_n,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:wi(l),f=null==u?a:wi(u),(a=new c(g,p+"leave",l,n,i)).target=d,a.relatedTarget=f,g=null,vi(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,g=c),d=g,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Kr(f))p++;for(f=0,g=h;g;g=Kr(g))f++;for(;0<p-f;)c=Kr(c),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Kr(c),h=Kr(h)}c=null}else c=null;null!==l&&Gr(s,a,l,c,!1),null!==u&&null!==d&&Gr(s,d,u,c,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Yn;else if(qn(a))if(Xn)m=sr;else{m=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=or);switch(m&&(m=m(e,r))?Wn(s,m,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?wi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,vr=null);break;case"focusout":vr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(s,n,i)}var v;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(v=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Un=!0)),0<(y=Hr(r,b)).length&&(b=new wn(b,e,null,n,i),s.push({event:b,listeners:y}),v?b.data=v:null!==(v=jn(n))&&(b.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}Br(s,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ne(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Ne(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Ne(n,o))&&s.unshift(Wr(n,l,a)):i||null!=(l=Ne(n,o))&&s.push(Wr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Si(e){return e[fi]||null}var Ei=[],Ti=-1;function xi(e){return{current:e}}function ki(e){0>Ti||(e.current=Ei[Ti],Ei[Ti]=null,Ti--)}function Ci(e,t){Ti++,Ei[Ti]=e.current,e.current=t}var Ii={},_i=xi(Ii),Ri=xi(!1),Di=Ii;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){ki(Ri),ki(_i)}function Oi(e,t,n){if(_i.current!==Ii)throw Error(o(168));Ci(_i,t),Ci(Ri,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,$(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Di=_i.current,Ci(_i,e),Ci(Ri,Ri.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,ki(Ri),ki(_i),Ci(_i,e)):ki(Ri),Ci(Ri,n)}var Bi=null,zi=!1,Vi=!1;function ji(e){null===Bi?Bi=[e]:Bi.push(e)}function Ui(){if(!Vi&&null!==Bi){Vi=!0;var e=0,t=bt;try{var n=Bi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,zi=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(e+1)),Ke(Ze,Ui),i}finally{bt=t,Vi=!1}}return null}var $i=[],qi=0,Wi=null,Hi=0,Ki=[],Gi=0,Qi=null,Yi=1,Xi="";function Ji(e,t){$i[qi++]=Hi,$i[qi++]=Wi,Wi=e,Hi=t}function Zi(e,t,n){Ki[Gi++]=Yi,Ki[Gi++]=Xi,Ki[Gi++]=Qi,Qi=e;var r=Yi;e=Xi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yi=1<<32-st(t)+i|n<<i|r,Xi=o+e}else Yi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Wi;)Wi=$i[--qi],$i[qi]=null,Hi=$i[--qi],$i[qi]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Xi=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Ou(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ou(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ui(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ui(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=w.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vo=xi(null),bo=null,wo=null,So=null;function Eo(){So=wo=bo=null}function To(e){var t=vo.current;ki(vo),e._currentValue=t}function xo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){bo=e,So=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Sa=!0),e.firstContext=null)}function Co(e){var t=e._currentValue;if(So!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Io=null;function _o(e){null===Io?Io=[e]:Io.push(e)}function Ro(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,_o(t)):(n.next=i.next,i.next=n),t.interleaved=n,Do(e,r)}function Do(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ao=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Do(e,n)}return null===(i=r.interleaved)?(t.next=t,_o(r)):(t.next=i.next,i.next=t),r.interleaved=t,Do(e,n)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bo(e,t,n,r){var i=e.updateQueue;Ao=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,c=u=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:Ao=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);zl|=s,e.lanes=s,e.memoizedState=d}}function zo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Vo=(new r.Component).refs;function jo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Uo={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ru(),i=iu(e),o=Oo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(ou(t,e,i,r),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ru(),i=iu(e),o=Oo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(ou(t,e,i,r),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ru(),r=iu(e),i=Oo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Mo(e,i,r))&&(ou(t,e,r,n),Lo(t,e,r))}};function $o(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function qo(e,t,n){var r=!1,i=Ii,o=t.contextType;return"object"===typeof o&&null!==o?o=Co(o):(i=Ni(t)?Di:_i.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ii),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Uo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Vo,No(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Co(o):(o=Ni(t)?Di:_i.current,i.context=Ai(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(jo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Uo.enqueueReplaceState(i,i.state,null),Bo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Vo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lu(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===T?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===N&&Qo(o)===t.type)?((r=i(t,n.props)).ref=Ko(e,t,n),r.return=e,r):((r=Fu(n.type,n.key,n.props,null,e.mode,r)).ref=Ko(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Bu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Vu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Fu(t.type,t.key,t.props,null,e.mode,n)).ref=Ko(e,null,t),n.return=e,n;case E:return(t=ju(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Bu(t,e.mode,n,null)).return=e,t;Go(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?u(e,t,n,r):null;case E:return n.key===i?c(e,t,n,r):null;case N:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);Go(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);Go(t,r)}return null}function g(i,o,a,l){for(var u=null,c=null,d=o,g=o=0,m=null;null!==d&&g<a.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var y=f(i,d,a[g],l);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),o=s(y,o,g),null===c?u=y:c.sibling=y,c=y,d=m}if(g===a.length)return n(i,d),io&&Ji(i,g),u;if(null===d){for(;g<a.length;g++)null!==(d=h(i,a[g],l))&&(o=s(d,o,g),null===c?u=d:c.sibling=d,c=d);return io&&Ji(i,g),u}for(d=r(i,d);g<a.length;g++)null!==(m=p(d,i,g,a[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=s(m,o,g),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}function m(i,a,l,u){var c=M(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,g=a,m=a=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=f(i,g,v.value,u);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),a=s(b,a,m),null===d?c=b:d.sibling=b,d=b,g=y}if(v.done)return n(i,g),io&&Ji(i,m),c;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,u))&&(a=s(v,a,m),null===d?c=v:d.sibling=v,d=v);return io&&Ji(i,m),c}for(g=r(i,g);!v.done;m++,v=l.next())null!==(v=p(g,i,m,v.value,u))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),a=s(v,a,m),null===d?c=v:d.sibling=v,d=v);return e&&g.forEach((function(e){return t(i,e)})),io&&Ji(i,m),c}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===T&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case S:e:{for(var u=s.key,c=o;null!==c;){if(c.key===u){if((u=s.type)===T){if(7===c.tag){n(r,c.sibling),(o=i(c,s.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===N&&Qo(u)===c.type){n(r,c.sibling),(o=i(c,s.props)).ref=Ko(r,c,s),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===T?((o=Bu(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Fu(s.type,s.key,s.props,null,r.mode,l)).ref=Ko(r,o,s),l.return=r,r=l)}return a(r);case E:e:{for(c=s.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=ju(s,r.mode,l)).return=r,r=o}return a(r);case N:return e(r,o,(c=s._init)(s._payload),l)}if(te(s))return g(r,o,s,l);if(M(s))return m(r,o,s,l);Go(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Vu(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Xo=Yo(!0),Jo=Yo(!1),Zo={},es=xi(Zo),ts=xi(Zo),ns=xi(Zo);function rs(e){if(e===Zo)throw Error(o(174));return e}function is(e,t){switch(Ci(ns,t),Ci(ts,e),Ci(es,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(es),Ci(es,t)}function os(){ki(es),ki(ts),ki(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(Ci(ts,e),Ci(es,n))}function as(e){ts.current===e&&(ki(es),ki(ts))}var ls=xi(0);function us(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cs=[];function ds(){for(var e=0;e<cs.length;e++)cs[e]._workInProgressVersionPrimary=null;cs.length=0}var hs=w.ReactCurrentDispatcher,fs=w.ReactCurrentBatchConfig,ps=0,gs=null,ms=null,ys=null,vs=!1,bs=!1,ws=0,Ss=0;function Es(){throw Error(o(321))}function Ts(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function xs(e,t,n,r,i,s){if(ps=s,gs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hs.current=null===e||null===e.memoizedState?la:ua,e=n(r,i),bs){s=0;do{if(bs=!1,ws=0,25<=s)throw Error(o(301));s+=1,ys=ms=null,t.updateQueue=null,hs.current=ca,e=n(r,i)}while(bs)}if(hs.current=aa,t=null!==ms&&null!==ms.next,ps=0,ys=ms=gs=null,vs=!1,t)throw Error(o(300));return e}function ks(){var e=0!==ws;return ws=0,e}function Cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ys?gs.memoizedState=ys=e:ys=ys.next=e,ys}function Is(){if(null===ms){var e=gs.alternate;e=null!==e?e.memoizedState:null}else e=ms.next;var t=null===ys?gs.memoizedState:ys.next;if(null!==t)ys=t,ms=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ms=e).memoizedState,baseState:ms.baseState,baseQueue:ms.baseQueue,queue:ms.queue,next:null},null===ys?gs.memoizedState=ys=e:ys=ys.next=e}return ys}function _s(e,t){return"function"===typeof t?t(e):t}function Rs(e){var t=Is(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ms,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,u=null,c=s;do{var d=c.lane;if((ps&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,a=r):u=u.next=h,gs.lanes|=d,zl|=d}c=c.next}while(null!==c&&c!==s);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(Sa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,gs.lanes|=s,zl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ds(e){var t=Is(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(Sa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function As(){}function Ns(e,t){var n=gs,r=Is(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,Sa=!0),r=r.queue,qs(Ms.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ys&&1&ys.memoizedState.tag){if(n.flags|=2048,zs(9,Os.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(o(349));0!==(30&ps)||Ps(n,t,i)}return i}function Ps(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Os(e,t,n,r){t.value=n,t.getSnapshot=r,Ls(t)&&Fs(e)}function Ms(e,t,n){return n((function(){Ls(t)&&Fs(e)}))}function Ls(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fs(e){var t=Do(e,1);null!==t&&ou(t,e,1,-1)}function Bs(e){var t=Cs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=ra.bind(null,gs,e),[t.memoizedState,e]}function zs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vs(){return Is().memoizedState}function js(e,t,n,r){var i=Cs();gs.flags|=e,i.memoizedState=zs(1|t,n,void 0,void 0===r?null:r)}function Us(e,t,n,r){var i=Is();r=void 0===r?null:r;var o=void 0;if(null!==ms){var s=ms.memoizedState;if(o=s.destroy,null!==r&&Ts(r,s.deps))return void(i.memoizedState=zs(t,n,o,r))}gs.flags|=e,i.memoizedState=zs(1|t,n,o,r)}function $s(e,t){return js(8390656,8,e,t)}function qs(e,t){return Us(2048,8,e,t)}function Ws(e,t){return Us(4,2,e,t)}function Hs(e,t){return Us(4,4,e,t)}function Ks(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Gs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Us(4,4,Ks.bind(null,t,e),n)}function Qs(){}function Ys(e,t){var n=Is();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ts(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xs(e,t){var n=Is();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ts(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Js(e,t,n){return 0===(21&ps)?(e.baseState&&(e.baseState=!1,Sa=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),gs.lanes|=n,zl|=n,e.baseState=!0),t)}function Zs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{bt=n,fs.transition=r}}function ta(){return Is().memoizedState}function na(e,t,n){var r=iu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ia(e))oa(t,n);else if(null!==(n=Ro(e,t,n,r))){ou(n,e,r,ru()),sa(n,t,r)}}function ra(e,t,n){var r=iu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ia(e))oa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,_o(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Ro(e,t,i,r))&&(ou(n,e,r,i=ru()),sa(n,t,r))}}function ia(e){var t=e.alternate;return e===gs||null!==t&&t===gs}function oa(e,t){bs=vs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var aa={readContext:Co,useCallback:Es,useContext:Es,useEffect:Es,useImperativeHandle:Es,useInsertionEffect:Es,useLayoutEffect:Es,useMemo:Es,useReducer:Es,useRef:Es,useState:Es,useDebugValue:Es,useDeferredValue:Es,useTransition:Es,useMutableSource:Es,useSyncExternalStore:Es,useId:Es,unstable_isNewReconciler:!1},la={readContext:Co,useCallback:function(e,t){return Cs().memoizedState=[e,void 0===t?null:t],e},useContext:Co,useEffect:$s,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,js(4194308,4,Ks.bind(null,t,e),n)},useLayoutEffect:function(e,t){return js(4194308,4,e,t)},useInsertionEffect:function(e,t){return js(4,2,e,t)},useMemo:function(e,t){var n=Cs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Cs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=na.bind(null,gs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Cs().memoizedState=e},useState:Bs,useDebugValue:Qs,useDeferredValue:function(e){return Cs().memoizedState=e},useTransition:function(){var e=Bs(!1),t=e[0];return e=Zs.bind(null,e[1]),Cs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gs,i=Cs();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nl)throw Error(o(349));0!==(30&ps)||Ps(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,$s(Ms.bind(null,r,s,e),[e]),r.flags|=2048,zs(9,Os.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Cs(),t=Nl.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-st(Yi)-1)).toString(32)+n),0<(n=ws++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ss++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ua={readContext:Co,useCallback:Ys,useContext:Co,useEffect:qs,useImperativeHandle:Gs,useInsertionEffect:Ws,useLayoutEffect:Hs,useMemo:Xs,useReducer:Rs,useRef:Vs,useState:function(){return Rs(_s)},useDebugValue:Qs,useDeferredValue:function(e){return Js(Is(),ms.memoizedState,e)},useTransition:function(){return[Rs(_s)[0],Is().memoizedState]},useMutableSource:As,useSyncExternalStore:Ns,useId:ta,unstable_isNewReconciler:!1},ca={readContext:Co,useCallback:Ys,useContext:Co,useEffect:qs,useImperativeHandle:Gs,useInsertionEffect:Ws,useLayoutEffect:Hs,useMemo:Xs,useReducer:Ds,useRef:Vs,useState:function(){return Ds(_s)},useDebugValue:Qs,useDeferredValue:function(e){var t=Is();return null===ms?t.memoizedState=e:Js(t,ms.memoizedState,e)},useTransition:function(){return[Ds(_s)[0],Is().memoizedState]},useMutableSource:As,useSyncExternalStore:Ns,useId:ta,unstable_isNewReconciler:!1};function da(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fa(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var pa="function"===typeof WeakMap?WeakMap:Map;function ga(e,t,n){(n=Oo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,Gl=r),fa(0,t)},n}function ma(e,t,n){(n=Oo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fa(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fa(0,t),"function"!==typeof r&&(null===Ql?Ql=new Set([this]):Ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ya(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_u.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ba(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oo(-1,1)).tag=2,Mo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=w.ReactCurrentOwner,Sa=!1;function Ea(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Xo(t,e.child,n,r)}function Ta(e,t,n,r,i){n=n.render;var o=t.ref;return ko(t,i),r=xs(e,t,n,r,o,i),n=ks(),null===e||Sa?(io&&n&&eo(t),t.flags|=1,Ea(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function xa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Mu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ka(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ka(e,t,i)}return t.flags|=1,(e=Lu(o,r)).ref=t.ref,e.return=t,t.child=e}function ka(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(Sa=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ka(e,t,i);0!==(131072&e.flags)&&(Sa=!0)}}return _a(e,t,n,r,i)}function Ca(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Ll,Ml),Ml|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Ll,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ci(Ll,Ml),Ml|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ci(Ll,Ml),Ml|=r;return Ea(e,t,i,n),t.child}function Ia(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _a(e,t,n,r,i){var o=Ni(n)?Di:_i.current;return o=Ai(t,o),ko(t,i),n=xs(e,t,n,r,o,i),r=ks(),null===e||Sa?(io&&r&&eo(t),t.flags|=1,Ea(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function Ra(e,t,n,r,i){if(Ni(n)){var o=!0;Li(t)}else o=!1;if(ko(t,i),null===t.stateNode)Ha(e,t),qo(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=Co(u):u=Ai(t,u=Ni(n)?Di:_i.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==u)&&Wo(t,s,r,u),Ao=!1;var h=t.memoizedState;s.state=h,Bo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Ri.current||Ao?("function"===typeof c&&(jo(t,n,c,r),l=t.memoizedState),(a=Ao||$o(t,n,a,r,h,l,u))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Po(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:yo(t.type,a),s.props=u,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Co(l):l=Ai(t,l=Ni(n)?Di:_i.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&Wo(t,s,r,l),Ao=!1,h=t.memoizedState,s.state=h,Bo(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||Ri.current||Ao?("function"===typeof f&&(jo(t,n,f,r),p=t.memoizedState),(u=Ao||$o(t,n,u,r,h,p,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Da(e,t,n,r,o,i)}function Da(e,t,n,r,i,o){Ia(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),Ka(e,t,o);r=t.stateNode,wa.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,a,o)):Ea(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),is(e,t.containerInfo)}function Na(e,t,n,r,i){return po(),go(i),t.flags|=256,Ea(e,t,n,r),t.child}var Pa,Oa,Ma,La,Fa={dehydrated:null,treeContext:null,retryLane:0};function Ba(e){return{baseLanes:e,cachePool:null,transitions:null}}function za(e,t,n){var r,i=t.pendingProps,s=ls.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ci(ls,1&s),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=zu(l,i,0,null),e=Bu(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ba(n),t.memoizedState=Fa,e):Va(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ha(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=zu({mode:"visible",children:r.children},i,0,null),(s=Bu(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,a),t.child.memoizedState=Ba(a),t.memoizedState=Fa,s);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=ha(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),Sa||l){if(null!==(r=Nl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Do(e,i),ou(r,e,i,-1))}return vu(),Ua(e,t,a,r=ha(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Du.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Gi++]=Yi,Ki[Gi++]=Xi,Ki[Gi++]=Qi,Yi=e.id,Xi=e.overflow,Qi=t),t=Va(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Lu(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Lu(r,a):(a=Bu(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ba(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Fa,i}return e=(a=e.child).sibling,i=Lu(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Va(e,t){return(t=zu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&go(r),Xo(t,e.child,null,n),(e=Va(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $a(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xo(e.return,t,n)}function qa(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Wa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ea(e,t,r.children,n),0!==(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$a(e,n,t);else if(19===e.tag)$a(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ls,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===us(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===us(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qa(t,!0,n,null,o);break;case"together":qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ka(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Lu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ya(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qa(t),null;case 1:case 17:return Ni(t.type)&&Pi(),Qa(t),null;case 3:return r=t.stateNode,os(),ki(Ri),ki(_i),ds(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(uu(oo),oo=null))),Oa(e,t),Qa(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Ma(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Qa(t),null}if(e=rs(es.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)zr(Mr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Y(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":ie(r,s),zr("invalid",r)}for(var l in ve(n,s),i=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":H(r),Z(r,s,!0);break;case"textarea":H(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)zr(Mr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(s in ve(n,i),u=i)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?me(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&zr("scroll",e):null!=c&&b(e,s,c,l))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qa(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Qa(t),null;case 13:if(ki(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qa(t),s=!1}else null!==oo&&(uu(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ls.current)?0===Fl&&(Fl=3):vu())),null!==t.updateQueue&&(t.flags|=4),Qa(t),null);case 4:return os(),Oa(e,t),null===e&&Ur(t.stateNode.containerInfo),Qa(t),null;case 10:return To(t.type._context),Qa(t),null;case 19:if(ki(ls),null===(s=t.memoizedState))return Qa(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ga(s,!1);else{if(0!==Fl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=us(e))){for(t.flags|=128,Ga(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>Wl&&(t.flags|=128,r=!0,Ga(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=us(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ga(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Qa(t),null}else 2*Xe()-s.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Ga(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=ls.current,Ci(ls,r?1&n|2:1&n),t):(Qa(t),null);case 22:case 23:return pu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Qa(t),6&t.subtreeFlags&&(t.flags|=8192)):Qa(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Xa(e,t){switch(to(t),t.tag){case 1:return Ni(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),ki(Ri),ki(_i),ds(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(ki(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ls),null;case 4:return os(),null;case 10:return To(t.type._context),null;case 22:case 23:return pu(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Ma=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&zr("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ja=!1,Za=!1,el="function"===typeof WeakSet?WeakSet:Set,tl=null;function nl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Iu(e,t,r)}else n.current=null}function rl(e,t,n){try{n()}catch(r){Iu(e,t,r)}}var il=!1;function ol(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&rl(t,n,o)}i=i.next}while(i!==r)}}function sl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ll(e){var t=e.alternate;null!==t&&(e.alternate=null,ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[gi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ul(e){return 5===e.tag||3===e.tag||4===e.tag}function cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ul(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function dl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}function hl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(hl(e,t,n),e=e.sibling;null!==e;)hl(e,t,n),e=e.sibling}var fl=null,pl=!1;function gl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Za||nl(n,t);case 6:var r=fl,i=pl;fl=null,gl(e,t,n),pl=i,null!==(fl=r)&&(pl?(e=fl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fl.removeChild(n.stateNode));break;case 18:null!==fl&&(pl?(e=fl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ut(e)):li(fl,n.stateNode));break;case 4:r=fl,i=pl,fl=n.stateNode.containerInfo,pl=!0,gl(e,t,n),fl=r,pl=i;break;case 0:case 11:case 14:case 15:if(!Za&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&rl(n,t,s),i=i.next}while(i!==r)}gl(e,t,n);break;case 1:if(!Za&&(nl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Iu(n,t,a)}gl(e,t,n);break;case 21:gl(e,t,n);break;case 22:1&n.mode?(Za=(r=Za)||null!==n.memoizedState,gl(e,t,n),Za=r):gl(e,t,n);break;default:gl(e,t,n)}}function yl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new el),t.forEach((function(t){var r=Au.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:fl=l.stateNode,pl=!1;break e;case 3:case 4:fl=l.stateNode.containerInfo,pl=!0;break e}l=l.return}if(null===fl)throw Error(o(160));ml(s,a,i),fl=null,pl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Iu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)bl(t,e),t=t.sibling}function bl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),wl(e),4&r){try{ol(3,e,e.return),sl(3,e)}catch(m){Iu(e,e.return,m)}try{ol(5,e,e.return)}catch(m){Iu(e,e.return,m)}}break;case 1:vl(t,e),wl(e),512&r&&null!==n&&nl(n,n.return);break;case 5:if(vl(t,e),wl(e),512&r&&null!==n&&nl(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Iu(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(i,s),be(l,a);var c=be(l,s);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,c)}switch(l){case"input":J(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(m){Iu(e,e.return,m)}}break;case 6:if(vl(t,e),wl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Iu(e,e.return,m)}}break;case 3:if(vl(t,e),wl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){Iu(e,e.return,m)}break;case 4:default:vl(t,e),wl(e);break;case 13:vl(t,e),wl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(ql=Xe())),4&r&&yl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Za=(c=Za)||d,vl(t,e),Za=c):vl(t,e),wl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(tl=e,d=e.child;null!==d;){for(h=tl=d;null!==tl;){switch(p=(f=tl).child,f.tag){case 0:case 11:case 14:case 15:ol(4,f,f.return);break;case 1:nl(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Iu(r,n,m)}}break;case 5:nl(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,tl=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,c?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",a))}catch(m){Iu(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Iu(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vl(t,e),wl(e),4&r&&yl(e);case 21:}}function wl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ul(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),hl(e,cl(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;dl(e,cl(e),s);break;default:throw Error(o(161))}}catch(ja){Iu(e,e.return,ja)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Sl(e,t,n){tl=e,El(e,t,n)}function El(e,t,n){for(var r=0!==(1&e.mode);null!==tl;){var i=tl,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ja;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Za;a=Ja;var u=Za;if(Ja=s,(Za=l)&&!u)for(tl=i;null!==tl;)l=(s=tl).child,22===s.tag&&null!==s.memoizedState?kl(i):null!==l?(l.return=s,tl=l):kl(i);for(;null!==o;)tl=o,El(o,t,n),o=o.sibling;tl=i,Ja=a,Za=u}Tl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,tl=o):Tl(e)}}function Tl(e){for(;null!==tl;){var t=tl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Za||sl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Za)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&zo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(o(163))}Za||512&t.flags&&al(t)}catch(f){Iu(t,t.return,f)}}if(t===e){tl=null;break}if(null!==(n=t.sibling)){n.return=t.return,tl=n;break}tl=t.return}}function xl(e){for(;null!==tl;){var t=tl;if(t===e){tl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,tl=n;break}tl=t.return}}function kl(e){for(;null!==tl;){var t=tl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sl(4,t)}catch(ja){Iu(t,n,ja)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(ja){Iu(t,i,ja)}}var o=t.return;try{al(t)}catch(ja){Iu(t,o,ja)}break;case 5:var s=t.return;try{al(t)}catch(ja){Iu(t,s,ja)}}}catch(ja){Iu(t,t.return,ja)}if(t===e){tl=null;break}var a=t.sibling;if(null!==a){a.return=t.return,tl=a;break}tl=t.return}}var Cl,Il=Math.ceil,_l=w.ReactCurrentDispatcher,Rl=w.ReactCurrentOwner,Dl=w.ReactCurrentBatchConfig,Al=0,Nl=null,Pl=null,Ol=0,Ml=0,Ll=xi(0),Fl=0,Bl=null,zl=0,Vl=0,jl=0,Ul=null,$l=null,ql=0,Wl=1/0,Hl=null,Kl=!1,Gl=null,Ql=null,Yl=!1,Xl=null,Jl=0,Zl=0,eu=null,tu=-1,nu=0;function ru(){return 0!==(6&Al)?Xe():-1!==tu?tu:tu=Xe()}function iu(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Ol?Ol&-Ol:null!==mo.transition?(0===nu&&(nu=gt()),nu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function ou(e,t,n,r){if(50<Zl)throw Zl=0,eu=null,Error(o(185));yt(e,n,r),0!==(2&Al)&&e===Nl||(e===Nl&&(0===(2&Al)&&(Vl|=n),4===Fl&&cu(e,Ol)),su(e,r),1===n&&0===Al&&0===(1&t.mode)&&(Wl=Xe()+500,zi&&Ui()))}function su(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Nl?Ol:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){zi=!0,ji(e)}(du.bind(null,e)):ji(du.bind(null,e)),si((function(){0===(6&Al)&&Ui()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nu(n,au.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function au(e,t){if(tu=-1,nu=0,0!==(6&Al))throw Error(o(327));var n=e.callbackNode;if(ku()&&e.callbackNode!==n)return null;var r=ht(e,e===Nl?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=bu(e,r);else{t=r;var i=Al;Al|=2;var s=yu();for(Nl===e&&Ol===t||(Hl=null,Wl=Xe()+500,gu(e,t));;)try{Su();break}catch(l){mu(e,l)}Eo(),_l.current=s,Al=i,null!==Pl?t=0:(Nl=null,Ol=0,t=Fl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=lu(e,i))),1===t)throw n=Bl,gu(e,0),cu(e,r),su(e,Xe()),n;if(6===t)cu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=bu(e,r))&&(0!==(s=pt(e))&&(r=s,t=lu(e,s))),1===t))throw n=Bl,gu(e,0),cu(e,r),su(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xu(e,$l,Hl);break;case 3:if(cu(e,r),(130023424&r)===r&&10<(t=ql+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ru(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xu.bind(null,e,$l,Hl),t);break}xu(e,$l,Hl);break;case 4:if(cu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Il(r/1960))-r)){e.timeoutHandle=ri(xu.bind(null,e,$l,Hl),r);break}xu(e,$l,Hl);break;default:throw Error(o(329))}}}return su(e,Xe()),e.callbackNode===n?au.bind(null,e):null}function lu(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(gu(e,t).flags|=256),2!==(e=bu(e,t))&&(t=$l,$l=n,null!==t&&uu(t)),e}function uu(e){null===$l?$l=e:$l.push.apply($l,e)}function cu(e,t){for(t&=~jl,t&=~Vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function du(e){if(0!==(6&Al))throw Error(o(327));ku();var t=ht(e,0);if(0===(1&t))return su(e,Xe()),null;var n=bu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=lu(e,r))}if(1===n)throw n=Bl,gu(e,0),cu(e,t),su(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,$l,Hl),su(e,Xe()),null}function hu(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Wl=Xe()+500,zi&&Ui())}}function fu(e){null!==Xl&&0===Xl.tag&&0===(6&Al)&&ku();var t=Al;Al|=1;var n=Dl.transition,r=bt;try{if(Dl.transition=null,bt=1,e)return e()}finally{bt=r,Dl.transition=n,0===(6&(Al=t))&&Ui()}}function pu(){Ml=Ll.current,ki(Ll)}function gu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:os(),ki(Ri),ki(_i),ds();break;case 5:as(r);break;case 4:os();break;case 13:case 19:ki(ls);break;case 10:To(r.type._context);break;case 22:case 23:pu()}n=n.return}if(Nl=e,Pl=e=Lu(e.current,null),Ol=Ml=t,Fl=0,Bl=null,jl=Vl=zl=0,$l=Ul=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(r=(n=Io[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Io=null}return e}function mu(e,t){for(;;){var n=Pl;try{if(Eo(),hs.current=aa,vs){for(var r=gs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}vs=!1}if(ps=0,ys=ms=gs=null,bs=!1,ws=0,Rl.current=null,null===n||null===n.return){Fl=1,Bl=t,Pl=null;break}e:{var s=e,a=n.return,l=n,u=t;if(t=Ol,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ba(p,a,l,0,t),1&p.mode&&ya(s,c,t),u=c;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(u),t.updateQueue=m}else g.add(u);break e}if(0===(1&t)){ya(s,c,t),vu();break e}u=Error(o(426))}else if(io&&1&l.mode){var y=va(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ba(y,a,l,0,t),go(da(u,l));break e}}s=u=da(u,l),4!==Fl&&(Fl=2),null===Ul?Ul=[s]:Ul.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,ga(0,u,t));break e;case 1:l=u;var v=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ql||!Ql.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,ma(s,l,t));break e}}s=s.return}while(null!==s)}Tu(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function yu(){var e=_l.current;return _l.current=aa,null===e?aa:e}function vu(){0!==Fl&&3!==Fl&&2!==Fl||(Fl=4),null===Nl||0===(268435455&zl)&&0===(268435455&Vl)||cu(Nl,Ol)}function bu(e,t){var n=Al;Al|=2;var r=yu();for(Nl===e&&Ol===t||(Hl=null,gu(e,t));;)try{wu();break}catch(i){mu(e,i)}if(Eo(),Al=n,_l.current=r,null!==Pl)throw Error(o(261));return Nl=null,Ol=0,Fl}function wu(){for(;null!==Pl;)Eu(Pl)}function Su(){for(;null!==Pl&&!Qe();)Eu(Pl)}function Eu(e){var t=Cl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?Tu(e):Pl=t,Rl.current=null}function Tu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ya(n,t,Ml)))return void(Pl=n)}else{if(null!==(n=Xa(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Fl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Fl&&(Fl=5)}function xu(e,t,n){var r=bt,i=Dl.transition;try{Dl.transition=null,bt=1,function(e,t,n,r){do{ku()}while(null!==Xl);if(0!==(6&Al))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Nl&&(Pl=Nl=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Nu(tt,(function(){return ku(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Dl.transition,Dl.transition=null;var a=bt;bt=1;var l=Al;Al|=4,Rl.current=null,function(e,t){if(ei=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(ea){n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(u=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===i&&(l=a),f===s&&++d===r&&(u=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,tl=t;null!==tl;)if(e=(t=tl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,tl=e;else for(;null!==tl;){t=tl;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:yo(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(ea){Iu(t,t.return,ea)}if(null!==(e=t.sibling)){e.return=t.return,tl=e;break}tl=t.return}g=il,il=!1}(e,n),bl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,Sl(n,e,i),Ye(),Al=l,bt=a,Dl.transition=s}else e.current=n;if(Yl&&(Yl=!1,Xl=e,Jl=i),s=e.pendingLanes,0===s&&(Ql=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),su(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kl)throw Kl=!1,e=Gl,Gl=null,e;0!==(1&Jl)&&0!==e.tag&&ku(),s=e.pendingLanes,0!==(1&s)?e===eu?Zl++:(Zl=0,eu=e):Zl=0,Ui()}(e,t,n,r)}finally{Dl.transition=i,bt=r}return null}function ku(){if(null!==Xl){var e=wt(Jl),t=Dl.transition,n=bt;try{if(Dl.transition=null,bt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Jl=0,0!==(6&Al))throw Error(o(331));var i=Al;for(Al|=4,tl=e.current;null!==tl;){var s=tl,a=s.child;if(0!==(16&tl.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(tl=c;null!==tl;){var d=tl;switch(d.tag){case 0:case 11:case 15:ol(8,d,s)}var h=d.child;if(null!==h)h.return=d,tl=h;else for(;null!==tl;){var f=(d=tl).sibling,p=d.return;if(ll(d),d===c){tl=null;break}if(null!==f){f.return=p,tl=f;break}tl=p}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}tl=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,tl=a;else e:for(;null!==tl;){if(0!==(2048&(s=tl).flags))switch(s.tag){case 0:case 11:case 15:ol(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,tl=v;break e}tl=s.return}}var b=e.current;for(tl=b;null!==tl;){var w=(a=tl).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,tl=w;else e:for(a=b;null!==tl;){if(0!==(2048&(l=tl).flags))try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(E){Iu(l,l.return,E)}if(l===a){tl=null;break e}var S=l.sibling;if(null!==S){S.return=l.return,tl=S;break e}tl=l.return}}if(Al=i,Ui(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,Dl.transition=t}}return!1}function Cu(e,t,n){e=Mo(e,t=ga(0,t=da(n,t),1),1),t=ru(),null!==e&&(yt(e,1,t),su(e,t))}function Iu(e,t,n){if(3===e.tag)Cu(e,e,n);else for(;null!==t;){if(3===t.tag){Cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ql||!Ql.has(r))){t=Mo(t,e=ma(t,e=da(n,e),1),1),e=ru(),null!==t&&(yt(t,1,e),su(t,e));break}}t=t.return}}function _u(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ru(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Ol&n)===n&&(4===Fl||3===Fl&&(130023424&Ol)===Ol&&500>Xe()-ql?gu(e,0):jl|=n),su(e,t)}function Ru(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=ru();null!==(e=Do(e,t))&&(yt(e,t,n),su(e,n))}function Du(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ru(e,n)}function Au(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ru(e,n)}function Nu(e,t){return Ke(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ou(e,t,n,r){return new Pu(e,t,n,r)}function Mu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lu(e,t){var n=e.alternate;return null===n?((n=Ou(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fu(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Mu(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case T:return Bu(n.children,i,s,t);case x:a=8,i|=8;break;case k:return(e=Ou(12,n,t,2|i)).elementType=k,e.lanes=s,e;case R:return(e=Ou(13,n,t,i)).elementType=R,e.lanes=s,e;case D:return(e=Ou(19,n,t,i)).elementType=D,e.lanes=s,e;case P:return zu(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case I:a=9;break e;case _:a=11;break e;case A:a=14;break e;case N:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ou(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Bu(e,t,n,r){return(e=Ou(7,e,r,t)).lanes=n,e}function zu(e,t,n,r){return(e=Ou(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Vu(e,t,n){return(e=Ou(6,e,null,t)).lanes=n,e}function ju(e,t,n){return(t=Ou(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $u(e,t,n,r,i,o,s,a,l){return e=new Uu(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ou(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function qu(e){if(!e)return Ii;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Mi(e,n,t)}return t}function Wu(e,t,n,r,i,o,s,a,l){return(e=$u(n,r,!0,e,0,o,0,a,l)).context=qu(null),n=e.current,(o=Oo(r=ru(),i=iu(n))).callback=void 0!==t&&null!==t?t:null,Mo(n,o,i),e.current.lanes=i,yt(e,i,r),su(e,r),e}function Hu(e,t,n,r){var i=t.current,o=ru(),s=iu(i);return n=qu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mo(i,t,s))&&(ou(e,i,s,o),Lo(e,i,s)),s}function Ku(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qu(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)Sa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Sa=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),po();break;case 5:ss(t);break;case 1:Ni(t.type)&&Li(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(vo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ls,1&ls.current),t.flags|=128,null):0!==(n&t.child.childLanes)?za(e,t,n):(Ci(ls,1&ls.current),null!==(e=Ka(e,t,n))?e.sibling:null);Ci(ls,1&ls.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,Ca(e,t,n)}return Ka(e,t,n)}(e,t,n);Sa=0!==(131072&e.flags)}else Sa=!1,io&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var i=Ai(t,_i.current);ko(t,n),i=xs(null,t,r,e,i,n);var s=ks();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(s=!0,Li(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,No(t),i.updater=Uo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Da(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),Ea(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Mu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===A)return 14}return 2}(r),e=yo(r,e),i){case 0:t=_a(null,t,r,e,n);break e;case 1:t=Ra(null,t,r,e,n);break e;case 11:t=Ta(null,t,r,e,n);break e;case 14:t=xa(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ra(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Po(e,t),Bo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Na(e,t,r,n,i=da(Error(o(423)),t));break e}if(r!==i){t=Na(e,t,r,n,i=da(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ka(e,t,n);break e}Ea(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&uo(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ia(e,t),Ea(e,t,a,n),t.child;case 6:return null===e&&uo(t),null;case 13:return za(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):Ea(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 7:return Ea(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ea(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ci(vo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ri.current){t=Ka(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=Oo(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xo(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),xo(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Ea(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),r=r(i=Co(i)),t.flags|=1,Ea(e,t,r,n),t.child;case 14:return i=yo(r=t.type,t.pendingProps),xa(e,t,r,i=yo(r.type,i),n);case 15:return ka(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yo(r,i),Ha(e,t),t.tag=1,Ni(r)?(e=!0,Li(t)):e=!1,ko(t,n),qo(t,r,i),Ho(t,r,i,n),Da(null,t,r,!0,e,n);case 19:return Wa(e,t,n);case 22:return Ca(e,t,n)}throw Error(o(156,t.tag))};var Yu="function"===typeof reportError?reportError:function(e){console.error(e)};function Xu(e){this._internalRoot=e}function Ju(e){this._internalRoot=e}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ec(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function tc(){}function nc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Ku(s);a.call(e)}}Hu(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Ku(s);o.call(e)}}var s=Wu(t,r,e,0,null,!1,0,"",tc);return e._reactRootContainer=s,e[pi]=s.current,Ur(8===e.nodeType?e.parentNode:e),fu(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Ku(l);a.call(e)}}var l=$u(e,0,!1,null,0,!1,0,"",tc);return e._reactRootContainer=l,e[pi]=l.current,Ur(8===e.nodeType?e.parentNode:e),fu((function(){Hu(t,l,n,r)})),l}(n,t,e,i,r);return Ku(s)}Ju.prototype.render=Xu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hu(e,t,null,null)},Ju.prototype.unmount=Xu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fu((function(){Hu(null,e,null,null)})),t[pi]=null}},Ju.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),su(t,Xe()),0===(6&Al)&&(Wl=Xe()+500,Ui()))}break;case 13:fu((function(){var t=Do(e,1);if(null!==t){var n=ru();ou(t,e,1,n)}})),Qu(e,1)}},Et=function(e){if(13===e.tag){var t=Do(e,134217728);if(null!==t)ou(t,e,134217728,ru());Qu(e,134217728)}},Tt=function(e){if(13===e.tag){var t=iu(e),n=Do(e,t);if(null!==n)ou(n,e,t,ru());Qu(e,t)}},xt=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Si(r);if(!i)throw Error(o(90));K(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=hu,Re=fu;var rc={usingClientEntryPoint:!1,Events:[bi,wi,Si,Ce,Ie,hu]},ic={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},oc={bundleType:ic.bundleType,version:ic.version,rendererPackageName:ic.rendererPackageName,rendererConfig:ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:ic.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{it=sc.inject(oc),ot=sc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zu(e))throw Error(o(299));var n=!1,r="",i=Yu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=$u(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Xu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return fu(e)},t.hydrate=function(e,t,n){if(!ec(t))throw Error(o(200));return nc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Yu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Wu(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ju(t)},t.render=function(e,t,n){if(!ec(t))throw Error(o(200));return nc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ec(e))throw Error(o(40));return!!e._reactRootContainer&&(fu((function(){nc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=hu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ec(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return nc(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},766:e=>{function t(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function n(e,n,r){const i=r<.5?r*(1+n):r+n-r*n,o=2*r-i,s=t(o,i,e+1/3),a=t(o,i,e),l=t(o,i,e-1/3);return Math.round(255*s)<<24|Math.round(255*a)<<16|Math.round(255*l)<<8}const r="[-+]?\\d*\\.?\\d+",i=r+"%";function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,?\\s*(")+")\\s*\\)"}function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.slice(0,t.length-1).join(")\\s*,?\\s*(")+")\\s*/\\s*("+t[t.length-1]+")\\s*\\)"}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}let l;function u(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function c(e){return(parseFloat(e)%360+360)%360/360}function d(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function h(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}e.exports=function(e){if("number"===typeof e)return e>>>0===e&&e>=0&&e<=4294967295?e:null;if("string"!==typeof e)return null;const f=function(){void 0===l&&(l={rgb:new RegExp("rgb"+o(r,r,r)),rgba:new RegExp("rgba("+a(r,r,r,r)+"|"+s(r,r,r,r)+")"),hsl:new RegExp("hsl"+o(r,i,i)),hsla:new RegExp("hsla("+a(r,i,i,r)+"|"+s(r,i,i,r)+")"),hwb:new RegExp("hwb"+o(r,i,i)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/});return l}();let p;if(p=f.hex6.exec(e))return parseInt(p[1]+"ff",16)>>>0;const g=function(e){switch(e){case"transparent":return 0;case"aliceblue":return 4042850303;case"antiquewhite":return 4209760255;case"aqua":case"cyan":return 16777215;case"aquamarine":return 2147472639;case"azure":return 4043309055;case"beige":return 4126530815;case"bisque":return 4293182719;case"black":return 255;case"blanchedalmond":return 4293643775;case"blue":return 65535;case"blueviolet":return 2318131967;case"brown":return 2771004159;case"burlywood":return 3736635391;case"burntsienna":return 3934150143;case"cadetblue":return 1604231423;case"chartreuse":return 2147418367;case"chocolate":return 3530104575;case"coral":return 4286533887;case"cornflowerblue":return 1687547391;case"cornsilk":return 4294499583;case"crimson":return 3692313855;case"darkblue":return 35839;case"darkcyan":return 9145343;case"darkgoldenrod":return 3095792639;case"darkgray":case"darkgrey":return 2846468607;case"darkgreen":return 6553855;case"darkkhaki":return 3182914559;case"darkmagenta":return 2332068863;case"darkolivegreen":return 1433087999;case"darkorange":return 4287365375;case"darkorchid":return 2570243327;case"darkred":return 2332033279;case"darksalmon":return 3918953215;case"darkseagreen":return 2411499519;case"darkslateblue":return 1211993087;case"darkslategray":case"darkslategrey":return 793726975;case"darkturquoise":return 13554175;case"darkviolet":return 2483082239;case"deeppink":return 4279538687;case"deepskyblue":return 12582911;case"dimgray":case"dimgrey":return 1768516095;case"dodgerblue":return 512819199;case"firebrick":return 2988581631;case"floralwhite":return 4294635775;case"forestgreen":return 579543807;case"fuchsia":case"magenta":return 4278255615;case"gainsboro":return 3705462015;case"ghostwhite":return 4177068031;case"gold":return 4292280575;case"goldenrod":return 3668254975;case"gray":case"grey":return 2155905279;case"green":return 8388863;case"greenyellow":return 2919182335;case"honeydew":return 4043305215;case"hotpink":return 4285117695;case"indianred":return 3445382399;case"indigo":return 1258324735;case"ivory":return 4294963455;case"khaki":return 4041641215;case"lavender":return 3873897215;case"lavenderblush":return 4293981695;case"lawngreen":return 2096890111;case"lemonchiffon":return 4294626815;case"lightblue":return 2916673279;case"lightcoral":return 4034953471;case"lightcyan":return 3774873599;case"lightgoldenrodyellow":return 4210742015;case"lightgray":case"lightgrey":return 3553874943;case"lightgreen":return 2431553791;case"lightpink":return 4290167295;case"lightsalmon":return 4288707327;case"lightseagreen":return 548580095;case"lightskyblue":return 2278488831;case"lightslategray":case"lightslategrey":return 2005441023;case"lightsteelblue":return 2965692159;case"lightyellow":return 4294959359;case"lime":return 16711935;case"limegreen":return 852308735;case"linen":return 4210091775;case"maroon":return 2147483903;case"mediumaquamarine":return 1724754687;case"mediumblue":return 52735;case"mediumorchid":return 3126187007;case"mediumpurple":return 2473647103;case"mediumseagreen":return 1018393087;case"mediumslateblue":return 2070474495;case"mediumspringgreen":return 16423679;case"mediumturquoise":return 1221709055;case"mediumvioletred":return 3340076543;case"midnightblue":return 421097727;case"mintcream":return 4127193855;case"mistyrose":return 4293190143;case"moccasin":return 4293178879;case"navajowhite":return 4292783615;case"navy":return 33023;case"oldlace":return 4260751103;case"olive":return 2155872511;case"olivedrab":return 1804477439;case"orange":return 4289003775;case"orangered":return 4282712319;case"orchid":return 3664828159;case"palegoldenrod":return 4008225535;case"palegreen":return 2566625535;case"paleturquoise":return 2951671551;case"palevioletred":return 3681588223;case"papayawhip":return 4293907967;case"peachpuff":return 4292524543;case"peru":return 3448061951;case"pink":return 4290825215;case"plum":return 3718307327;case"powderblue":return 2967529215;case"purple":return 2147516671;case"rebeccapurple":return 1714657791;case"red":return 4278190335;case"rosybrown":return 3163525119;case"royalblue":return 1097458175;case"saddlebrown":return 2336560127;case"salmon":return 4202722047;case"sandybrown":return 4104413439;case"seagreen":return 780883967;case"seashell":return 4294307583;case"sienna":return 2689740287;case"silver":return 3233857791;case"skyblue":return 2278484991;case"slateblue":return 1784335871;case"slategray":case"slategrey":return 1887473919;case"snow":return 4294638335;case"springgreen":return 16744447;case"steelblue":return 1182971135;case"tan":return 3535047935;case"teal":return 8421631;case"thistle":return 3636451583;case"tomato":return 4284696575;case"turquoise":return 1088475391;case"violet":return 4001558271;case"wheat":return 4125012991;case"white":return 4294967295;case"whitesmoke":return 4126537215;case"yellow":return 4294902015;case"yellowgreen":return 2597139199}return null}(e);return null!=g?g:(p=f.rgb.exec(e))?(u(p[1])<<24|u(p[2])<<16|u(p[3])<<8|255)>>>0:(p=f.rgba.exec(e))?void 0!==p[6]?(u(p[6])<<24|u(p[7])<<16|u(p[8])<<8|d(p[9]))>>>0:(u(p[2])<<24|u(p[3])<<16|u(p[4])<<8|d(p[5]))>>>0:(p=f.hex3.exec(e))?parseInt(p[1]+p[1]+p[2]+p[2]+p[3]+p[3]+"ff",16)>>>0:(p=f.hex8.exec(e))?parseInt(p[1],16)>>>0:(p=f.hex4.exec(e))?parseInt(p[1]+p[1]+p[2]+p[2]+p[3]+p[3]+p[4]+p[4],16)>>>0:(p=f.hsl.exec(e))?(255|n(c(p[1]),h(p[2]),h(p[3])))>>>0:(p=f.hsla.exec(e))?void 0!==p[6]?(n(c(p[6]),h(p[7]),h(p[8]))|d(p[9]))>>>0:(n(c(p[2]),h(p[3]),h(p[4]))|d(p[5]))>>>0:(p=f.hwb.exec(e))?(255|function(e,n,r){if(n+r>=1){const e=Math.round(255*n/(n+r));return e<<24|e<<16|e<<8}const i=t(0,1,e+1/3)*(1-n-r)+n,o=t(0,1,e)*(1-n-r)+n,s=t(0,1,e-1/3)*(1-n-r)+n;return Math.round(255*i)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8}(c(p[1]),h(p[2]),h(p[3])))>>>0:null}},836:(e,t)=>{t.A=function(){return null}},853:(e,t,n)=>{e.exports=n(234)},889:(e,t,n)=>{t.A=function(e,t){if("string"===typeof t&&!(0,o.default)(t)&&t.indexOf("image-set(")>-1)return s.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))};var r,i=n(341),o=(r=i)&&r.__esModule?r:{default:r};var s=["-webkit-",""]},918:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)}},927:(e,t)=>{t.A=function(e,t,r){if(Object.prototype.hasOwnProperty.call(n,e))for(var i=n[e],o=0,s=i.length;o<s;++o)r[i[o]]=t};var n={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]}},928:(e,t,n)=>{t.A=function(e){var t=e.prefixMap,n=e.plugins;return function e(a){for(var l in a){var u=a[l];if((0,s.default)(u))a[l]=e(u);else if(Array.isArray(u)){for(var c=[],d=0,h=u.length;d<h;++d){var f=(0,i.default)(n,l,u[d],a,t);(0,o.default)(c,f||u[d])}c.length>0&&(a[l]=c)}else{var p=(0,i.default)(n,l,u,a,t);p&&(a[l]=p),a=(0,r.default)(t,l,a)}}return a}};var r=a(n(552)),i=a(n(68)),o=a(n(142)),s=a(n(918));function a(e){return e&&e.__esModule?e:{default:e}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".2fd4d4a3.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="BattleOfR:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/BattleOfR/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],l=r[2],u=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);u<s.length;u++)o=s[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkBattleOfR=self.webpackChunkBattleOfR||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var l=n(415),u=n.n(l),c=n(950);const d=c.unmountComponentAtNode;function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(null,arguments)}var f=n(43);function p(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}var g={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},m=["ms","Moz","O","Webkit"];Object.keys(g).forEach((e=>{m.forEach((t=>{g[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(t,e)]=g[e]}))}));const y=g;const v=e=>"currentcolor"===e||"currentColor"===e||"inherit"===e||0===e.indexOf("var(");var b=n(766),w=n.n(b);const S=e=>{if(void 0===e||null===e)return e;var t=w()(e);return void 0!==t&&null!==t?t=(t<<24|t>>>8)>>>0:void 0};const E=function(e,t){if(void 0===t&&(t=1),null!=e){if("string"===typeof e&&v(e))return e;var n=S(e);if(null!=n)return"rgba("+(n>>16&255)+","+(n>>8&255)+","+(255&n)+","+((n>>24&255)/255*t).toFixed(2)+")"}};var T={backgroundColor:!0,borderColor:!0,borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0,color:!0,shadowColor:!0,textDecorationColor:!0,textShadowColor:!0};function x(e,t){var n=e;return null!=t&&y[t]||"number"!==typeof e?null!=t&&T[t]&&(n=E(e)):n=e+"px",n}const k=!("undefined"===typeof window||!window.document||!window.document.createElement);var C={},I=!k||null!=window.CSS&&null!=window.CSS.supports&&(window.CSS.supports("text-decoration-line","none")||window.CSS.supports("-webkit-text-decoration-line","none")),_='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif',R={borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderBlockColor:["borderTopColor","borderBottomColor"],borderInlineColor:["borderRightColor","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderStyle:["borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderInlineStyle:["borderRightStyle","borderLeftStyle"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderInlineWidth:["borderRightWidth","borderLeftWidth"],insetBlock:["top","bottom"],insetInline:["left","right"],marginBlock:["marginTop","marginBottom"],marginInline:["marginRight","marginLeft"],paddingBlock:["paddingTop","paddingBottom"],paddingInline:["paddingRight","paddingLeft"],overflow:["overflowX","overflowY"],overscrollBehavior:["overscrollBehaviorX","overscrollBehaviorY"],borderBlockStartColor:["borderTopColor"],borderBlockStartStyle:["borderTopStyle"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndColor:["borderBottomColor"],borderBlockEndStyle:["borderBottomStyle"],borderBlockEndWidth:["borderBottomWidth"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],insetBlockEnd:["bottom"],insetBlockStart:["top"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"]};const D=(e,t)=>{if(!e)return C;var n={},r=function(){var r=e[i];if(null==r)return"continue";if("backgroundClip"===i)"text"===r&&(n.backgroundClip=r,n.WebkitBackgroundClip=r);else if("flex"===i)-1===r?(n.flexGrow=0,n.flexShrink=1,n.flexBasis="auto"):n.flex=r;else if("font"===i)n[i]=r.replace("System",_);else if("fontFamily"===i)if(r.indexOf("System")>-1){var o=r.split(/,\s*/);o[o.indexOf("System")]=_,n[i]=o.join(",")}else n[i]="monospace"===r?"monospace,monospace":r;else if("textDecorationLine"===i)I?n.textDecorationLine=r:n.textDecoration=r;else if("writingDirection"===i)n.direction=r;else{var s=x(e[i],i),a=R[i];t&&"inset"===i?(null==e.insetInline&&(n.left=s,n.right=s),null==e.insetBlock&&(n.top=s,n.bottom=s)):t&&"margin"===i?(null==e.marginInline&&(n.marginLeft=s,n.marginRight=s),null==e.marginBlock&&(n.marginTop=s,n.marginBottom=s)):t&&"padding"===i?(null==e.paddingInline&&(n.paddingLeft=s,n.paddingRight=s),null==e.paddingBlock&&(n.paddingTop=s,n.paddingBottom=s)):a?a.forEach(((t,r)=>{null==e[t]&&(n[t]=s)})):n[i]=s}};for(var i in e)r();return n};const A=e=>function(e,t){for(var n,r=e.length,i=t^r,o=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}(e,1).toString(36);var N=/[A-Z]/g,P=/^ms-/,O={};function M(e){return"-"+e.toLowerCase()}const L=function(e){if(e in O)return O[e];var t=e.replace(N,M);return O[e]=P.test(t)?"-"+t:t};var F=n(928),B=n(836),z=n(154),V=n(472),j=n(184),U=n(889),$=n(927),q=n(673),W=n(608),H=n(313),K=["Webkit"],G=["Webkit","ms"];const Q={plugins:[B.A,z.A,V.A,j.A,U.A,$.A,q.A,W.A,H.A],prefixMap:{appearance:["Webkit","Moz","ms"],userSelect:["Webkit","Moz"],textEmphasisPosition:G,textEmphasis:G,textEmphasisStyle:G,textEmphasisColor:G,boxDecorationBreak:G,clipPath:K,maskImage:G,maskMode:G,maskRepeat:G,maskPosition:G,maskClip:G,maskOrigin:G,maskSize:G,maskComposite:G,mask:G,maskBorderSource:G,maskBorderMode:G,maskBorderSlice:G,maskBorderWidth:G,maskBorderOutset:G,maskBorderRepeat:G,maskBorder:G,maskType:G,textDecorationStyle:K,textDecorationSkip:K,textDecorationLine:K,textDecorationColor:K,filter:K,breakAfter:K,breakBefore:K,breakInside:K,columnCount:K,columnFill:K,columnGap:K,columnRule:K,columnRuleColor:K,columnRuleStyle:K,columnRuleWidth:K,columns:K,columnSpan:K,columnWidth:K,backdropFilter:K,hyphens:K,flowInto:K,flowFrom:K,regionFragment:K,textOrientation:K,tabSize:["Moz"],fontKerning:K,textSizeAdjust:K}};const Y=(0,F.A)(Q);var X=["animationKeyframes"],J=new Map,Z={},ee={borderColor:2,borderRadius:2,borderStyle:2,borderWidth:2,display:2,flex:2,inset:2,margin:2,overflow:2,overscrollBehavior:2,padding:2,insetBlock:2.1,insetInline:2.1,marginInline:2.1,marginBlock:2.1,paddingInline:2.1,paddingBlock:2.1,borderBlockStartColor:2.2,borderBlockStartStyle:2.2,borderBlockStartWidth:2.2,borderBlockEndColor:2.2,borderBlockEndStyle:2.2,borderBlockEndWidth:2.2,borderInlineStartColor:2.2,borderInlineStartStyle:2.2,borderInlineStartWidth:2.2,borderInlineEndColor:2.2,borderInlineEndStyle:2.2,borderInlineEndWidth:2.2,borderEndStartRadius:2.2,borderEndEndRadius:2.2,borderStartStartRadius:2.2,borderStartEndRadius:2.2,insetBlockEnd:2.2,insetBlockStart:2.2,insetInlineEnd:2.2,insetInlineStart:2.2,marginBlockStart:2.2,marginBlockEnd:2.2,marginInlineStart:2.2,marginInlineEnd:2.2,paddingBlockStart:2.2,paddingBlockEnd:2.2,paddingInlineStart:2.2,paddingInlineEnd:2.2},te="borderTopLeftRadius",ne="borderTopRightRadius",re="borderBottomLeftRadius",ie="borderBottomRightRadius",oe="borderLeftColor",se="borderLeftStyle",ae="borderLeftWidth",le="borderRightColor",ue="borderRightStyle",ce="borderRightWidth",de="right",he="marginLeft",fe="marginRight",pe="paddingLeft",ge="paddingRight",me="left",ye={[te]:ne,[ne]:te,[re]:ie,[ie]:re,[oe]:le,[se]:ue,[ae]:ce,[le]:oe,[ue]:se,[ce]:ae,[me]:de,[he]:fe,[fe]:he,[pe]:ge,[ge]:pe,[de]:me},ve={borderStartStartRadius:te,borderStartEndRadius:ne,borderEndStartRadius:re,borderEndEndRadius:ie,borderInlineStartColor:oe,borderInlineStartStyle:se,borderInlineStartWidth:ae,borderInlineEndColor:le,borderInlineEndStyle:ue,borderInlineEndWidth:ce,insetInlineEnd:de,insetInlineStart:me,marginInlineStart:he,marginInlineEnd:fe,paddingInlineStart:pe,paddingInlineEnd:ge},be=["clear","float","textAlign"];function we(e){var t={$$css:!0},n=[];function r(e,t,r){var i,o=function(e,t){var n=x(e,t);return"string"!==typeof n?JSON.stringify(n||""):n}(r,t),s=t+o,a=J.get(s);if(null!=a)i=a[0],n.push(a[1]);else{i=Ee("r",e,e!==t?s:o);var l=ee[e]||3,u=function(e,t,n){var r=[],i="."+e;switch(t){case"animationKeyframes":var o=Te(n),s=o[0],a=o[1],l=Se({animationName:s.join(",")});r.push(""+i+l,...a);break;case"placeholderTextColor":var u=Se({color:n,opacity:1});r.push(i+"::-webkit-input-placeholder"+u,i+"::-moz-placeholder"+u,i+":-ms-input-placeholder"+u,i+"::placeholder"+u);break;case"pointerEvents":var c=n;if("auto"===n||"box-only"===n){if(c="auto!important","box-only"===n){var d=Se({pointerEvents:"none"});r.push(i+">*"+d)}}else if(("none"===n||"box-none"===n)&&(c="none!important","box-none"===n)){var h=Se({pointerEvents:"auto"});r.push(i+">*"+h)}var f=Se({pointerEvents:c});r.push(""+i+f);break;case"scrollbarWidth":"none"===n&&r.push(i+"::-webkit-scrollbar{display:none}");var p=Se({scrollbarWidth:n});r.push(""+i+p);break;default:var g=Se({[t]:n});r.push(""+i+g)}return r}(i,t,r),c=[u,l];n.push(c),J.set(s,[i,c])}return i}return Object.keys(e).sort().forEach((n=>{var i=e[n];if(null!=i){var o;if(be.indexOf(n)>-1){var s=r(n,n,"left"),a=r(n,n,"right");"start"===i?o=[s,a]:"end"===i&&(o=[a,s])}var l=ve[n];if(null!=l){var u=r(n,l,i),c=r(n,ye[l],i);o=[u,c]}if("transitionProperty"===n){for(var d=Array.isArray(i)?i:[i],h=[],f=0;f<d.length;f++){var p=d[f];"string"===typeof p&&null!=ve[p]&&h.push(f)}if(h.length>0){var g=[...d],m=[...d];h.forEach((e=>{var t=g[e];if("string"===typeof t){var i=ve[t],s=ye[i];g[e]=i,m[e]=s;var a=r(n,n,g),l=r(n,n,m);o=[a,l]}}))}}null==o?o=r(n,n,i):t.$$css$localize=!0,t[n]=o}})),[t,n]}function Se(e){var t=Y(D(e)),n=Object.keys(t).map((e=>{var n=t[e],r=L(e);return Array.isArray(n)?n.map((e=>r+":"+e)).join(";"):r+":"+n})).sort().join(";");return"{"+n+";}"}function Ee(e,t,n){return e+"-"+A(t+n)}function Te(e){if("number"===typeof e)throw new Error("Invalid CSS keyframes type: "+typeof e);var t=[],n=[];return(Array.isArray(e)?e:[e]).forEach((e=>{if("string"===typeof e)t.push(e);else{var r=function(e){var t=Ee("r","animation",JSON.stringify(e)),n="{"+Object.keys(e).map((t=>""+t+Se(e[t]))).join("")+"}",r=["-webkit-",""].map((e=>"@"+e+"keyframes "+t+n));return[t,r]}(e),i=r[0],o=r[1];t.push(i),n.push(...o)}})),[t,n]}function xe(e,t,n){if(k){var r=null!=t?t:document,i=r.getElementById(e);if(null==i)if((i=document.createElement("style")).setAttribute("id",e),"string"===typeof n&&i.appendChild(document.createTextNode(n)),r instanceof ShadowRoot)r.insertBefore(i,r.firstChild);else{var o=r.head;o&&o.insertBefore(i,o.firstChild)}return i.sheet}return null}var ke=Array.prototype.slice;function Ce(e){var t,n={},r={};null!=e&&ke.call(e.cssRules).forEach(((e,i)=>{var o=e.cssText;if(o.indexOf("stylesheet-group")>-1)t=function(e){return Number(e.selectorText.split(Ie)[1])}(e),n[t]={start:i,rules:[o]};else{var s=De(o);null!=s&&(r[s]=!0,n[t].rules.push(o))}}));function i(e,t,r){var i=_e(n),o=i.indexOf(t)+1,s=i[o],a=null!=s&&null!=n[s].start?n[s].start:e.cssRules.length,l=function(e,t,n){try{return e.insertRule(t,n),!0}catch(r){return!1}}(e,r,a);if(l){null==n[t].start&&(n[t].start=a);for(var u=o;u<i.length;u+=1){var c=i[u],d=n[c].start||0;n[c].start=d+1}}return l}var o={getTextContent:()=>_e(n).map((e=>{var t=n[e].rules,r=t.shift();return t.sort(),t.unshift(r),t.join("\n")})).join("\n"),insert(t,o){var s=Number(o);if(null==n[s]){var a=function(e){return'[stylesheet-group="'+e+'"]{}'}(s);n[s]={start:null,rules:[a]},null!=e&&i(e,s,a)}var l=De(t);null!=l&&null==r[l]&&(r[l]=!0,n[s].rules.push(t),null!=e&&(i(e,s,t)||n[s].rules.pop()))}};return o}var Ie=/["']/g;function _e(e){return Object.keys(e).map(Number).sort(((e,t)=>e>t?1:-1))}var Re=/\s*([,])\s*/g;function De(e){var t=e.split("{")[0].trim();return""!==t?t.replace(Re,"$1"):null}var Ae=new WeakMap,Ne=[],Pe=["html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}","body{margin:0;}","button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}","input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}"];function Oe(e,t){var n;if(void 0===t&&(t="react-native-stylesheet"),k){var r=null!=e?e.getRootNode():document;if(0===Ne.length)n=Ce(xe(t)),Pe.forEach((e=>{n.insert(e,0)})),Ae.set(r,Ne.length),Ne.push(n);else{var i=Ae.get(r);if(null==i){var o=Ne[0],s=null!=o?o.getTextContent():"";n=Ce(xe(t,r,s)),Ae.set(r,Ne.length),Ne.push(n)}else n=Ne[i]}}else 0===Ne.length?(n=Ce(xe(t)),Pe.forEach((e=>{n.insert(e,0)})),Ne.push(n)):n=Ne[0];return{getTextContent:()=>n.getTextContent(),id:t,insert(e,t){Ne.forEach((n=>{n.insert(e,t)}))}}}var Me=n(293);function Le(e,t){0}var Fe={},Be={height:0,width:0},ze=e=>{var t=e.shadowColor,n=e.shadowOffset,r=e.shadowOpacity,i=e.shadowRadius,o=n||Be,s=o.height,a=x(o.width),l=x(s),u=x(i||0),c=E(t||"black",r);if(null!=c&&null!=a&&null!=l&&null!=u)return a+" "+l+" "+u+" "+c},Ve=e=>{var t=Object.keys(e)[0],n=e[t];return"matrix"===t||"matrix3d"===t?t+"("+n.join(",")+")":t+"("+x(n,t)+")"},je=e=>e.map(Ve).join(" "),Ue={borderBottomEndRadius:"borderEndEndRadius",borderBottomStartRadius:"borderEndStartRadius",borderTopEndRadius:"borderStartEndRadius",borderTopStartRadius:"borderStartStartRadius",borderEndColor:"borderInlineEndColor",borderEndStyle:"borderInlineEndStyle",borderEndWidth:"borderInlineEndWidth",borderStartColor:"borderInlineStartColor",borderStartStyle:"borderInlineStartStyle",borderStartWidth:"borderInlineStartWidth",end:"insetInlineEnd",marginEnd:"marginInlineEnd",marginHorizontal:"marginInline",marginStart:"marginInlineStart",marginVertical:"marginBlock",paddingEnd:"paddingInlineEnd",paddingHorizontal:"paddingInline",paddingStart:"paddingInlineStart",paddingVertical:"paddingBlock",start:"insetInlineStart"},$e={elevation:!0,overlayColor:!0,resizeMode:!0,tintColor:!0},qe=function(e,t){void 0===t&&(t={});var n=e||Fe,r={};if(t.shadow,null!=n.shadowColor||null!=n.shadowOffset||null!=n.shadowOpacity||null!=n.shadowRadius){Le();var i=ze(n);if(null!=i&&null==r.boxShadow){var o=n.boxShadow,s=o?o+", "+i:i;r.boxShadow=s}}if(t.textShadow,null!=n.textShadowColor||null!=n.textShadowOffset||null!=n.textShadowRadius){Le();var a=(e=>{var t=e.textShadowColor,n=e.textShadowOffset,r=e.textShadowRadius,i=n||Be,o=i.height,s=i.width,a=r||0,l=x(s),u=x(o),c=x(a),d=x(t,"textShadowColor");if(d&&(0!==o||0!==s||0!==a)&&null!=l&&null!=u&&null!=c)return l+" "+u+" "+c+" "+d})(n);if(null!=a&&null==r.textShadow){var l=n.textShadow,u=l?l+", "+a:a;r.textShadow=u}}for(var c in n)if(null==$e[c]&&"shadowColor"!==c&&"shadowOffset"!==c&&"shadowOpacity"!==c&&"shadowRadius"!==c&&"textShadowColor"!==c&&"textShadowOffset"!==c&&"textShadowRadius"!==c){var d=n[c],h=Ue[c]||c,f=d;!Object.prototype.hasOwnProperty.call(n,c)||h!==c&&null!=n[h]||("aspectRatio"===h&&"number"===typeof f?r[h]=f.toString():"fontVariant"===h?(Array.isArray(f)&&f.length>0&&(f=f.join(" ")),r[h]=f):"textAlignVertical"===h?null==n.verticalAlign&&(r.verticalAlign="center"===f?"middle":f):"transform"===h?(Array.isArray(f)&&(f=je(f)),r.transform=f):r[h]=f)}return r};var We=n(57),He=["writingDirection"],Ke=new WeakMap,Ge=Oe(),Qe={shadow:!0,textShadow:!0};function Ye(e){e.forEach((e=>{var t=e[0],n=e[1];null!=Ge&&t.forEach((e=>{Ge.insert(e,n)}))}))}function Xe(e,t){var n=function(e,t){var n,r={$$css:!0},i=[],o=e.animationKeyframes,s=p(e,X),l=Ee("css",t,JSON.stringify(e)),u="."+l;if(null!=o){var c=Te(o),d=c[0],h=c[1];n=d.join(","),i.push(...h)}var f=Se(a(a({},s),{},{animationName:n}));return i.push(""+u+f),r[l]=l,[r,[[i,1]]]}(e,t),r=n[0];return Ye(n[1]),r}var Je={position:"absolute",left:0,right:0,top:0,bottom:0},Ze=et({x:a({},Je)}).x;function et(e){return Object.keys(e).forEach((t=>{var n,r=e[t];null!=r&&!0!==r.$$css&&(n=t.indexOf("$raw")>-1?Xe(r,t.split("$raw")[0]):function(e){var t=we(qe(e,Qe)),n=t[0];return Ye(t[1]),n}(r),Ke.set(r,n))})),e}function tt(e,t){void 0===t&&(t={});var n="rtl"===t.writingDirection,r=function(e,t){void 0===t&&(t={});var n=t,r=n.writingDirection,i=p(n,He),o="rtl"===r;return We.P.factory({transform(e){var t=Ke.get(e);return null!=t?(0,Me.n)(t,o):qe(e,a(a({},Qe),i))}})(e)}(e,t);return Array.isArray(r)&&null!=r[1]&&(r[1]=function(e,t){var n=e||Z,r={},i={},o=function(){var e=n[s],o=s,a=e;if(!Object.prototype.hasOwnProperty.call(n,s)||null==e)return"continue";be.indexOf(s)>-1&&("start"===e?a=t?"right":"left":"end"===e&&(a=t?"left":"right"));var l=ve[s];if(null!=l&&(o=t?ye[l]:l),"transitionProperty"===s){var u=Array.isArray(e)?e:[e];u.forEach(((e,n)=>{if("string"===typeof e){var r=ve[e];null!=r&&(u[n]=t?ye[r]:r,a=u.join(" "))}}))}r[o]||(i[o]=a),o===s&&(r[o]=!0)};for(var s in n)o();return D(i,!0)}(r[1],n)),r}tt.absoluteFill=Ze,tt.absoluteFillObject=Je,tt.create=et,tt.compose=function(e,t){return[e,t]},tt.flatten=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.flat(1/0),i={},o=0;o<r.length;o++){var s=r[o];null!=s&&"object"===typeof s&&Object.assign(i,s)}return i},tt.getSheet=function(){return{id:Ge.id,textContent:Ge.getTextContent()}},tt.hairlineWidth=1,k&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle=tt.flatten);const nt=tt;var rt={adjustable:"slider",button:"button",header:"heading",image:"img",imagebutton:null,keyboardkey:null,label:null,link:"link",none:"presentation",search:"search",summary:"region",text:null};const it=e=>{var t=e.accessibilityRole,n=e.role||t;if(n){var r=rt[n];if(null!==r)return r||n}};var ot={article:"article",banner:"header",blockquote:"blockquote",button:"button",code:"code",complementary:"aside",contentinfo:"footer",deletion:"del",emphasis:"em",figure:"figure",insertion:"ins",form:"form",list:"ul",listitem:"li",main:"main",navigation:"nav",paragraph:"p",region:"section",strong:"strong"},st={};const at={isDisabled:e=>e.disabled||Array.isArray(e.accessibilityStates)&&e.accessibilityStates.indexOf("disabled")>-1,propsToAccessibilityComponent:function(e){if(void 0===e&&(e=st),"label"===(e.role||e.accessibilityRole))return"label";var t=it(e);if(t){if("heading"===t){var n=e.accessibilityLevel||e["aria-level"];return null!=n?"h"+n:"h1"}return ot[t]}},propsToAriaRole:it};var lt=["aria-activedescendant","accessibilityActiveDescendant","aria-atomic","accessibilityAtomic","aria-autocomplete","accessibilityAutoComplete","aria-busy","accessibilityBusy","aria-checked","accessibilityChecked","aria-colcount","accessibilityColumnCount","aria-colindex","accessibilityColumnIndex","aria-colspan","accessibilityColumnSpan","aria-controls","accessibilityControls","aria-current","accessibilityCurrent","aria-describedby","accessibilityDescribedBy","aria-details","accessibilityDetails","aria-disabled","accessibilityDisabled","aria-errormessage","accessibilityErrorMessage","aria-expanded","accessibilityExpanded","aria-flowto","accessibilityFlowTo","aria-haspopup","accessibilityHasPopup","aria-hidden","accessibilityHidden","aria-invalid","accessibilityInvalid","aria-keyshortcuts","accessibilityKeyShortcuts","aria-label","accessibilityLabel","aria-labelledby","accessibilityLabelledBy","aria-level","accessibilityLevel","aria-live","accessibilityLiveRegion","aria-modal","accessibilityModal","aria-multiline","accessibilityMultiline","aria-multiselectable","accessibilityMultiSelectable","aria-orientation","accessibilityOrientation","aria-owns","accessibilityOwns","aria-placeholder","accessibilityPlaceholder","aria-posinset","accessibilityPosInSet","aria-pressed","accessibilityPressed","aria-readonly","accessibilityReadOnly","aria-required","accessibilityRequired","role","accessibilityRole","aria-roledescription","accessibilityRoleDescription","aria-rowcount","accessibilityRowCount","aria-rowindex","accessibilityRowIndex","aria-rowspan","accessibilityRowSpan","aria-selected","accessibilitySelected","aria-setsize","accessibilitySetSize","aria-sort","accessibilitySort","aria-valuemax","accessibilityValueMax","aria-valuemin","accessibilityValueMin","aria-valuenow","accessibilityValueNow","aria-valuetext","accessibilityValueText","dataSet","focusable","id","nativeID","pointerEvents","style","tabIndex","testID"],ut={},ct=Object.prototype.hasOwnProperty,dt=Array.isArray,ht=/[A-Z]/g;function ft(e){return"-"+e.toLowerCase()}function pt(e){return dt(e)?e.join(" "):e}var gt=nt.create({auto:{pointerEvents:"auto"},"box-none":{pointerEvents:"box-none"},"box-only":{pointerEvents:"box-only"},none:{pointerEvents:"none"}});const mt=(e,t,n)=>{t||(t=ut);var r=t,i=r["aria-activedescendant"],o=r.accessibilityActiveDescendant,s=r["aria-atomic"],l=r.accessibilityAtomic,u=r["aria-autocomplete"],c=r.accessibilityAutoComplete,d=r["aria-busy"],h=r.accessibilityBusy,f=r["aria-checked"],g=r.accessibilityChecked,m=r["aria-colcount"],y=r.accessibilityColumnCount,v=r["aria-colindex"],b=r.accessibilityColumnIndex,w=r["aria-colspan"],S=r.accessibilityColumnSpan,E=r["aria-controls"],T=r.accessibilityControls,x=r["aria-current"],k=r.accessibilityCurrent,C=r["aria-describedby"],I=r.accessibilityDescribedBy,_=r["aria-details"],R=r.accessibilityDetails,D=r["aria-disabled"],A=r.accessibilityDisabled,N=r["aria-errormessage"],P=r.accessibilityErrorMessage,O=r["aria-expanded"],M=r.accessibilityExpanded,L=r["aria-flowto"],F=r.accessibilityFlowTo,B=r["aria-haspopup"],z=r.accessibilityHasPopup,V=r["aria-hidden"],j=r.accessibilityHidden,U=r["aria-invalid"],$=r.accessibilityInvalid,q=r["aria-keyshortcuts"],W=r.accessibilityKeyShortcuts,H=r["aria-label"],K=r.accessibilityLabel,G=r["aria-labelledby"],Q=r.accessibilityLabelledBy,Y=r["aria-level"],X=r.accessibilityLevel,J=r["aria-live"],Z=r.accessibilityLiveRegion,ee=r["aria-modal"],te=r.accessibilityModal,ne=r["aria-multiline"],re=r.accessibilityMultiline,ie=r["aria-multiselectable"],oe=r.accessibilityMultiSelectable,se=r["aria-orientation"],ae=r.accessibilityOrientation,le=r["aria-owns"],ue=r.accessibilityOwns,ce=r["aria-placeholder"],de=r.accessibilityPlaceholder,he=r["aria-posinset"],fe=r.accessibilityPosInSet,pe=r["aria-pressed"],ge=r.accessibilityPressed,me=r["aria-readonly"],ye=r.accessibilityReadOnly,ve=r["aria-required"],be=r.accessibilityRequired,we=(r.role,r.accessibilityRole,r["aria-roledescription"]),Se=r.accessibilityRoleDescription,Ee=r["aria-rowcount"],Te=r.accessibilityRowCount,xe=r["aria-rowindex"],ke=r.accessibilityRowIndex,Ce=r["aria-rowspan"],Ie=r.accessibilityRowSpan,_e=r["aria-selected"],Re=r.accessibilitySelected,De=r["aria-setsize"],Ae=r.accessibilitySetSize,Ne=r["aria-sort"],Pe=r.accessibilitySort,Oe=r["aria-valuemax"],Me=r.accessibilityValueMax,Fe=r["aria-valuemin"],Be=r.accessibilityValueMin,ze=r["aria-valuenow"],Ve=r.accessibilityValueNow,je=r["aria-valuetext"],Ue=r.accessibilityValueText,$e=r.dataSet,qe=r.focusable,We=r.id,He=r.nativeID,Ke=r.pointerEvents,Ge=r.style,Qe=r.tabIndex,Ye=r.testID,Xe=p(r,lt),Je=D||A,Ze=at.propsToAriaRole(t),et=null!=i?i:o;null!=et&&(Xe["aria-activedescendant"]=et);var tt=null!=s?i:l;null!=tt&&(Xe["aria-atomic"]=tt);var rt=null!=u?u:c;null!=rt&&(Xe["aria-autocomplete"]=rt);var it=null!=d?d:h;null!=it&&(Xe["aria-busy"]=it);var ot=null!=f?f:g;null!=ot&&(Xe["aria-checked"]=ot);var st=null!=m?m:y;null!=st&&(Xe["aria-colcount"]=st);var dt=null!=v?v:b;null!=dt&&(Xe["aria-colindex"]=dt);var mt=null!=w?w:S;null!=mt&&(Xe["aria-colspan"]=mt);var yt=null!=E?E:T;null!=yt&&(Xe["aria-controls"]=pt(yt));var vt=null!=x?x:k;null!=vt&&(Xe["aria-current"]=vt);var bt=null!=C?C:I;null!=bt&&(Xe["aria-describedby"]=pt(bt));var wt=null!=_?_:R;null!=wt&&(Xe["aria-details"]=wt),!0===Je&&(Xe["aria-disabled"]=!0,"button"!==e&&"form"!==e&&"input"!==e&&"select"!==e&&"textarea"!==e||(Xe.disabled=!0));var St=null!=N?N:P;null!=St&&(Xe["aria-errormessage"]=St);var Et=null!=O?O:M;null!=Et&&(Xe["aria-expanded"]=Et);var Tt=null!=L?L:F;null!=Tt&&(Xe["aria-flowto"]=pt(Tt));var xt=null!=B?B:z;null!=xt&&(Xe["aria-haspopup"]=xt);var kt=null!=V?V:j;!0===kt&&(Xe["aria-hidden"]=kt);var Ct=null!=U?U:$;null!=Ct&&(Xe["aria-invalid"]=Ct);var It=null!=q?q:W;null!=It&&(Xe["aria-keyshortcuts"]=pt(It));var _t=null!=H?H:K;null!=_t&&(Xe["aria-label"]=_t);var Rt=null!=G?G:Q;null!=Rt&&(Xe["aria-labelledby"]=pt(Rt));var Dt=null!=Y?Y:X;null!=Dt&&(Xe["aria-level"]=Dt);var At=null!=J?J:Z;null!=At&&(Xe["aria-live"]="none"===At?"off":At);var Nt=null!=ee?ee:te;null!=Nt&&(Xe["aria-modal"]=Nt);var Pt=null!=ne?ne:re;null!=Pt&&(Xe["aria-multiline"]=Pt);var Ot=null!=ie?ie:oe;null!=Ot&&(Xe["aria-multiselectable"]=Ot);var Mt=null!=se?se:ae;null!=Mt&&(Xe["aria-orientation"]=Mt);var Lt=null!=le?le:ue;null!=Lt&&(Xe["aria-owns"]=pt(Lt));var Ft=null!=ce?ce:de;null!=Ft&&(Xe["aria-placeholder"]=Ft);var Bt=null!=he?he:fe;null!=Bt&&(Xe["aria-posinset"]=Bt);var zt=null!=pe?pe:ge;null!=zt&&(Xe["aria-pressed"]=zt);var Vt=null!=me?me:ye;null!=Vt&&(Xe["aria-readonly"]=Vt,"input"!==e&&"select"!==e&&"textarea"!==e||(Xe.readOnly=!0));var jt=null!=ve?ve:be;null!=jt&&(Xe["aria-required"]=jt,"input"!==e&&"select"!==e&&"textarea"!==e||(Xe.required=be)),null!=Ze&&(Xe.role="none"===Ze?"presentation":Ze);var Ut=null!=we?we:Se;null!=Ut&&(Xe["aria-roledescription"]=Ut);var $t=null!=Ee?Ee:Te;null!=$t&&(Xe["aria-rowcount"]=$t);var qt=null!=xe?xe:ke;null!=qt&&(Xe["aria-rowindex"]=qt);var Wt=null!=Ce?Ce:Ie;null!=Wt&&(Xe["aria-rowspan"]=Wt);var Ht=null!=_e?_e:Re;null!=Ht&&(Xe["aria-selected"]=Ht);var Kt=null!=De?De:Ae;null!=Kt&&(Xe["aria-setsize"]=Kt);var Gt=null!=Ne?Ne:Pe;null!=Gt&&(Xe["aria-sort"]=Gt);var Qt=null!=Oe?Oe:Me;null!=Qt&&(Xe["aria-valuemax"]=Qt);var Yt=null!=Fe?Fe:Be;null!=Yt&&(Xe["aria-valuemin"]=Yt);var Xt=null!=ze?ze:Ve;null!=Xt&&(Xe["aria-valuenow"]=Xt);var Jt=null!=je?je:Ue;if(null!=Jt&&(Xe["aria-valuetext"]=Jt),null!=$e)for(var Zt in $e)if(ct.call($e,Zt)){var en=Zt.replace(ht,ft),tn=$e[Zt];null!=tn&&(Xe["data-"+en]=tn)}0===Qe||"0"===Qe||-1===Qe||"-1"===Qe?Xe.tabIndex=Qe:(!1===qe&&(Xe.tabIndex="-1"),"a"===e||"button"===e||"input"===e||"select"===e||"textarea"===e?!1!==qe&&!0!==A||(Xe.tabIndex="-1"):"button"===Ze||"checkbox"===Ze||"link"===Ze||"radio"===Ze||"textbox"===Ze||"switch"===Ze?!1!==qe&&(Xe.tabIndex="0"):!0===qe&&(Xe.tabIndex="0")),null!=Ke&&Le();var nn=nt([Ge,Ke&&gt[Ke]],a({writingDirection:"ltr"},n)),rn=nn[0],on=nn[1];rn&&(Xe.className=rn),on&&(Xe.style=on);var sn=null!=We?We:He;return null!=sn&&(Xe.id=sn),null!=Ye&&(Xe["data-testid"]=Ye),null==Xe.type&&"button"===e&&(Xe.type="button"),Xe};var yt=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),vt=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","far","glk","he","iw","khw","ks","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]),bt=new Map;var wt={direction:"ltr",locale:"en-US"},St=(0,f.createContext)(wt);function Et(e){return function(e){var t=bt.get(e);if(t)return t;var n=!1;if(Intl.Locale)try{var r=new Intl.Locale(e).maximize().script;n=yt.has(r)}catch(s){var i=e.split("-")[0];n=vt.has(i)}else{var o=e.split("-")[0];n=vt.has(o)}return bt.set(e,n),n}(e)?"rtl":"ltr"}function Tt(e){var t=e.direction,n=e.locale,r=e.children;return t||n?f.createElement(St.Provider,{children:r,value:{direction:n?Et(n):t,locale:n}}):r}function xt(){return(0,f.useContext)(St)}const kt=(e,t,n)=>{var r;e&&e.constructor===String&&(r=at.propsToAccessibilityComponent(t));var i=r||e,o=mt(i,t,n),s=f.createElement(i,o);return o.dir?f.createElement(Tt,{children:s,direction:o.dir,locale:o.lang}):s};var Ct={children:!0,dataSet:!0,dir:!0,id:!0,ref:!0,suppressHydrationWarning:!0,tabIndex:!0,testID:!0,focusable:!0,nativeID:!0},It={"aria-activedescendant":!0,"aria-atomic":!0,"aria-autocomplete":!0,"aria-busy":!0,"aria-checked":!0,"aria-colcount":!0,"aria-colindex":!0,"aria-colspan":!0,"aria-controls":!0,"aria-current":!0,"aria-describedby":!0,"aria-details":!0,"aria-disabled":!0,"aria-errormessage":!0,"aria-expanded":!0,"aria-flowto":!0,"aria-haspopup":!0,"aria-hidden":!0,"aria-invalid":!0,"aria-keyshortcuts":!0,"aria-label":!0,"aria-labelledby":!0,"aria-level":!0,"aria-live":!0,"aria-modal":!0,"aria-multiline":!0,"aria-multiselectable":!0,"aria-orientation":!0,"aria-owns":!0,"aria-placeholder":!0,"aria-posinset":!0,"aria-pressed":!0,"aria-readonly":!0,"aria-required":!0,role:!0,"aria-roledescription":!0,"aria-rowcount":!0,"aria-rowindex":!0,"aria-rowspan":!0,"aria-selected":!0,"aria-setsize":!0,"aria-sort":!0,"aria-valuemax":!0,"aria-valuemin":!0,"aria-valuenow":!0,"aria-valuetext":!0,accessibilityActiveDescendant:!0,accessibilityAtomic:!0,accessibilityAutoComplete:!0,accessibilityBusy:!0,accessibilityChecked:!0,accessibilityColumnCount:!0,accessibilityColumnIndex:!0,accessibilityColumnSpan:!0,accessibilityControls:!0,accessibilityCurrent:!0,accessibilityDescribedBy:!0,accessibilityDetails:!0,accessibilityDisabled:!0,accessibilityErrorMessage:!0,accessibilityExpanded:!0,accessibilityFlowTo:!0,accessibilityHasPopup:!0,accessibilityHidden:!0,accessibilityInvalid:!0,accessibilityKeyShortcuts:!0,accessibilityLabel:!0,accessibilityLabelledBy:!0,accessibilityLevel:!0,accessibilityLiveRegion:!0,accessibilityModal:!0,accessibilityMultiline:!0,accessibilityMultiSelectable:!0,accessibilityOrientation:!0,accessibilityOwns:!0,accessibilityPlaceholder:!0,accessibilityPosInSet:!0,accessibilityPressed:!0,accessibilityReadOnly:!0,accessibilityRequired:!0,accessibilityRole:!0,accessibilityRoleDescription:!0,accessibilityRowCount:!0,accessibilityRowIndex:!0,accessibilityRowSpan:!0,accessibilitySelected:!0,accessibilitySetSize:!0,accessibilitySort:!0,accessibilityValueMax:!0,accessibilityValueMin:!0,accessibilityValueNow:!0,accessibilityValueText:!0},_t={onClick:!0,onAuxClick:!0,onContextMenu:!0,onGotPointerCapture:!0,onLostPointerCapture:!0,onPointerCancel:!0,onPointerDown:!0,onPointerEnter:!0,onPointerMove:!0,onPointerLeave:!0,onPointerOut:!0,onPointerOver:!0,onPointerUp:!0},Rt={onBlur:!0,onFocus:!0},Dt={onKeyDown:!0,onKeyDownCapture:!0,onKeyUp:!0,onKeyUpCapture:!0},At={onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0},Nt={onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0},Pt={style:!0};function Ot(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&!0===t[r]&&(n[r]=e[r]);return n}const Mt=k?f.useLayoutEffect:f.useEffect;const Lt=e=>{if(null!=e&&(1===e.nodeType&&"function"===typeof e.getBoundingClientRect))return e.getBoundingClientRect()};var Ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},Bt=["ms","Moz","O","Webkit"];Object.keys(Ft).forEach((e=>{Bt.forEach((t=>{Ft[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(t,e)]=Ft[e]}))}));const zt=Ft;const Vt=function(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||zt.hasOwnProperty(e)&&zt[e]?(""+t).trim():t+"px"};const jt=function(e,t){var n=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=0===r.indexOf("--"),o=Vt(r,t[r],i);"float"===r&&(r="cssFloat"),i?n.setProperty(r,o):n[r]=o}};var Ut=e=>{var t=e.offsetHeight,n=e.offsetWidth,r=e.offsetLeft,i=e.offsetTop;for(e=e.offsetParent;e&&1===e.nodeType;)r+=e.offsetLeft+e.clientLeft-e.scrollLeft,i+=e.offsetTop+e.clientTop-e.scrollTop,e=e.offsetParent;return{width:n,height:t,top:i-=window.scrollY,left:r-=window.scrollX}},$t=(e,t,n)=>{var r=t||e&&e.parentNode;e&&r&&setTimeout((()=>{if(e.isConnected&&r.isConnected){var t=Ut(r),i=Ut(e),o=i.height,s=i.left,a=i.top,l=i.width,u=s-t.left,c=a-t.top;n(u,c,l,o,s,a)}}),0)},qt={A:!0,BODY:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0},Wt={blur(e){try{e.blur()}catch(t){}},focus(e){try{var t=e.nodeName;null==e.getAttribute("tabIndex")&&!0!==e.isContentEditable&&null==qt[t]&&e.setAttribute("tabIndex","-1"),e.focus()}catch(n){}},measure(e,t){$t(e,null,t)},measureInWindow(e,t){e&&setTimeout((()=>{var n=Lt(e),r=n.height,i=n.left,o=n.top,s=n.width;t(i,o,s,r)}),0)},measureLayout(e,t,n,r){$t(e,t,r)},updateView(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];switch(n){case"style":jt(e,r);break;case"class":case"className":e.setAttribute("class",r);break;case"text":case"value":e.value=r;break;default:e.setAttribute(n,r)}}},configureNextLayoutAnimation(e,t){t()},setLayoutAnimationEnabledExperimental(){}};const Ht=Wt;var Kt="__reactLayoutHandler",Gt=null;function Qt(e,t){var n=(k&&"undefined"!==typeof window.ResizeObserver&&null==Gt&&(Gt=new window.ResizeObserver((function(e){e.forEach((e=>{var t=e.target,n=t[Kt];"function"===typeof n&&Ht.measure(t,((t,r,i,o,s,a)=>{var l={nativeEvent:{layout:{x:t,y:r,width:i,height:o,left:s,top:a}},timeStamp:Date.now()};Object.defineProperty(l.nativeEvent,"target",{enumerable:!0,get:()=>e.target}),n(l)}))}))}))),Gt);Mt((()=>{var n=e.current;null!=n&&(n[Kt]=t)}),[e,t]),Mt((()=>{var t=e.current;return null!=t&&null!=n&&("function"===typeof t[Kt]?n.observe(t):n.unobserve(t)),()=>{null!=t&&null!=n&&n.unobserve(t)}}),[e,n])}function Yt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((t=>{null!=t&&("function"!==typeof t?"object"!==typeof t?console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(t)):t.current=e:t(e))}))}}function Xt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo((()=>Yt(...t)),[...t])}var Jt="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol():Object.freeze({});function Zt(e){e.pointerEvents,e.style;return function(e){var t=f.useRef(Jt);return t.current===Jt&&(t.current=e()),t.current}((()=>e=>{null!=e&&(e.measure=t=>Ht.measure(e,t),e.measureLayout=(t,n,r)=>Ht.measureLayout(e,t,r,n),e.measureInWindow=t=>Ht.measureInWindow(e,t))}))}var en=()=>{},tn={},nn=[];function rn(e){return e>20?e%20:e}function on(e,t){var n,r,i,o=!1,s=e.changedTouches,a=e.type,l=!0===e.metaKey,u=!0===e.shiftKey,c=s&&s[0].force||0,d=rn(s&&s[0].identifier||0),h=s&&s[0].clientX||e.clientX,f=s&&s[0].clientY||e.clientY,p=s&&s[0].pageX||e.pageX,g=s&&s[0].pageY||e.pageY,m="function"===typeof e.preventDefault?e.preventDefault.bind(e):en,y=e.timeStamp;function v(e){return Array.prototype.slice.call(e).map((e=>({force:e.force,identifier:rn(e.identifier),get locationX(){return S(e.clientX)},get locationY(){return E(e.clientY)},pageX:e.pageX,pageY:e.pageY,target:e.target,timestamp:y})))}if(null!=s)r=v(s),i=v(e.touches);else{var b=[{force:c,identifier:d,get locationX(){return S(h)},get locationY(){return E(f)},pageX:p,pageY:g,target:e.target,timestamp:y}];r=b,i="mouseup"===a||"dragstart"===a?nn:b}var w={bubbles:!0,cancelable:!0,currentTarget:null,defaultPrevented:e.defaultPrevented,dispatchConfig:tn,eventPhase:e.eventPhase,isDefaultPrevented:()=>e.defaultPrevented,isPropagationStopped:()=>o,isTrusted:e.isTrusted,nativeEvent:{altKey:!1,ctrlKey:!1,metaKey:l,shiftKey:u,changedTouches:r,force:c,identifier:d,get locationX(){return S(h)},get locationY(){return E(f)},pageX:p,pageY:g,target:e.target,timestamp:y,touches:i,type:a},persist:en,preventDefault:m,stopPropagation(){o=!0},target:e.target,timeStamp:y,touchHistory:t.touchHistory};function S(e){if(n=n||Lt(w.currentTarget))return e-n.left}function E(e){if(n=n||Lt(w.currentTarget))return e-n.top}return w}function sn(e){return"touchstart"===e||"mousedown"===e}function an(e){return"touchmove"===e||"mousemove"===e}function ln(e){return"touchend"===e||"mouseup"===e||un(e)}function un(e){return"touchcancel"===e||"dragstart"===e}var cn="__reactResponderId";function dn(e){for(var t=[];null!=e&&e!==document.body;)t.push(e),e=e.parentNode;return t}function hn(e){return null!=e?e[cn]:null}function fn(e){for(var t=[],n=[],r=function(e){return"selectionchange"===e.type?dn(window.getSelection().anchorNode):null!=e.composedPath?e.composedPath():dn(e.target)}(e),i=0;i<r.length;i++){var o=r[i],s=hn(o);null!=s&&(t.push(s),n.push(o))}return{idPath:t,nodePath:n}}function pn(e){return"selectionchange"===e.type?function(){var e=window.getSelection(),t=e.toString(),n=e.anchorNode,r=e.focusNode,i=n&&n.nodeType===window.Node.TEXT_NODE||r&&r.nodeType===window.Node.TEXT_NODE;return t.length>=1&&"\n"!==t&&i}():"select"===e.type}function gn(e){return e.timeStamp||e.timestamp}function mn(e){var t=e.identifier;return null==t&&console.error("Touch object is missing identifier."),t}function yn(e,t){var n=mn(e),r=t.touchBank[n];r?function(e,t){e.touchActive=!0,e.startPageX=t.pageX,e.startPageY=t.pageY,e.startTimeStamp=gn(t),e.currentPageX=t.pageX,e.currentPageY=t.pageY,e.currentTimeStamp=gn(t),e.previousPageX=t.pageX,e.previousPageY=t.pageY,e.previousTimeStamp=gn(t)}(r,e):t.touchBank[n]=function(e){return{touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:gn(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:gn(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:gn(e)}}(e),t.mostRecentTimeStamp=gn(e)}function vn(e){return JSON.stringify({identifier:e.identifier,pageX:e.pageX,pageY:e.pageY,timestamp:gn(e)})}function bn(e){var t=e.touchBank,n=JSON.stringify(t.slice(0,20));return t.length>20&&(n+=" (original size: "+t.length+")"),n}var wn={},Sn=["onStartShouldSetResponderCapture","onStartShouldSetResponder",{bubbles:!0}],En=["onMoveShouldSetResponderCapture","onMoveShouldSetResponder",{bubbles:!0}],Tn={touchstart:Sn,mousedown:Sn,touchmove:En,mousemove:En,scroll:["onScrollShouldSetResponderCapture","onScrollShouldSetResponder",{bubbles:!1}]},xn={id:null,idPath:null,node:null},kn=new Map,Cn=!1,In=0,_n={id:null,node:null,idPath:null},Rn=new class{constructor(){this._touchHistory={touchBank:[],numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0}}recordTouchTrack(e,t){var n=this._touchHistory;if(an(e))t.changedTouches.forEach((e=>function(e,t){var n=t.touchBank[mn(e)];n?(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=gn(e),t.mostRecentTimeStamp=gn(e)):console.warn("Cannot record touch move without a touch start.\n","Touch Move: "+vn(e)+"\n","Touch Bank: "+bn(t))}(e,n)));else if(sn(e))t.changedTouches.forEach((e=>yn(e,n))),n.numberActiveTouches=t.touches.length,1===n.numberActiveTouches&&(n.indexOfSingleActiveTouch=t.touches[0].identifier);else if(ln(e)&&(t.changedTouches.forEach((e=>function(e,t){var n=t.touchBank[mn(e)];n?(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=gn(e),t.mostRecentTimeStamp=gn(e)):console.warn("Cannot record touch end without a touch start.\n","Touch End: "+vn(e)+"\n","Touch Bank: "+bn(t))}(e,n))),n.numberActiveTouches=t.touches.length,1===n.numberActiveTouches))for(var r=n.touchBank,i=0;i<r.length;i++){var o=r[i];if(null!=o&&o.touchActive){n.indexOfSingleActiveTouch=i;break}}}get touchHistory(){return this._touchHistory}};function Dn(e){_n=e}function An(e){var t=kn.get(e);return null!=t?t:wn}function Nn(e){var t=e.type,n=e.target;if("touchstart"===t&&(Cn=!0),("touchmove"===t||In>1)&&(Cn=!1),!("mousedown"===t&&Cn||"mousemove"===t&&Cn||"mousemove"===t&&In<1))if(Cn&&"mouseup"===t)0===In&&(Cn=!1);else{var r=sn(t)&&function(e){var t=e.altKey,n=e.button,r=e.buttons,i=e.ctrlKey,o=e.type,s=!1===t&&!1===i;return!!("touchstart"===o||"touchmove"===o||"mousedown"===o&&(0===n||1===r)&&s||"mousemove"===o&&1===r&&s)}(e),i=an(t),o=ln(t),s=function(e){return"scroll"===e}(t),a=function(e){return"select"===e||"selectionchange"===e}(t),l=on(e,Rn);(r||i||o)&&(e.touches?In=e.touches.length:r?In=1:o&&(In=0),Rn.recordTouchTrack(t,l.nativeEvent));var u,c=fn(e),d=!1;if(r||i||s&&In>0){var h=_n.idPath,f=c.idPath;if(null!=h&&null!=f){var p=function(e,t){var n=e.length,r=t.length;if(0===n||0===r||e[n-1]!==t[r-1])return null;var i=e[0],o=0,s=t[0],a=0;n-r>0&&(i=e[o=n-r],n=r),r-n>0&&(s=t[a=r-n],r=n);for(var l=n;l--;){if(i===s)return i;i=e[o++],s=t[a++]}return null}(h,f);if(null!=p){var g=f.indexOf(p)+(p===_n.id?1:0);c={idPath:f.slice(g),nodePath:c.nodePath.slice(g)}}else c=null}null!=c&&(u=function(e,t,n){var r=Tn[t.type];if(null!=r){for(var i=e.idPath,o=e.nodePath,s=r[0],a=r[1],l=r[2].bubbles,u=function(e,t,r){var o=An(e)[r];if(null!=o&&(n.currentTarget=t,!0===o(n)))return{id:e,node:t,idPath:i.slice(i.indexOf(e))}},c=i.length-1;c>=0;c--){var d=u(i[c],o[c],s);if(null!=d)return d;if(!0===n.isPropagationStopped())return}if(l)for(var h=0;h<i.length;h++){var f=u(i[h],o[h],a);if(null!=f)return f;if(!0===n.isPropagationStopped())return}else{var p=i[0],g=o[0];if(t.target===g)return u(p,g,a)}}}(c,e,l),null!=u&&(!function(e,t){var n=_n,r=n.id,i=n.node,o=t.id,s=t.node,a=An(o),l=a.onResponderGrant,u=a.onResponderReject;if(e.bubbles=!1,e.cancelable=!1,e.currentTarget=s,null==r)null!=l&&(e.currentTarget=s,e.dispatchConfig.registrationName="onResponderGrant",l(e)),Dn(t);else{var c=An(r),d=c.onResponderTerminate,h=c.onResponderTerminationRequest,f=!0;null!=h&&(e.currentTarget=i,e.dispatchConfig.registrationName="onResponderTerminationRequest",!1===h(e)&&(f=!1)),f?(null!=d&&(e.currentTarget=i,e.dispatchConfig.registrationName="onResponderTerminate",d(e)),null!=l&&(e.currentTarget=s,e.dispatchConfig.registrationName="onResponderGrant",l(e)),Dn(t)):null!=u&&(e.currentTarget=s,e.dispatchConfig.registrationName="onResponderReject",u(e))}}(l,u),d=!0))}if(null!=_n.id&&null!=_n.node){var m=_n,y=m.id,v=m.node,b=An(y),w=b.onResponderStart,S=b.onResponderMove,E=b.onResponderEnd,T=b.onResponderRelease,x=b.onResponderTerminate,k=b.onResponderTerminationRequest;if(l.bubbles=!1,l.cancelable=!1,l.currentTarget=v,r)null!=w&&(l.dispatchConfig.registrationName="onResponderStart",w(l));else if(i)null!=S&&(l.dispatchConfig.registrationName="onResponderMove",S(l));else{var C=un(t)||"contextmenu"===t||"blur"===t&&n===window||"blur"===t&&n.contains(v)&&e.relatedTarget!==v||s&&0===In||s&&n.contains(v)&&n!==v||a&&pn(e),I=o&&!C&&!function(e,t){if(!t||0===t.length)return!1;for(var n=0;n<t.length;n++){var r=t[n].target;if(null!=r&&e.contains(r))return!0}return!1}(v,e.touches);if(o&&null!=E&&(l.dispatchConfig.registrationName="onResponderEnd",E(l)),I&&(null!=T&&(l.dispatchConfig.registrationName="onResponderRelease",T(l)),Dn(xn)),C){var _=!0;"contextmenu"!==t&&"scroll"!==t&&"selectionchange"!==t||(d?_=!1:null!=k&&(l.dispatchConfig.registrationName="onResponderTerminationRequest",!1===k(l)&&(_=!1))),_&&(null!=x&&(l.dispatchConfig.registrationName="onResponderTerminate",x(l)),Dn(xn),Cn=!1,In=0)}}}}}var Pn=["blur","scroll"],On=["mousedown","mousemove","mouseup","dragstart","touchstart","touchmove","touchend","touchcancel","contextmenu","select","selectionchange"];function Mn(e,t,n){!function(e,t){null!=e&&(e[cn]=t)}(t,e),kn.set(e,n)}function Ln(e){_n.id===e&&function(){var e=_n,t=e.id,n=e.node;if(null!=t&&null!=n){var r=An(t).onResponderTerminate;if(null!=r){var i=on({},Rn);i.currentTarget=n,r(i)}Dn(xn)}Cn=!1,In=0}(),kn.has(e)&&kn.delete(e)}var Fn={},Bn=0;function zn(e,t){void 0===t&&(t=Fn);var n=function(e){var t=f.useRef(null);return null==t.current&&(t.current=e()),t.current}((()=>Bn++)),r=f.useRef(!1);f.useEffect((()=>(k&&null==window.__reactResponderSystemActive&&(window.addEventListener("blur",Nn),On.forEach((e=>{document.addEventListener(e,Nn)})),Pn.forEach((e=>{document.addEventListener(e,Nn,!0)})),window.__reactResponderSystemActive=!0),()=>{Ln(n)})),[n]),f.useEffect((()=>{var i=t,o=i.onMoveShouldSetResponder,s=i.onMoveShouldSetResponderCapture,a=i.onScrollShouldSetResponder,l=i.onScrollShouldSetResponderCapture,u=i.onSelectionChangeShouldSetResponder,c=i.onSelectionChangeShouldSetResponderCapture,d=i.onStartShouldSetResponder,h=i.onStartShouldSetResponderCapture,f=null!=o||null!=s||null!=a||null!=l||null!=u||null!=c||null!=d||null!=h,p=e.current;f?(Mn(n,p,t),r.current=!0):r.current&&(Ln(n),r.current=!1)}),[t,e,n]),f.useDebugValue({isResponder:e.current===_n.node}),f.useDebugValue(t)}const Vn=(0,f.createContext)(!1);var jn=["hrefAttrs","onLayout","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture"],Un=Object.assign({},Ct,It,_t,Rt,Dt,At,Nt,Pt,{href:!0,lang:!0,onScroll:!0,onWheel:!0,pointerEvents:!0}),$n=f.forwardRef(((e,t)=>{var n=e.hrefAttrs,r=e.onLayout,i=e.onMoveShouldSetResponder,o=e.onMoveShouldSetResponderCapture,s=e.onResponderEnd,a=e.onResponderGrant,l=e.onResponderMove,u=e.onResponderReject,c=e.onResponderRelease,d=e.onResponderStart,h=e.onResponderTerminate,g=e.onResponderTerminationRequest,m=e.onScrollShouldSetResponder,y=e.onScrollShouldSetResponderCapture,v=e.onSelectionChangeShouldSetResponder,b=e.onSelectionChangeShouldSetResponderCapture,w=e.onStartShouldSetResponder,S=e.onStartShouldSetResponderCapture,E=p(e,jn);var T=f.useContext(Vn),x=f.useRef(null),k=xt().direction;Qt(x,r),zn(x,{onMoveShouldSetResponder:i,onMoveShouldSetResponderCapture:o,onResponderEnd:s,onResponderGrant:a,onResponderMove:l,onResponderReject:u,onResponderRelease:c,onResponderStart:d,onResponderTerminate:h,onResponderTerminationRequest:g,onScrollShouldSetResponder:m,onScrollShouldSetResponderCapture:y,onSelectionChangeShouldSetResponder:v,onSelectionChangeShouldSetResponderCapture:b,onStartShouldSetResponder:w,onStartShouldSetResponderCapture:S});var C="div",I=null!=e.lang?Et(e.lang):null,_=e.dir||I,R=_||k,D=(e=>Ot(e,Un))(E);if(D.dir=_,D.style=[qn.view$raw,T&&qn.inline,e.style],null!=e.href&&(C="a",null!=n)){var A=n.download,N=n.rel,P=n.target;null!=A&&(D.download=A),null!=N&&(D.rel=N),"string"===typeof P&&(D.target="_"!==P.charAt(0)?"_"+P:P)}var O=Xt(x,Zt(D),t);return D.ref=O,kt(C,D,{writingDirection:R})}));$n.displayName="View";var qn=nt.create({view$raw:{alignItems:"stretch",backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",flexShrink:0,listStyle:"none",margin:0,minHeight:0,minWidth:0,padding:0,position:"relative",textDecoration:"none",zIndex:0},inline:{display:"inline-flex"}});const Wn=$n;var Hn=f.createContext(null),Kn=f.forwardRef(((e,t)=>{var n=e.children,r=e.WrapperComponent,i=f.createElement(Wn,{children:n,key:1,style:Qn.appContainer});return r&&(i=f.createElement(r,null,i)),f.createElement(Hn.Provider,{value:e.rootTag},f.createElement(Wn,{ref:t,style:Qn.appContainer},i))}));Kn.displayName="AppContainer";const Gn=Kn;var Qn=nt.create({appContainer:{flex:1,pointerEvents:"box-none"}}),Yn=n(391);function Xn(e,t){return Oe(t),(0,Yn.c)(t,e)}function Jn(e,t){Oe(t);var n=(0,Yn.H)(t);return n.render(e),n}function Zn(e,t,n){return Oe(t),(0,c.hydrate)(e,t,n),{unmount:function(){return d(t)}}}function er(e,t,n){return Oe(t),(0,c.render)(e,t,n),{unmount:function(){return d(t)}}}var tr,nr={},rr={},ir=e=>e();class or{static getAppKeys(){return Object.keys(rr)}static getApplication(e,t){return u()(rr[e]&&rr[e].getApplication,"Application "+e+" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent."),rr[e].getApplication(t)}static registerComponent(e,t){return rr[e]={getApplication:e=>{return n=ir(t),r=e?e.initialProps:nr,i=tr&&tr(e),{element:f.createElement(Gn,{WrapperComponent:i,rootTag:{}},f.createElement(n,r)),getStyleElement:e=>{var t=nt.getSheet();return f.createElement("style",h({},e,{dangerouslySetInnerHTML:{__html:t.textContent},id:t.id}))}};var n,r,i},run:e=>function(e,t,n,r){var i=r.hydrate,o=r.initialProps,s=r.mode,a=r.rootTag,l=i?"concurrent"===s?Xn:Zn:"concurrent"===s?Jn:er;return u()(a,"Expect to have a valid rootTag, instead got ",a),l(f.createElement(Gn,{WrapperComponent:t,ref:n,rootTag:a},f.createElement(e,o)),a)}(ir(t),tr&&tr(e),e.callback,{hydrate:e.hydrate||!1,initialProps:e.initialProps||nr,mode:e.mode||"concurrent",rootTag:e.rootTag})},e}static registerConfig(e){e.forEach((e=>{var t=e.appKey,n=e.component,r=e.run;r?or.registerRunnable(t,r):(u()(n,"No component provider passed in"),or.registerComponent(t,n))}))}static registerRunnable(e,t){return rr[e]={run:t},e}static runApplication(e,t){return u()(rr[e]&&rr[e].run,'Application "'+e+'" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent.'),rr[e].run(t)}static setComponentProviderInstrumentationHook(e){ir=e}static setWrapperComponentProvider(e){tr=e}static unmountApplicationComponentAtRootTag(e){d(e)}}var sr={window:{fontScale:1,height:0,scale:1,width:0},screen:{fontScale:1,height:0,scale:1,width:0}},ar={},lr=k;function ur(){if(k){var e,t,n=window;if(n.visualViewport){var r=n.visualViewport;e=Math.round(r.height*r.scale),t=Math.round(r.width*r.scale)}else{var i=n.document.documentElement;e=i.clientHeight,t=i.clientWidth}sr.window={fontScale:1,height:e,scale:n.devicePixelRatio||1,width:t},sr.screen={fontScale:1,height:n.screen.height,scale:n.devicePixelRatio||1,width:n.screen.width}}}function cr(){ur(),Array.isArray(ar.change)&&ar.change.forEach((e=>e(sr)))}class dr{static get(e){return lr&&(lr=!1,ur()),u()(sr[e],"No dimension set for key "+e),sr[e]}static set(e){e&&(k?u()(!1,"Dimensions cannot be set in the browser"):(null!=e.screen&&(sr.screen=e.screen),null!=e.window&&(sr.window=e.window)))}static addEventListener(e,t){return ar[e]=ar[e]||[],ar[e].push(t),{remove:()=>{this.removeEventListener(e,t)}}}static removeEventListener(e,t){Array.isArray(ar[e])&&(ar[e]=ar[e].filter((e=>e!==t)))}}k&&(window.visualViewport?window.visualViewport.addEventListener("resize",cr,!1):window.addEventListener("resize",cr,!1));var hr=[];function fr(e){return hr[e-1]}var pr=/^data:/;class gr{static has(e){var t=gr._entries;return pr.test(e)||Boolean(t[e])}static add(e){var t=gr._entries,n=Date.now();t[e]?(t[e].lastUsedTimestamp=n,t[e].refCount+=1):t[e]={lastUsedTimestamp:n,refCount:1}}static remove(e){var t=gr._entries;t[e]&&(t[e].refCount-=1),gr._cleanUpIfNeeded()}static _cleanUpIfNeeded(){var e,t,n=gr._entries,r=Object.keys(n);r.length+1>gr._maximumEntries&&(r.forEach((r=>{var i=n[r];(!t||i.lastUsedTimestamp<t.lastUsedTimestamp)&&0===i.refCount&&(e=r,t=i)})),e&&delete n[e])}}gr._maximumEntries=256,gr._entries={};var mr=0,yr={},vr={abort(e){var t=yr[""+e];t&&(t.onerror=null,t.onload=null,t=null,delete yr[""+e])},getSize(e,t,n){var r=!1,i=setInterval(s,16),o=vr.load(e,s,(function(){"function"===typeof n&&n();vr.abort(o),clearInterval(i)}));function s(){var e=yr[""+o];if(e){var n=e.naturalHeight,s=e.naturalWidth;n&&s&&(t(s,n),r=!0)}r&&(vr.abort(o),clearInterval(i))}},has:e=>gr.has(e),load(e,t,n){mr+=1;var r=new window.Image;return r.onerror=n,r.onload=e=>{var n=()=>t({nativeEvent:e});"function"===typeof r.decode?r.decode().then(n,n):setTimeout(n,0)},r.src=e,yr[""+mr]=r,mr},prefetch:e=>new Promise(((t,n)=>{vr.load(e,(()=>{gr.add(e),gr.remove(e),t()}),n)})),queryCache(e){var t={};return e.forEach((e=>{gr.has(e)&&(t[e]="disk/memory")})),Promise.resolve(t)}};const br=vr;class wr{static get(){return dr.get("window").scale}static getFontScale(){return dr.get("window").fontScale||wr.get()}static getPixelSizeForLayoutSize(e){return Math.round(e*wr.get())}static roundToNearestPixel(e){var t=wr.get();return Math.round(e*t)/t}}var Sr=["aria-label","accessibilityLabel","blurRadius","defaultSource","draggable","onError","onLayout","onLoad","onLoadEnd","onLoadStart","pointerEvents","source","style"],Er="LOADED",Tr="LOADING",xr=0,kr=/^(data:image\/svg\+xml;utf8,)(.*)/;function Cr(e){var t=null;if("number"===typeof e){var n=fr(e);if(null==n)throw new Error('Image: asset with ID "'+e+'" could not be found. Please check the image source or packager.');var r=n.scales[0];if(n.scales.length>1){var i=wr.get();r=n.scales.reduce(((e,t)=>Math.abs(t-i)<Math.abs(e-i)?t:e))}var o=1!==r?"@"+r+"x":"";t=n?n.httpServerLocation+"/"+n.name+o+"."+n.type:""}else"string"===typeof e?t=e:e&&"string"===typeof e.uri&&(t=e.uri);if(t){var s=t.match(kr);if(s){var a=s[1],l=s[2];return""+a+encodeURIComponent(l)}}return t}var Ir=f.forwardRef(((e,t)=>{var n=e["aria-label"],r=e.accessibilityLabel,i=e.blurRadius,o=e.defaultSource,s=e.draggable,a=e.onError,l=e.onLayout,u=e.onLoad,c=e.onLoadEnd,d=e.onLoadStart,g=e.pointerEvents,m=e.source,y=e.style,v=p(e,Sr),b=n||r;var w=f.useState((()=>{var e=Cr(m);if(null!=e&&br.has(e))return Er;return"IDLE"})),S=w[0],E=w[1],T=f.useState({}),x=T[0],k=T[1],C=f.useContext(Vn),I=f.useRef(null),_=f.useRef(xr++),R=f.useRef(null),D=S===Er||S===Tr&&null==o,A=function(e,t,n,r){var i=nt.flatten(e),o=i.filter,s=i.resizeMode,a=i.shadowOffset,l=i.tintColor;i.resizeMode&&Le(),i.tintColor&&Le();var u=[],c=null;if(o&&u.push(o),t&&u.push("blur("+t+"px)"),a){var d=ze(i);d&&u.push("drop-shadow("+d+")")}return(r||l)&&null!=n&&u.push("url(#tint-"+n+")"),u.length>0&&(c=u.join(" ")),[s,c,l]}(y,i,_.current,e.tintColor),N=A[0],P=A[1],O=A[2],M=e.resizeMode||N||"cover",L=e.tintColor||O,F=D?m:o,B=Cr(F),z=function(e){if("number"===typeof e){var t=fr(e);return{height:t.height,width:t.width}}if(null!=e&&!Array.isArray(e)&&"object"===typeof e)return{height:e.height,width:e.width}}(F),V=B?'url("'+B+'")':null,j=function(){if(null!=I.current&&("center"===M||"repeat"===M)){var e=I.current,t=e.naturalHeight,n=e.naturalWidth,r=x.height,i=x.width;if(t&&n&&r&&i){var o=Math.min(1,i/n,r/t);return Math.ceil(o*n)+"px "+Math.ceil(o*t)+"px"}}}(),U=B?kt("img",{alt:b||"",style:Rr.accessibilityImage$raw,draggable:s||!1,ref:I,src:B}):null;var $=Cr(m);return f.useEffect((()=>{function e(){null!=R.current&&(br.abort(R.current),R.current=null)}return e(),null!=$&&(E(Tr),d&&d(),R.current=br.load($,(function(e){E(Er),u&&u(e),c&&c()}),(function(){E("ERRORED"),a&&a({nativeEvent:{error:"Failed to load resource "+$}}),c&&c()}))),e}),[$,R,E,a,u,c,d]),f.createElement(Wn,h({},v,{"aria-label":b,onLayout:function(e){if("center"===M||"repeat"===M||l){var t=e.nativeEvent.layout;l&&l(e),k(t)}},pointerEvents:g,ref:t,style:[Rr.root,C&&Rr.inline,z,y,Rr.undo,{boxShadow:null}]}),f.createElement(Wn,{style:[Rr.image,Dr[M],{backgroundImage:V,filter:P},null!=j&&{backgroundSize:j}],suppressHydrationWarning:!0}),U,function(e,t){return e&&null!=t?f.createElement("svg",{style:{position:"absolute",height:0,visibility:"hidden",width:0}},f.createElement("defs",null,f.createElement("filter",{id:"tint-"+t,suppressHydrationWarning:!0},f.createElement("feFlood",{floodColor:""+e,key:e}),f.createElement("feComposite",{in2:"SourceAlpha",operator:"in"})))):null}(L,_.current))}));Ir.displayName="Image";var _r=Ir;_r.getSize=function(e,t,n){br.getSize(e,t,n)},_r.prefetch=function(e){return br.prefetch(e)},_r.queryCache=function(e){return br.queryCache(e)};var Rr=nt.create({root:{flexBasis:"auto",overflow:"hidden",zIndex:0},inline:{display:"inline-flex"},undo:{blurRadius:null,shadowColor:null,shadowOpacity:null,shadowOffset:null,shadowRadius:null,tintColor:null,overlayColor:null,resizeMode:null},image:a(a({},nt.absoluteFillObject),{},{backgroundColor:"transparent",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100%",width:"100%",zIndex:-1}),accessibilityImage$raw:a(a({},nt.absoluteFillObject),{},{height:"100%",opacity:0,width:"100%",zIndex:-1})}),Dr=nt.create({center:{backgroundSize:"auto"},contain:{backgroundSize:"contain"},cover:{backgroundSize:"cover"},none:{backgroundPosition:"0",backgroundSize:"auto"},repeat:{backgroundPosition:"0",backgroundRepeat:"repeat",backgroundSize:"auto"},stretch:{backgroundSize:"100% 100%"}});const Ar=_r;var Nr=["children","style","imageStyle","imageRef"],Pr={},Or=(0,f.forwardRef)(((e,t)=>{var n=e.children,r=e.style,i=void 0===r?Pr:r,o=e.imageStyle,s=e.imageRef,a=p(e,Nr),l=nt.flatten(i),u=l.height,c=l.width;return f.createElement(Wn,{ref:t,style:i},f.createElement(Ar,h({},a,{ref:s,style:[{width:c,height:u,zIndex:-1},nt.absoluteFill,o]})),n)}));Or.displayName="ImageBackground";const Mr=Or;var Lr=["style"],Fr=k&&window.CSS&&window.CSS.supports&&window.CSS.supports("top: constant(safe-area-inset-top)")?"constant":"env",Br=f.forwardRef(((e,t)=>{var n=e.style,r=p(e,Lr);return f.createElement(Wn,h({},r,{ref:t,style:[zr.root,n]}))}));Br.displayName="SafeAreaView";var zr=nt.create({root:{paddingTop:Fr+"(safe-area-inset-top)",paddingRight:Fr+"(safe-area-inset-right)",paddingBottom:Fr+"(safe-area-inset-bottom)",paddingLeft:Fr+"(safe-area-inset-left)"}});const Vr=Br;var jr=["hrefAttrs","numberOfLines","onClick","onLayout","onPress","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture","selectable"],Ur=Object.assign({},Ct,It,_t,Rt,Dt,At,Nt,Pt,{href:!0,lang:!0,pointerEvents:!0}),$r=f.forwardRef(((e,t)=>{var n=e.hrefAttrs,r=e.numberOfLines,i=e.onClick,o=e.onLayout,s=e.onPress,a=e.onMoveShouldSetResponder,l=e.onMoveShouldSetResponderCapture,u=e.onResponderEnd,c=e.onResponderGrant,d=e.onResponderMove,h=e.onResponderReject,g=e.onResponderRelease,m=e.onResponderStart,y=e.onResponderTerminate,v=e.onResponderTerminationRequest,b=e.onScrollShouldSetResponder,w=e.onScrollShouldSetResponderCapture,S=e.onSelectionChangeShouldSetResponder,E=e.onSelectionChangeShouldSetResponderCapture,T=e.onStartShouldSetResponder,x=e.onStartShouldSetResponderCapture,k=e.selectable,C=p(e,jr),I=f.useContext(Vn),_=f.useRef(null),R=xt().direction;Qt(_,o),zn(_,{onMoveShouldSetResponder:a,onMoveShouldSetResponderCapture:l,onResponderEnd:u,onResponderGrant:c,onResponderMove:d,onResponderReject:h,onResponderRelease:g,onResponderStart:m,onResponderTerminate:y,onResponderTerminationRequest:v,onScrollShouldSetResponder:b,onScrollShouldSetResponderCapture:w,onSelectionChangeShouldSetResponder:S,onSelectionChangeShouldSetResponderCapture:E,onStartShouldSetResponder:T,onStartShouldSetResponderCapture:x});var D=f.useCallback((e=>{null!=i?i(e):null!=s&&(e.stopPropagation(),s(e))}),[i,s]),A=I?"span":"div",N=null!=e.lang?Et(e.lang):null,P=e.dir||N,O=P||R,M=(e=>Ot(e,Ur))(C);if(M.dir=P,I||(M.dir=null!=P?P:"auto"),(i||s)&&(M.onClick=D),M.style=[null!=r&&r>1&&{WebkitLineClamp:r},!0===I?Wr.textHasAncestor$raw:Wr.text$raw,1===r&&Wr.textOneLine,null!=r&&r>1&&Wr.textMultiLine,e.style,!0===k&&Wr.selectable,!1===k&&Wr.notSelectable,s&&Wr.pressable],null!=e.href&&(A="a",null!=n)){var L=n.download,F=n.rel,B=n.target;null!=L&&(M.download=L),null!=F&&(M.rel=F),"string"===typeof B&&(M.target="_"!==B.charAt(0)?"_"+B:B)}var z=Xt(_,Zt(M),t);M.ref=z;var V=kt(A,M,{writingDirection:O});return I?V:f.createElement(Vn.Provider,{value:!0},V)}));$r.displayName="Text";var qr={backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",color:"black",display:"inline",font:"14px System",listStyle:"none",margin:0,padding:0,position:"relative",textAlign:"start",textDecoration:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},Wr=nt.create({text$raw:qr,textHasAncestor$raw:a(a({},qr),{},{color:"inherit",font:"inherit",textAlign:"inherit",whiteSpace:"inherit"}),textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"},notSelectable:{userSelect:"none"},selectable:{userSelect:"text"},pressable:{cursor:"pointer"}});const Hr=$r;var Kr="DELAY",Gr="ERROR",Qr="LONG_PRESS_DETECTED",Yr="NOT_RESPONDER",Xr="RESPONDER_ACTIVE_LONG_PRESS_START",Jr="RESPONDER_ACTIVE_PRESS_START",Zr="RESPONDER_INACTIVE_PRESS_START",ei="RESPONDER_RELEASE",ti="RESPONDER_TERMINATED",ni=Object.freeze({NOT_RESPONDER:{DELAY:Gr,RESPONDER_GRANT:Zr,RESPONDER_RELEASE:Gr,RESPONDER_TERMINATED:Gr,LONG_PRESS_DETECTED:Gr},RESPONDER_INACTIVE_PRESS_START:{DELAY:Jr,RESPONDER_GRANT:Gr,RESPONDER_RELEASE:Yr,RESPONDER_TERMINATED:Yr,LONG_PRESS_DETECTED:Gr},RESPONDER_ACTIVE_PRESS_START:{DELAY:Gr,RESPONDER_GRANT:Gr,RESPONDER_RELEASE:Yr,RESPONDER_TERMINATED:Yr,LONG_PRESS_DETECTED:Xr},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:Gr,RESPONDER_GRANT:Gr,RESPONDER_RELEASE:Yr,RESPONDER_TERMINATED:Yr,LONG_PRESS_DETECTED:Xr},ERROR:{DELAY:Yr,RESPONDER_GRANT:Zr,RESPONDER_RELEASE:Yr,RESPONDER_TERMINATED:Yr,LONG_PRESS_DETECTED:Yr}}),ri=e=>e.getAttribute("role"),ii=e=>e.tagName.toLowerCase(),oi=e=>e===Jr||e===Xr,si=e=>"button"===ri(e),ai=e=>e===Zr||e===Jr||e===Xr,li=e=>{var t=e.key,n=e.target,r=" "===t||"Spacebar"===t,i="button"===ii(n)||si(n);return"Enter"===t||r&&i};class ui{constructor(e){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=Yr,this._responderElement=null,this.configure(e)}configure(e){this._config=e}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return null==this._eventHandlers&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var e=(e,t)=>{e.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=Yr,this._isPointerTouch="touchstart"===e.nativeEvent.type,this._receiveSignal("RESPONDER_GRANT",e);var n=ci(this._config.delayPressStart,0,50);!1!==t&&n>0?this._pressDelayTimeout=setTimeout((()=>{this._receiveSignal(Kr,e)}),n):this._receiveSignal(Kr,e);var r=ci(this._config.delayLongPress,10,450);this._longPressDelayTimeout=setTimeout((()=>{this._handleLongPress(e)}),r+n)},t=e=>{this._receiveSignal(ei,e)},n=e=>{var r=this._config.onPress,i=e.target;if(this._touchState!==Yr&&li(e)){t(e),document.removeEventListener("keyup",n);var o=i.getAttribute("role"),s=ii(i),a="link"===o||"a"===s||"button"===s||"input"===s||"select"===s||"textarea"===s,l=this._responderElement===i;null!=r&&!a&&l&&r(e),this._responderElement=null}};return{onStartShouldSetResponder:e=>{var t=this._config.disabled;return t&&si(e.currentTarget)&&e.stopPropagation(),null==t||!t},onKeyDown:t=>{var r=this._config.disabled,i=t.key,o=t.target;if(!r&&li(t)){this._touchState===Yr&&(e(t,!1),this._responderElement=o,document.addEventListener("keyup",n));var s=" "===i||"Spacebar"===i,a=ri(o);s&&("button"===a||"menuitem"===a)&&"button"!==ii(o)&&t.preventDefault(),t.stopPropagation()}},onResponderGrant:t=>e(t),onResponderMove:e=>{null!=this._config.onPressMove&&this._config.onPressMove(e);var t=di(e);if(null!=this._touchActivatePosition){var n=this._touchActivatePosition.pageX-t.pageX,r=this._touchActivatePosition.pageY-t.pageY;Math.hypot(n,r)>10&&this._cancelLongPressDelayTimeout()}},onResponderRelease:e=>t(e),onResponderTerminate:e=>{"selectionchange"===e.nativeEvent.type&&(this._selectionTerminated=!0),this._receiveSignal(ti,e)},onResponderTerminationRequest:e=>{var t=this._config,n=t.cancelable,r=t.disabled,i=t.onLongPress;return!(!r&&null!=i&&this._isPointerTouch&&"contextmenu"===e.nativeEvent.type)&&(null==n||n)},onClick:e=>{var t=this._config,n=t.disabled,r=t.onPress;n?si(e.currentTarget)&&e.stopPropagation():(e.stopPropagation(),this._longPressDispatched||this._selectionTerminated?e.preventDefault():null!=r&&!1===e.altKey&&r(e))},onContextMenu:e=>{var t=this._config,n=t.disabled,r=t.onLongPress;n?si(e.currentTarget)&&e.stopPropagation():null!=r&&this._isPointerTouch&&!e.defaultPrevented&&(e.preventDefault(),e.stopPropagation())}}}_receiveSignal(e,t){var n=this._touchState,r=null;null!=ni[n]&&(r=ni[n][e]),this._touchState===Yr&&e===ei||(null==r||r===Gr?console.error("PressResponder: Invalid signal "+e+" for state "+n+" on responder"):n!==r&&(this._performTransitionSideEffects(n,r,e,t),this._touchState=r))}_performTransitionSideEffects(e,t,n,r){if((e=>e===ti||e===ei)(n)&&(setTimeout((()=>{this._isPointerTouch=!1}),0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),ai(e)&&n===Qr){var i=this._config.onLongPress;null!=i&&null==r.nativeEvent.key&&(i(r),this._longPressDispatched=!0)}var o=oi(e),s=oi(t);if(!o&&s?this._activate(r):o&&!s&&this._deactivate(r),ai(e)&&n===ei){var a=this._config,l=a.onLongPress;if(null!=a.onPress)null!=l&&e===Xr||s||o||(this._activate(r),this._deactivate(r))}this._cancelPressDelayTimeout()}_activate(e){var t=this._config,n=t.onPressChange,r=t.onPressStart,i=di(e);this._touchActivatePosition={pageX:i.pageX,pageY:i.pageY},null!=r&&r(e),null!=n&&n(!0)}_deactivate(e){var t=this._config,n=t.onPressChange,r=t.onPressEnd;function i(){null!=r&&r(e),null!=n&&n(!1)}var o=ci(this._config.delayPressEnd);o>0?this._pressOutDelayTimeout=setTimeout((()=>{i()}),o):i()}_handleLongPress(e){this._touchState!==Jr&&this._touchState!==Xr||this._receiveSignal(Qr,e)}_cancelLongPressDelayTimeout(){null!=this._longPressDelayTimeout&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){null!=this._pressDelayTimeout&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){null!=this._pressOutDelayTimeout&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}function ci(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),Math.max(t,null!==e&&void 0!==e?e:n)}function di(e){var t=e.nativeEvent,n=t.changedTouches,r=t.touches;return null!=r&&r.length>0?r[0]:null!=n&&n.length>0?n[0]:e.nativeEvent}var hi=["activeOpacity","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","rejectResponderTermination","style"];function fi(e,t){var n=e.activeOpacity,r=e.delayPressIn,i=e.delayPressOut,o=e.delayLongPress,s=e.disabled,a=e.focusable,l=e.onLongPress,u=e.onPress,c=e.onPressIn,d=e.onPressOut,g=e.rejectResponderTermination,m=e.style,y=p(e,hi),v=(0,f.useRef)(null),b=Xt(t,v),w=(0,f.useState)("0s"),S=w[0],E=w[1],T=(0,f.useState)(null),x=T[0],k=T[1],C=(0,f.useCallback)(((e,t)=>{k(e),E(t?t/1e3+"s":"0s")}),[k,E]),I=(0,f.useCallback)((e=>{C(null!==n&&void 0!==n?n:.2,e)}),[n,C]),_=(0,f.useCallback)((e=>{C(null,e)}),[C]),R=function(e,t){var n=(0,f.useRef)(null);null==n.current&&(n.current=new ui(t));var r=n.current;return(0,f.useEffect)((()=>{r.configure(t)}),[t,r]),(0,f.useEffect)((()=>()=>{r.reset()}),[r]),(0,f.useDebugValue)(t),r.getEventHandlers()}(0,(0,f.useMemo)((()=>({cancelable:!g,disabled:s,delayLongPress:o,delayPressStart:r,delayPressEnd:i,onLongPress:l,onPress:u,onPressStart(e){var t=null!=e.dispatchConfig?"onResponderGrant"===e.dispatchConfig.registrationName:"keydown"===e.type;I(t?0:150),null!=c&&c(e)},onPressEnd(e){_(250),null!=d&&d(e)}})),[o,r,i,s,l,u,c,d,g,I,_]));return f.createElement(Wn,h({},y,R,{accessibilityDisabled:s,focusable:!s&&!1!==a,pointerEvents:s?"box-none":void 0,ref:b,style:[pi.root,!s&&pi.actionable,m,null!=x&&{opacity:x},{transitionDuration:S}]}))}var pi=nt.create({root:{transitionProperty:"opacity",transitionDuration:"0.15s",userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),gi=f.memo(f.forwardRef(fi));gi.displayName="TouchableOpacity";const mi=gi;var yi=["animating","color","hidesWhenStopped","size","style"],vi=e=>f.createElement("circle",{cx:"16",cy:"16",fill:"none",r:"14",strokeWidth:"4",style:e}),bi=f.forwardRef(((e,t)=>{var n=e.animating,r=void 0===n||n,i=e.color,o=void 0===i?"#1976D2":i,s=e.hidesWhenStopped,a=void 0===s||s,l=e.size,u=void 0===l?"small":l,c=e.style,d=p(e,yi),g=f.createElement("svg",{height:"100%",viewBox:"0 0 32 32",width:"100%"},vi({stroke:o,opacity:.2}),vi({stroke:o,strokeDasharray:80,strokeDashoffset:60}));return f.createElement(Wn,h({},d,{"aria-valuemax":1,"aria-valuemin":0,ref:t,role:"progressbar",style:[wi.container,c]}),f.createElement(Wn,{children:g,style:["number"===typeof u?{height:u,width:u}:Si[u],wi.animation,!r&&wi.animationPause,!r&&a&&wi.hidesWhenStopped]}))}));bi.displayName="ActivityIndicator";var wi=nt.create({container:{alignItems:"center",justifyContent:"center"},hidesWhenStopped:{visibility:"hidden"},animation:{animationDuration:"0.75s",animationKeyframes:[{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}],animationTimingFunction:"linear",animationIterationCount:"infinite"},animationPause:{animationPlayState:"paused"}}),Si=nt.create({small:{width:20,height:20},large:{width:36,height:36}});const Ei=bi;const Ti={_currentlyFocusedNode:null,currentlyFocusedField(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput(e){null!==e&&(this._currentlyFocusedNode=e,document.activeElement!==e&&Ht.focus(e))},blurTextInput(e){null!==e&&(this._currentlyFocusedNode=null,document.activeElement===e&&Ht.blur(e))}};const xi=()=>{Ti.blurTextInput(Ti.currentlyFocusedField())};const ki={OS:"web",select:e=>"web"in e?e.web:e.default,get isTesting(){return!1}};var Ci=["onScroll","onTouchMove","onWheel","scrollEnabled","scrollEventThrottle","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","style"];function Ii(e){return{nativeEvent:{contentOffset:{get x(){return e.target.scrollLeft},get y(){return e.target.scrollTop}},contentSize:{get height(){return e.target.scrollHeight},get width(){return e.target.scrollWidth}},layoutMeasurement:{get height(){return e.target.offsetHeight},get width(){return e.target.offsetWidth}}},timeStamp:Date.now()}}var _i=f.forwardRef(((e,t)=>{var n=e.onScroll,r=e.onTouchMove,i=e.onWheel,o=e.scrollEnabled,s=void 0===o||o,a=e.scrollEventThrottle,l=void 0===a?0:a,u=e.showsHorizontalScrollIndicator,c=e.showsVerticalScrollIndicator,d=e.style,g=p(e,Ci),m=f.useRef({isScrolling:!1,scrollLastTick:0}),y=f.useRef(null),v=f.useRef(null);function b(e){return t=>{s&&e&&e(t)}}function w(e){m.current.scrollLastTick=Date.now(),n&&n(Ii(e))}var S=!1===u||!1===c;return f.createElement(Wn,h({},g,{onScroll:function(e){e.stopPropagation(),e.target===v.current&&(e.persist(),null!=y.current&&clearTimeout(y.current),y.current=setTimeout((()=>{!function(e){m.current.isScrolling=!1,n&&n(Ii(e))}(e)}),100),m.current.isScrolling?function(e,t){var n=Date.now()-e;return t>0&&n>=t}(m.current.scrollLastTick,l)&&w(e):function(e){m.current.isScrolling=!0,w(e)}(e))},onTouchMove:b(r),onWheel:b(i),ref:Xt(v,t),style:[d,!s&&Ri.scrollDisabled,S&&Ri.hideScrollbar]}))})),Ri=nt.create({scrollDisabled:{overflowX:"hidden",overflowY:"hidden",touchAction:"none"},hideScrollbar:{scrollbarWidth:"none"}});const Di=_i;var Ai=n(443),Ni=n.n(Ai),Pi=["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","forwardedRef","keyboardDismissMode","onScroll","centerContent"],Oi={};class Mi extends f.Component{constructor(){super(...arguments),this._scrollNodeRef=null,this._innerViewRef=null,this.isTouching=!1,this.lastMomentumScrollBeginTime=0,this.lastMomentumScrollEndTime=0,this.observedScrollSinceBecomingResponder=!1,this.becameResponderWhileAnimating=!1,this.scrollResponderHandleScrollShouldSetResponder=()=>this.isTouching,this.scrollResponderHandleStartShouldSetResponderCapture=e=>this.scrollResponderIsAnimating(),this.scrollResponderHandleTerminationRequest=()=>!this.observedScrollSinceBecomingResponder,this.scrollResponderHandleTouchEnd=e=>{var t=e.nativeEvent;this.isTouching=0!==t.touches.length,this.props.onTouchEnd&&this.props.onTouchEnd(e)},this.scrollResponderHandleResponderRelease=e=>{this.props.onResponderRelease&&this.props.onResponderRelease(e);var t=Ti.currentlyFocusedField();this.props.keyboardShouldPersistTaps||null==t||e.target===t||this.observedScrollSinceBecomingResponder||this.becameResponderWhileAnimating||(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(e),Ti.blurTextInput(t))},this.scrollResponderHandleScroll=e=>{this.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(e)},this.scrollResponderHandleResponderGrant=e=>{this.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(e),this.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},this.scrollResponderHandleScrollBeginDrag=e=>{this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},this.scrollResponderHandleScrollEndDrag=e=>{this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},this.scrollResponderHandleMomentumScrollBegin=e=>{this.lastMomentumScrollBeginTime=Date.now(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},this.scrollResponderHandleMomentumScrollEnd=e=>{this.lastMomentumScrollEndTime=Date.now(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},this.scrollResponderHandleTouchStart=e=>{this.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(e)},this.scrollResponderHandleTouchMove=e=>{this.props.onTouchMove&&this.props.onTouchMove(e)},this.scrollResponderIsAnimating=()=>Date.now()-this.lastMomentumScrollEndTime<16||this.lastMomentumScrollEndTime<this.lastMomentumScrollBeginTime,this.scrollResponderScrollTo=(e,t,n)=>{if("number"===typeof e)console.warn("`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.");else{var r=e||Oi;e=r.x,t=r.y,n=r.animated}var i=this.getScrollableNode(),o=e||0,s=t||0;null!=i&&("function"===typeof i.scroll?i.scroll({top:s,left:o,behavior:n?"smooth":"auto"}):(i.scrollLeft=o,i.scrollTop=s))},this.scrollResponderZoomTo=(e,t)=>{"ios"!==ki.OS&&u()("zoomToRect is not implemented")},this.scrollResponderScrollNativeHandleToKeyboard=(e,t,n)=>{this.additionalScrollOffset=t||0,this.preventNegativeScrollOffset=!!n,Ht.measureLayout(e,this.getInnerViewNode(),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard)},this.scrollResponderInputMeasureAndScrollToKeyboard=(e,t,n,r)=>{var i=dr.get("window").height;this.keyboardWillOpenTo&&(i=this.keyboardWillOpenTo.endCoordinates.screenY);var o=t-i+r+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(o=Math.max(0,o)),this.scrollResponderScrollTo({x:0,y:o,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},this.scrollResponderKeyboardWillShow=e=>{this.keyboardWillOpenTo=e,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(e)},this.scrollResponderKeyboardWillHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(e)},this.scrollResponderKeyboardDidShow=e=>{e&&(this.keyboardWillOpenTo=e),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(e)},this.scrollResponderKeyboardDidHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(e)},this.flashScrollIndicators=()=>{this.scrollResponderFlashScrollIndicators()},this.getScrollResponder=()=>this,this.getScrollableNode=()=>this._scrollNodeRef,this.getInnerViewRef=()=>this._innerViewRef,this.getInnerViewNode=()=>this._innerViewRef,this.getNativeScrollRef=()=>this._scrollNodeRef,this.scrollTo=(e,t,n)=>{if("number"===typeof e)console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.");else{var r=e||Oi;t=r.x,e=r.y,n=r.animated}this.scrollResponderScrollTo({x:t||0,y:e||0,animated:!1!==n})},this.scrollToEnd=e=>{var t=!1!==(e&&e.animated),n=this.props.horizontal,r=this.getScrollableNode(),i=n?r.scrollWidth:0,o=n?0:r.scrollHeight;this.scrollResponderScrollTo({x:i,y:o,animated:t})},this._handleContentOnLayout=e=>{var t=e.nativeEvent.layout,n=t.width,r=t.height;this.props.onContentSizeChange(n,r)},this._handleScroll=e=>{"on-drag"===this.props.keyboardDismissMode&&xi(),this.scrollResponderHandleScroll(e)},this._setInnerViewRef=e=>{this._innerViewRef=e},this._setScrollNodeRef=e=>{this._scrollNodeRef=e,null!=e&&(e.getScrollResponder=this.getScrollResponder,e.getInnerViewNode=this.getInnerViewNode,e.getInnerViewRef=this.getInnerViewRef,e.getNativeScrollRef=this.getNativeScrollRef,e.getScrollableNode=this.getScrollableNode,e.scrollTo=this.scrollTo,e.scrollToEnd=this.scrollToEnd,e.flashScrollIndicators=this.flashScrollIndicators,e.scrollResponderZoomTo=this.scrollResponderZoomTo,e.scrollResponderScrollNativeHandleToKeyboard=this.scrollResponderScrollNativeHandleToKeyboard),Yt(this.props.forwardedRef)(e)}}scrollResponderHandleStartShouldSetResponder(){return!1}scrollResponderHandleResponderReject(){Ni()(!1,"ScrollView doesn't take rejection well - scrolls anyway")}scrollResponderFlashScrollIndicators(){}scrollResponderTextInputFocusError(e){console.error("Error measuring text field: ",e)}render(){var e=this.props,t=e.contentContainerStyle,n=e.horizontal,r=e.onContentSizeChange,i=e.refreshControl,o=e.stickyHeaderIndices,s=e.pagingEnabled,l=(e.forwardedRef,e.keyboardDismissMode,e.onScroll,e.centerContent),c=p(e,Pi),d={};r&&(d={onLayout:this._handleContentOnLayout});var g=!n&&Array.isArray(o),m=g||s?f.Children.map(this.props.children,((e,t)=>{var n=g&&o.indexOf(t)>-1;return null!=e&&(n||s)?f.createElement(Wn,{style:[n&&Fi.stickyHeader,s&&Fi.pagingEnabledChild]},e):e})):this.props.children,y=f.createElement(Wn,h({},d,{children:m,collapsable:!1,ref:this._setInnerViewRef,style:[n&&Fi.contentContainerHorizontal,l&&Fi.contentContainerCenterContent,t]})),v=n?Fi.baseHorizontal:Fi.baseVertical,b=n?Fi.pagingEnabledHorizontal:Fi.pagingEnabledVertical,w=a(a({},c),{},{style:[v,s&&b,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),S=Di;u()(void 0!==S,"ScrollViewClass must not be undefined");var E=f.createElement(S,h({},w,{ref:this._setScrollNodeRef}),y);return i?f.cloneElement(i,{style:w.style},E):E}}var Li={flexGrow:1,flexShrink:1,transform:"translateZ(0)",WebkitOverflowScrolling:"touch"},Fi=nt.create({baseVertical:a(a({},Li),{},{flexDirection:"column",overflowX:"hidden",overflowY:"auto"}),baseHorizontal:a(a({},Li),{},{flexDirection:"row",overflowX:"auto",overflowY:"hidden"}),contentContainerHorizontal:{flexDirection:"row"},contentContainerCenterContent:{justifyContent:"center",flexGrow:1},stickyHeader:{position:"sticky",top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:"x mandatory"},pagingEnabledVertical:{scrollSnapType:"y mandatory"},pagingEnabledChild:{scrollSnapAlign:"start"}}),Bi=f.forwardRef(((e,t)=>f.createElement(Mi,h({},e,{forwardedRef:t}))));Bi.displayName="ScrollView";const zi=Bi,Vi=n.p+"static/media/logo.aed0a9e4e9025b3aba26.png",ji=n.p+"static/media/background.c863667de79f7d106656.png",Ui=()=>dr.get("window").width<768,$i={borderRadius:8,padding:24,marginVertical:16,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:10,elevation:3},qi=nt.create({appBackgroundImage:{flex:1,backgroundColor:"rgba(44, 62, 80, 0.75)"},safeAreaContainer:{flex:1,backgroundColor:"transparent"},mainScrollContainer:{flex:1,padding:16},navbar:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:10,paddingHorizontal:20,backgroundColor:"#A0522D",borderBottomWidth:2,borderBottomColor:"#793D23",zIndex:100},logoContainer:{flexDirection:"row",alignItems:"center",flex:1},logoImage:{width:40,height:40,marginRight:10},logoText:{fontSize:22,fontWeight:"bold",color:"#F5F5DC"},navLinks:{flexDirection:"row"},navBtn:{marginLeft:20,paddingVertical:8,paddingHorizontal:12,borderRadius:5},navBtnMobile:{marginLeft:0,marginBottom:10,paddingVertical:12,paddingHorizontal:16,width:"100%"},navBtnActive:{backgroundColor:"#793D23"},navBtnText:{fontSize:17,color:"#F5F5DC",fontWeight:"500"},section:{...$i,backgroundColor:"#3E4E5E",padding:dr.get("window").width<768?16:24},scheduleSectionContainer:{...$i,backgroundColor:"transparent",padding:dr.get("window").width<768?16:24},sectionTitle:{fontSize:dr.get("window").width<768?24:28,fontWeight:"bold",marginBottom:dr.get("window").width<768?16:25,color:"#F5F5DC",textAlign:"center"},scheduleContainer:{gap:12},categoryContainer:{marginTop:20,marginBottom:10},categoryTitle:{fontSize:22,fontWeight:"bold",color:"#F5F5DC",marginBottom:10,paddingBottom:5,borderBottomWidth:2,borderBottomColor:"#A0522D"},scheduleItem:{flexDirection:dr.get("window").width<480?"column":"row",alignItems:dr.get("window").width<480?"flex-start":"center",padding:16,backgroundColor:"#5D4037",borderRadius:8,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.05,shadowRadius:2,elevation:1},scheduleTime:{fontSize:18,fontWeight:"bold",color:"#F5F5DC",width:dr.get("window").width<480?"auto":80,marginBottom:dr.get("window").width<480?8:0},scheduleContent:{flex:1},scheduleEvent:{fontSize:17,fontWeight:"600",color:"#FFF8DC",marginBottom:4},scheduleDetailsHint:{fontSize:14,color:"#A0522D",marginTop:5},eventDetailsModal:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(44, 62, 80, 0.9)",justifyContent:"center",alignItems:"center",zIndex:1e3},eventDetailsContent:{backgroundColor:"#34495e",padding:0,borderRadius:12,width:"90%",maxWidth:500,maxHeight:"80%",position:"relative",overflow:"hidden"},closeButton:{position:"absolute",top:15,right:15,backgroundColor:"#A0522D",padding:8,borderRadius:15,zIndex:2},closeButtonText:{color:"#F5F5DC",fontSize:18,fontWeight:"bold"},eventImageContainer:{width:"100%",height:200,overflow:"hidden"},eventImage:{width:"100%",height:"100%"},eventDetailsContainer:{padding:16,paddingTop:0,flex:1},eventDetailsHeader:{paddingBottom:8},eventDetailsTitle:{fontSize:22,fontWeight:"bold",color:"#F5F5DC",marginBottom:5},eventDetailsTime:{fontSize:16,color:"#FFF8DC",marginBottom:15},eventDetailsScroll:{flex:1},eventDescription:{fontSize:16,color:"#F5F5DC",lineHeight:24},formContainer:{maxWidth:500,alignSelf:"center",width:"100%"},formGroup:{marginBottom:16},label:{marginBottom:8,color:"#F5F5DC",fontWeight:"500"},input:{borderWidth:1,borderColor:"#A0522D",padding:dr.get("window").width<768?14:12,borderRadius:5,fontSize:16,backgroundColor:"#FFF8DC",color:"#5D4037",marginBottom:15},submitBtn:{backgroundColor:"#A0522D",padding:dr.get("window").width<768?18:15,borderRadius:5,alignItems:"center",marginTop:10},submitBtnText:{color:"#F5F5DC",fontSize:18,fontWeight:"bold"},disabledButton:{backgroundColor:"#A0522D88",opacity:.7},disabledText:{opacity:.7},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center",padding:20},loadingText:{marginTop:10,fontSize:16,color:"#F5F5DC"},loadingSubtext:{marginTop:5,fontSize:14,color:"#F5F5DC88",fontStyle:"italic"},errorContainer:{flex:1,justifyContent:"center",alignItems:"center",padding:20,backgroundColor:"#5D403788",borderRadius:5},errorText:{fontSize:16,color:"#FF6B6B",fontWeight:"bold",textAlign:"center"},errorSubtext:{marginTop:5,fontSize:14,color:"#F5F5DC",fontStyle:"italic",textAlign:"center"},errorBanner:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:12,backgroundColor:"#B71C1C",marginBottom:10},errorBannerText:{flex:1,color:"#FFFFFF",fontSize:14,fontWeight:"bold"},resetButton:{backgroundColor:"#5D4037",paddingVertical:8,paddingHorizontal:12,borderRadius:4,marginLeft:10,minWidth:120,alignItems:"center"},resetButtonText:{color:"#FFFFFF",fontSize:12,fontWeight:"bold"},emptyStateContainer:{padding:20,alignItems:"center"},emptyStateText:{fontSize:16,color:"#F5F5DC",fontStyle:"italic"},leaderboardContainer:{borderRadius:4,overflow:"hidden"},tableHeader:{flexDirection:"row",borderBottomWidth:2,borderBottomColor:"#A0522D",paddingBottom:10,marginBottom:10,backgroundColor:"#5D4037"},tableHeaderCell:{fontWeight:"bold",fontSize:dr.get("window").width<768?14:16,color:"#F5F5DC",textAlign:"center"},tableBody:{maxHeight:400},tableRow:{flexDirection:"row",paddingVertical:10,borderBottomWidth:1,borderBottomColor:"#5D4037"},tableCell:{fontSize:dr.get("window").width<768?13:15,color:"#FFF8DC",textAlign:"center"},leaderboardInfo:{marginTop:15,padding:10,backgroundColor:"#5D4037",borderRadius:5,alignItems:"center"},leaderboardInfoText:{fontSize:16,color:"#F5F5DC",fontWeight:"500"},pickerContainer:{flexDirection:"row",flexWrap:"wrap",gap:8,marginBottom:15},pickerButton:{paddingVertical:dr.get("window").width<768?12:10,paddingHorizontal:dr.get("window").width<768?18:15,backgroundColor:"#5D4037",borderRadius:5,borderWidth:1,borderColor:"#A0522D"},pickerButtonActive:{backgroundColor:"#A0522D",borderColor:"#F5F5DC"},pickerButtonText:{color:"#F5F5DC",fontSize:14},menuToggle:{padding:10},menuToggleText:{color:"#F5F5DC",fontSize:24,fontWeight:"bold"},mobileMenu:{position:"absolute",top:50,right:0,backgroundColor:"#A0522D",padding:15,borderRadius:5,borderTopRightRadius:0,borderWidth:2,borderColor:"#793D23",borderTopWidth:0,width:200,shadowColor:"#000",shadowOffset:{width:0,height:5},shadowOpacity:.3,shadowRadius:5,elevation:5},eventDetailsContentMobile:{width:"95%",maxWidth:"100%",maxHeight:"90%",borderRadius:8},pickerButtonTextActive:{color:"#FFF8DC",fontWeight:"bold"},mainScrollContent:{paddingBottom:30}}),Wi=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Hi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Wi(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Ki;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ki extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gi=function(e){return function(e){const t=Wi(e);return Hi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Qi=function(e){try{return Hi.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Yi(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Xi=()=>{try{return Yi().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/BattleOfR",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Qi(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},Ji=e=>{const t=(e=>{var t,n;return null===(n=null===(t=Xi())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Zi=()=>{var e;return null===(e=Xi())||void 0===e?void 0:e.config};class eo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function to(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function no(){return!function(){var e;const t=null===(e=Xi())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ro(){try{return"object"===typeof indexedDB}catch(e){return!1}}class io extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,io.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oo.prototype.create)}}class oo{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(so,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new io(n,o,t)}}const so=/\{\$([^}]+)}/g;function ao(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(lo(n)&&lo(o)){if(!ao(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lo(e){return null!==e&&"object"===typeof e}function uo(e){return e&&e._delegate?e._delegate:e}function co(e){return e.endsWith(".cloudworkstations.dev")}class ho{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const fo="[DEFAULT]";class po{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new eo;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fo;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fo;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fo;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===fo?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fo;return this.component?this.component.multipleInstances?e:fo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class go{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new po(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const mo=[];var yo;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(yo||(yo={}));const vo={debug:yo.DEBUG,verbose:yo.VERBOSE,info:yo.INFO,warn:yo.WARN,error:yo.ERROR,silent:yo.SILENT},bo=yo.INFO,wo={[yo.DEBUG]:"log",[yo.VERBOSE]:"log",[yo.INFO]:"info",[yo.WARN]:"warn",[yo.ERROR]:"error"},So=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=wo[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...o)};class Eo{constructor(e){this.name=e,this._logLevel=bo,this._logHandler=So,this._userLogHandler=null,mo.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yo))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?vo[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yo.DEBUG,...t),this._logHandler(this,yo.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yo.VERBOSE,...t),this._logHandler(this,yo.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yo.INFO,...t),this._logHandler(this,yo.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yo.WARN,...t),this._logHandler(this,yo.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yo.ERROR,...t),this._logHandler(this,yo.ERROR,...t)}}let To,xo;const ko=new WeakMap,Co=new WeakMap,Io=new WeakMap,_o=new WeakMap,Ro=new WeakMap;let Do={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Co.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Io.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Po(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ao(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(xo||(xo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Oo(this),n),Po(ko.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Po(e.apply(Oo(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Oo(this),t,...r);return Io.set(o,t.sort?t.sort():[t]),Po(o)}}function No(e){return"function"===typeof e?Ao(e):(e instanceof IDBTransaction&&function(e){if(Co.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Co.set(e,t)}(e),t=e,(To||(To=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Do):e);var t}function Po(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Po(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&ko.set(t,e)})).catch((()=>{})),Ro.set(t,e),t}(e);if(_o.has(e))return _o.get(e);const t=No(e);return t!==e&&(_o.set(e,t),Ro.set(t,e)),t}const Oo=e=>Ro.get(e);const Mo=["get","getKey","getAll","getAllKeys","count"],Lo=["put","add","delete","clear"],Fo=new Map;function Bo(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Fo.get(t))return Fo.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Lo.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Mo.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Fo.set(t,o),o}Do=(e=>({...e,get:(t,n,r)=>Bo(t,n)||e.get(t,n,r),has:(t,n)=>!!Bo(t,n)||e.has(t,n)}))(Do);class zo{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Vo="@firebase/app",jo="0.12.1",Uo=new Eo("@firebase/app"),$o="@firebase/app-compat",qo="@firebase/analytics-compat",Wo="@firebase/analytics",Ho="@firebase/app-check-compat",Ko="@firebase/app-check",Go="@firebase/auth",Qo="@firebase/auth-compat",Yo="@firebase/database",Xo="@firebase/data-connect",Jo="@firebase/database-compat",Zo="@firebase/functions",es="@firebase/functions-compat",ts="@firebase/installations",ns="@firebase/installations-compat",rs="@firebase/messaging",is="@firebase/messaging-compat",os="@firebase/performance",ss="@firebase/performance-compat",as="@firebase/remote-config",ls="@firebase/remote-config-compat",us="@firebase/storage",cs="@firebase/storage-compat",ds="@firebase/firestore",hs="@firebase/vertexai",fs="@firebase/firestore-compat",ps="firebase",gs="[DEFAULT]",ms={[Vo]:"fire-core",[$o]:"fire-core-compat",[Wo]:"fire-analytics",[qo]:"fire-analytics-compat",[Ko]:"fire-app-check",[Ho]:"fire-app-check-compat",[Go]:"fire-auth",[Qo]:"fire-auth-compat",[Yo]:"fire-rtdb",[Xo]:"fire-data-connect",[Jo]:"fire-rtdb-compat",[Zo]:"fire-fn",[es]:"fire-fn-compat",[ts]:"fire-iid",[ns]:"fire-iid-compat",[rs]:"fire-fcm",[is]:"fire-fcm-compat",[os]:"fire-perf",[ss]:"fire-perf-compat",[as]:"fire-rc",[ls]:"fire-rc-compat",[us]:"fire-gcs",[cs]:"fire-gcs-compat",[ds]:"fire-fst",[fs]:"fire-fst-compat",[hs]:"fire-vertex","fire-js":"fire-js",[ps]:"fire-js-all"},ys=new Map,vs=new Map,bs=new Map;function ws(e,t){try{e.container.addComponent(t)}catch(n){Uo.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ss(e){const t=e.name;if(bs.has(t))return Uo.debug(`There were multiple attempts to register component ${t}.`),!1;bs.set(t,e);for(const n of ys.values())ws(n,e);for(const n of vs.values())ws(n,e);return!0}function Es(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Ts=new oo("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class xs{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ho("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}function ks(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:gs,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ts.create("bad-app-name",{appName:String(i)});if(n||(n=Zi()),!n)throw Ts.create("no-options");const o=ys.get(i);if(o){if(ao(n,o.options)&&ao(r,o.config))return o;throw Ts.create("duplicate-app",{appName:i})}const s=new go(i);for(const l of bs.values())s.addComponent(l);const a=new xs(n,r,s);return ys.set(i,a),a}function Cs(e,t,n){var r;let i=null!==(r=ms[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Uo.warn(e.join(" "))}Ss(new ho(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Is="firebase-heartbeat-store";let _s=null;function Rs(){return _s||(_s=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Po(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Po(s.result),e.oldVersion,e.newVersion,Po(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Is)}catch(n){console.warn(n)}}}).catch((e=>{throw Ts.create("idb-open",{originalErrorMessage:e.message})}))),_s}async function Ds(e,t){try{const n=(await Rs()).transaction(Is,"readwrite"),r=n.objectStore(Is);await r.put(t,As(e)),await n.done}catch(n){if(n instanceof io)Uo.warn(n.message);else{const e=Ts.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Uo.warn(e.message)}}}function As(e){return`${e.name}!${e.options.appId}`}class Ns{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Os(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ps();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Uo.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ps(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Ms(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ms(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Gi(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Uo.warn(t),""}}}function Ps(){return(new Date).toISOString().substring(0,10)}class Os{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ro()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Rs()).transaction(Is),n=await t.objectStore(Is).get(As(e));return await t.done,n}catch(t){if(t instanceof io)Uo.warn(t.message);else{const e=Ts.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Uo.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ds(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ds(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ms(e){return Gi(JSON.stringify({version:2,heartbeats:e})).length}var Ls;Ls="",Ss(new ho("platform-logger",(e=>new zo(e)),"PRIVATE")),Ss(new ho("heartbeat",(e=>new Ns(e)),"PRIVATE")),Cs(Vo,jo,Ls),Cs(Vo,jo,"esm2017"),Cs("fire-js","");Cs("firebase","11.7.1","app");var Fs,Bs,zs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Vs={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,s=0;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(s(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),l=o(1),u=o(16777216);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(c(t))throw Error("division by zero");if(c(e))return new g(a,a);if(d(e))return t=m(h(e),t),new g(h(t.g),h(t.h));if(d(t))return t=m(e,h(t)),new g(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!c(r);){var u=o.add(r);0>=u.l(e)&&(i=i.add(n),o=u),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new g(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(o=s(n)).j(t);d(u)||0<u.l(e);)u=(o=s(n-=r)).j(t);c(o)&&(o=l),i=i.add(o),e=f(e,u)}return new g(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],s=0;s<i;s++)o[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=m(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:c(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var s=i+(65535&this.i(o))+(65535&e.i(o)),a=(s>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=a>>>16,s&=65535,a&=65535,n[o]=a<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(u)&&0>e.l(u))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),g=e.i(o)>>>16,m=65535&e.i(o);n[2*i+2*o]+=f*m,p(n,2*i+2*o),n[2*i+2*o+1]+=l*m,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*g,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*g,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Bs=Vs.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=a,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),u=parseInt(t.substring(o,o+l),n);8>l?(l=s(Math.pow(n,l)),i=i.j(l).add(s(u))):i=(i=i.j(r)).add(s(u))}return i},Fs=Vs.Integer=r}).apply("undefined"!==typeof zs?zs:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var js,Us,$s,qs,Ws,Hs,Ks,Gs,Qs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ys={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Qs&&Qs];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var y=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function E(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function T(e){i.setTimeout((()=>{throw e}),0)}function x(){var e=R;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new C),(e=>e.reset()));class C{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let I,_=!1,R=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},D=()=>{const e=i.Promise.resolve(void 0);I=()=>{e.then(A)}};var A=()=>{for(var e;e=x();){try{e.h.call(e.g)}catch(n){T(n)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_=!1};function N(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}N.prototype.s=!1,N.prototype.ma=function(){this.s||(this.s=!0,this.N())},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function M(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{m(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,P);var L={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),B=0;function z(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++B,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function j(e){this.src=e,this.g={},this.h=0}function U(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}j.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=$(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new z(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),W={};function H(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)H(e,t[o],n,r,i);return null}return n=ne(n),e&&e[F]?e.K(t,n,s(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=s(i)?!!i.capture:!!i,l=ee(e);if(l||(e[q]=l=new j(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Z;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Q(e,t[o],n,r,i);return null}return n=ne(n),e&&e[F]?e.L(t,n,s(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Y(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=ne(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(o=e.g[t],n,r,i))&&(V(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=ee(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])U(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ee(t))?(U(n,e),0==n.h&&(n.src=null,t[q]=null)):V(e)}}}function J(e){return e in W?W[e]:W[e]="on"+e}function Z(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function ee(e){return(e=e[q])instanceof j?e:null}var te="__closure_events_fn_"+(1e9*Math.random()>>>0);function ne(e){return"function"===typeof e?e:(e[te]||(e[te]=function(t){return e.handleEvent(t)}),e[te])}function re(){N.call(this),this.i=new j(this),this.M=this,this.F=null}function ie(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var i=t;S(t=new P(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=oe(s,r,!0,t)&&i}if(i=oe(s=t.g=e,r,!0,t)&&i,i=oe(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=oe(s=t.g=n[o],r,!1,t)&&i}function oe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.da&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.fa&&U(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=u(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(re,N),re.prototype[F]=!0,re.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},re.prototype.N=function(){if(re.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},re.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},re.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class le extends N{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ue(e){N.call(this),this.h=e,this.g={}}d(ue,N);var ce=[];function de(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&X(e)}),e),e.g={}}ue.prototype.N=function(){ue.aa.N.call(this),de(this)},ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,fe=i.JSON.parse,pe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function ge(){}function me(e){return e.h||(e.h=e.i())}function ye(){}ge.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function be(){P.call(this,"d")}function we(){P.call(this,"c")}d(be,P),d(we,P);var Se={},Ee=null;function Te(){return Ee=Ee||new re}function xe(e){P.call(this,Se.La,e)}function ke(e){const t=Te();ie(t,new xe(t))}function Ce(e,t){P.call(this,Se.STAT_EVENT,e),this.stat=t}function Ie(e){const t=Te();ie(t,new Ce(t,e))}function _e(e,t){P.call(this,Se.Ma,e),this.size=t}function Re(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function De(){this.g=!0}function Ae(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return he(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Se.La="serverreachability",d(xe,P),Se.STAT_EVENT="statevent",d(Ce,P),Se.Ma="timingevent",d(_e,P),De.prototype.xa=function(){this.g=!1},De.prototype.info=function(){};var Ne,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Me(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ue(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fe}function Fe(){this.i=null,this.g="",this.h=!1}d(Me,ge),Me.prototype.g=function(){return new XMLHttpRequest},Me.prototype.i=function(){return{}},Ne=new Me;var Be={},ze={};function Ve(e,t,n){e.L=1,e.v=ht(at(t)),e.m=n,e.P=!0,je(e,null)}function je(e,t){e.F=Date.now(),qe(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Ct(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Fe,e.g=pn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new le(u(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var s=H(n,i[o],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&"type"==d[1]?s+(c+"=")+u+"&":s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ue(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function $e(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ze:(n=Number(t.substring(n,r)),isNaN(n)?Be:(r+=1)+n>t.length?ze:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Re(u(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||un(e.j,e)}function Ge(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,de(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||et(n.h,e)))if(!e.K&&et(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ln(n),Xt(n)}on(n),Ie(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Re(u(n.Za,n),6e3));if(1>=Ze(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else dn(n,11)}else if((e.K||n.g==e)&&ln(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(tt(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,dt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=fn(r,r.J?r.ia:null,r.W),s.K){nt(r.h,s);var a=s,l=r.L;l&&(a.I=l),a.B&&(He(a),qe(a)),r.g=s}else rn(r);0<n.i.length&&Zt(n)}else"stop"!=u[0]&&"close"!=u[0]||dn(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?dn(n,7):Yt(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}ke()}catch(c){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=h||7==t||ke(),He(this);var n=this.g.Z();this.X=n;t:if(Ue(this)){var r=Kt(this.g);e="";var o=r.length,s=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,Ie(12),Ge(this),Ke(this);break e}Ae(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=$e(this,a),e==ze){4==h&&(this.s=4,Ie(14),n=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(e==Be){this.s=4,Ie(15),Ae(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ae(this.i,this.l,e,null),Qe(this,e)}if(Ue(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,Ie(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(d),d.M=!0,Ie(11))}}else Ae(this.i,this.l,a,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Ae(this.i,this.l,a,null),Qe(this,a);4==h&&Ge(this),this.o&&!this.J&&(4==h?un(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=E(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ie(12)):(this.s=0,Ie(13)),Ge(this),Ke(this)}}}catch(K){}},Le.prototype.cancel=function(){this.J=!0,Ge(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Ie(17)),Ge(this),this.s=2,Ke(this)):We(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ze(e){return e.h?1:e.g?e.g.size:0}function et(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function tt(e,t){e.g?e.g.add(t):e.h=t}function nt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function rt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function it(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Xe.prototype.cancel=function(){if(this.i=rt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ot=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,lt(this,e.j),this.o=e.o,this.g=e.g,ut(this,e.s),this.l=e.l;var t=e.i,n=new Et;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(ot))?(this.h=!1,lt(this,t[1]||"",!0),this.o=ft(t[2]||""),this.g=ft(t[3]||"",!0),ut(this,t[4]),this.l=ft(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ft(t[7]||"")):(this.h=!1,this.i=new Et(null,this.h))}function at(e){return new st(e)}function lt(e,t,n){e.j=n?ft(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ut(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof Et?(e.i=t,function(e,t){t&&!e.j&&(Tt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(xt(this,t),Ct(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=pt(t,wt)),e.i=new Et(t,e.h))}function dt(e,t,n){e.i.set(t,n)}function ht(e){return dt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ft(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,gt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function gt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pt(t,yt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(pt(t,yt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pt(n,"/"==n.charAt(0)?bt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",pt(n,St)),e.join("")};var mt,yt=/[#\/\?@]/g,vt=/[#\?:]/g,bt=/[#\?]/g,wt=/[#\?@]/g,St=/#/g;function Et(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Tt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function xt(e,t){Tt(e),t=It(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return Tt(e),t=It(e,t),e.g.has(t)}function Ct(e,t,n){xt(e,t),0<n.length&&(e.i=null,e.g.set(It(e,t),h(n)),e.h+=n.length)}function It(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function _t(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function Rt(){this.g=new pe}function Dt(e,t,n){const r=n||"";try{it(e,(function(e,n){let i=e;s(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function At(e){this.l=e.Ub||null,this.j=e.eb||!1}function Nt(e,t){re.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ot(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Mt(e)}function Mt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ft(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):dt(e,t,n))}function Bt(e){re.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Et.prototype).add=function(e,t){Tt(this),this.i=null,e=It(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Tt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Tt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Tt(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(It(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Tt(this),this.i=null,kt(this,e=It(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},d(At,ge),At.prototype.g=function(){return new Nt(this.l,this.j)},At.prototype.i=(mt={},function(){return mt}),d(Nt,re),(e=Nt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Mt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ot(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Mt(this)),this.g&&(this.readyState=3,Mt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ot(this):Mt(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ot(this))},e.Qa=function(e){this.g&&(this.response=e,Ot(this))},e.ga=function(){this.g&&Ot(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Nt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Bt,re);var zt=/^https?$/i,Vt=["POST","PUT"];function jt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ut(e),qt(e)}function Ut(e){e.A||(e.A=!0,ie(e,"complete"),ie(e,"error"))}function $t(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))se(e.Ea,0,e);else if(ie(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var s=String(e.D).match(ot)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),o=!zt.test(s?s.toLowerCase():"")}n=o}if(n)ie(e,"complete"),ie(e,"success");else{e.m=6;try{var a=2<Ht(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",Ut(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){Wt(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||ie(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Wt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new De,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Rt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Jt(e),3==e.G){var t=e.U++,n=at(e.I);if(dt(n,"SID",e.K),dt(n,"RID",t),dt(n,"TYPE","terminate"),tn(e,n),(t=new Le(e,e.j,t)).L=2,t.v=ht(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=pn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}hn(e)}function Xt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Jt(e){Xt(e),e.u&&(i.clearTimeout(e.u),e.u=null),ln(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Zt(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;I||D(),_||(I(),_=!0),R.add(t,e),e.B=0}}function en(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);dt(r,"SID",e.K),dt(r,"RID",n),dt(r,"AID",e.T),tn(e,r),e.m&&e.o&&Ft(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=nn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),tt(e.h,n),Ve(n,r,t)}function tn(e,t){e.H&&v(e.H,(function(e,n){dt(t,n,e)})),e.l&&it({},(function(e,n){dt(t,n,e)}))}function nn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?u(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Dt(a,e,"req"+n+"_")}catch(K){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function rn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;I||D(),_||(I(),_=!0),R.add(t,e),e.v=0}}function on(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Re(u(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);dt(t,"RID","rpc"),dt(t,"SID",e.K),dt(t,"AID",e.T),dt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&dt(t,"TO",e.ja),dt(t,"TYPE","xmlhttp"),tn(e,t),e.m&&e.o&&Ft(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(at(t)),n.m=null,n.P=!0,je(n,e)}function ln(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function un(e,t){var n=null;if(e.g==t){ln(e),sn(e),e.g=null;var r=2}else{if(!et(e.h,t))return;n=t.D,nt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;ie(r=Te(),new _e(r,n)),Zt(e)}else rn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Ze(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Re(u(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&on(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:dn(e,5);break;case 4:dn(e,10);break;case 3:dn(e,6);break;default:dn(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function dn(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||lt(r,"https"),ht(r),t?function(e,t){const n=new De;if(i.Image){const r=new Image;r.onload=c(_t,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(_t,n,"TestLoadImage: error",!1,t,r),r.onabort=c(_t,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(_t,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new De;const n=new AbortController,r=setTimeout((()=>{n.abort(),_t(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?_t(0,0,!0,t):_t(0,0,!1,t)})).catch((()=>{clearTimeout(r),_t(0,0,!1,t)}))}(r.toString(),n)}else Ie(2);e.G=0,e.l&&e.l.sa(t),hn(e),Jt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=rt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function fn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ut(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new st(null);r&&lt(s,r),t&&(s.g=t),o&&ut(s,o),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&dt(r,n,t),dt(r,"VER",e.la),tn(e,r),r}function pn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Bt(new At({eb:n})):new Bt(e.pa)).Ha(e.J),t}function gn(){}function mn(){}function yn(e,t){re.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wn(this)}function vn(e){be.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function bn(){we.call(this),this.status=1}function wn(e){this.g=e}(e=Bt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ne.g(),this.v=this.o?me(this.o):me(Ne),this.g.onreadystatechange=u(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void jt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Vt,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wt(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){jt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,ie(this,"complete"),ie(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Bt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?$t(this):this.bb())},e.bb=function(){$t(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),fe(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ie(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=fn(this,null,this.W),Zt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Le(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),S(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=nn(this,i,t),dt(n=at(this.I),"RID",e),dt(n,"CVER",22),this.D&&dt(n,"X-HTTP-Session-Id",this.D),tn(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Lt(o)))+"&"+t:this.m&&Ft(n,this.m,o)),tt(this.h,i),this.Ua&&dt(n,"TYPE","init"),this.P?(dt(n,"$req",t),dt(n,"SID","null"),i.T=!0,Ve(i,n,null)):Ve(i,n,t),this.G=2}}else 3==this.G&&(e?en(this,e):0==this.i.length||Je(this.h)||en(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Re(u(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ie(10),Xt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Xt(this),on(this),Ie(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=gn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new yn(e,t)},d(yn,re),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Yt(this.g)},yn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Zt(t)},yn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,yn.aa.N.call(this)},d(vn,be),d(bn,we),d(wn,gn),wn.prototype.ua=function(){ie(this.g,"a")},wn.prototype.ta=function(e){ie(this.g,new vn(e))},wn.prototype.sa=function(e){ie(this.g,new bn)},wn.prototype.ra=function(){ie(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,Gs=Ys.createWebChannelTransport=function(){return new mn},Ks=Ys.getStatEventTarget=function(){return Te()},Hs=Ys.Event=Se,Ws=Ys.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,qs=Ys.ErrorCode=Pe,Oe.COMPLETE="complete",$s=Ys.EventType=Oe,ye.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",re.prototype.listen=re.prototype.K,Us=Ys.WebChannel=ye,Ys.FetchXmlHttpFactory=At,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,js=Ys.XhrIo=Bt}).apply("undefined"!==typeof Qs?Qs:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Xs="@firebase/firestore",Js="4.7.12";class Zs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zs.UNAUTHENTICATED=new Zs(null),Zs.GOOGLE_CREDENTIALS=new Zs("google-credentials-uid"),Zs.FIRST_PARTY=new Zs("first-party-uid"),Zs.MOCK_USER=new Zs("mock-user");let ea="11.7.0";const ta=new Eo("@firebase/firestore");function na(){return ta.logLevel}function ra(e){if(ta.logLevel<=yo.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(sa);ta.debug(`Firestore (${ea}): ${e}`,...i)}}function ia(e){if(ta.logLevel<=yo.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(sa);ta.error(`Firestore (${ea}): ${e}`,...i)}}function oa(e){if(ta.logLevel<=yo.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(sa);ta.warn(`Firestore (${ea}): ${e}`,...i)}}function sa(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function aa(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,la(e,r,n)}function la(e,t,n){let r=`FIRESTORE (${ea}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw ia(r),new Error(r)}function ua(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||la(t,i,r)}function ca(e,t){return e}const da={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ha extends io{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fa{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class pa{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ga{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Zs.UNAUTHENTICATED)))}shutdown(){}}class ma{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ya{constructor(e){this.t=e,this.currentUser=Zs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ua(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new fa;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new fa,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{ra("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(ra("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new fa)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ra("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ua("string"==typeof t.accessToken,31837,{l:t}),new pa(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ua(null===e||"string"==typeof e,2055,{h:e}),new Zs(e)}}class va{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Zs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ba{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new va(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Zs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sa{constructor(e,t){var n;this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,null!==(n=e)&&void 0!==n&&void 0!==n.settings&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ua(void 0===this.o,3512);const n=e=>{null!=e.error&&ra("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,ra("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ra("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):ra("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wa(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ua("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new wa(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ea(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Ta(){return new TextEncoder}class xa{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Ea(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function ka(e,t){return e<t?-1:e>t?1:0}function Ca(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return ka(r,i);{const o=Ta(),s=_a(o.encode(Ia(e,n)),o.encode(Ia(t,n)));return 0!==s?s:ka(r,i)}}n+=r>65535?2:1}return ka(e.length,t.length)}function Ia(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function _a(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return ka(e[n],t[n]);return ka(e.length,t.length)}function Ra(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Da(e){return e+"\0"}const Aa=-62135596800,Na=1e6;class Pa{static now(){return Pa.fromMillis(Date.now())}static fromDate(e){return Pa.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Na);return new Pa(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ha(da.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ha(da.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Aa)throw new ha(da.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ha(da.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Na}_compareTo(e){return this.seconds===e.seconds?ka(this.nanoseconds,e.nanoseconds):ka(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Aa;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Oa{static fromTimestamp(e){return new Oa(e)}static min(){return new Oa(new Pa(0,0))}static max(){return new Oa(new Pa(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ma="__name__";class La{constructor(e,t,n){void 0===t?t=0:t>e.length&&aa(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&aa(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===La.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof La?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=La.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return ka(e.length,t.length)}static compareSegments(e,t){const n=La.isNumericId(e),r=La.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?La.extractNumericId(e).compare(La.extractNumericId(t)):Ca(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fs.fromString(e.substring(4,e.length-2))}}class Fa extends La{construct(e,t,n){return new Fa(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ha(da.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Fa(e)}static emptyPath(){return new Fa([])}}const Ba=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class za extends La{construct(e,t,n){return new za(e,t,n)}static isValidIdentifier(e){return Ba.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),za.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Ma}static keyField(){return new za([Ma])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ha(da.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ha(da.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ha(da.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new ha(da.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new za(t)}static emptyPath(){return new za([])}}class Va{constructor(e){this.path=e}static fromPath(e){return new Va(Fa.fromString(e))}static fromName(e){return new Va(Fa.fromString(e).popFirst(5))}static empty(){return new Va(Fa.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Fa.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Fa.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Va(new Fa(e.slice()))}}const ja=-1;class Ua{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function $a(e){return e.fields.find((e=>2===e.kind))}function qa(e){return e.fields.filter((e=>2!==e.kind))}Ua.UNKNOWN_ID=-1;class Wa{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ha{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ha(0,Qa.min())}}function Ka(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Oa.fromTimestamp(1e9===r?new Pa(n+1,0):new Pa(n,r));return new Qa(i,Va.empty(),t)}function Ga(e){return new Qa(e.readTime,e.key,ja)}class Qa{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Qa(Oa.min(),Va.empty(),ja)}static max(){return new Qa(Oa.max(),Va.empty(),ja)}}function Ya(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Va.comparator(e.documentKey,t.documentKey),0!==n?n:ka(e.largestBatchId,t.largestBatchId))}const Xa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ja{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Za(e){if(e.code!==da.FAILED_PRECONDITION||e.message!==Xa)throw e;ra("LocalStore","Unexpectedly lost primary lease")}class el{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&aa(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new el(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof el?t:el.resolve(t)}catch(e){return el.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):el.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):el.reject(t)}static resolve(e){return new el(((t,n)=>{t(e)}))}static reject(e){return new el(((t,n)=>{n(e)}))}static waitFor(e){return new el(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=el.resolve(!1);for(const n of e)t=t.next((e=>e?el.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new el(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new el(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}const tl="SimpleDb";class nl{static open(e,t,n,r){try{return new nl(t,e.transaction(r,n))}catch(e){throw new sl(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new fa,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new sl(e,t.error)):this.S.resolve()},this.transaction.onerror=t=>{const n=dl(t.target.error);this.S.reject(new sl(e,n))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ra(tl,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ll(t)}}class rl{static delete(e){return ra(tl,"Removing database:",e),ul(Yi().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!ro())return!1;if(rl.F())return!0;const e=to(),t=rl.M(e),n=0<t&&t<10,r=il(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static F(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.O)}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.B=n,this.L=null,12.2===rl.M(to())&&ia("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(ra(tl,"Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new sl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new ha(da.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new ha(da.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new sl(e,r))},r.onupgradeneeded=e=>{ra(tl,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;if(null!==this.L&&this.L!==e.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${e.oldVersion}, event.newVersion=${e.newVersion}, db.version=${t.version}`);this.B.q(t,r.transaction,e.oldVersion,this.version).next((()=>{ra(tl,"Database upgrade to version "+this.version+" complete")}))}})),this.db.addEventListener("close",(e=>{const t=e.target;this.L=t.version}),{passive:!0})),this.$&&(this.db.onversionchange=e=>this.$(e)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.k(e);const t=nl.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.v(),e))).catch((e=>(t.abort(e),el.reject(e)))).toPromise();return o.catch((()=>{})),await t.D,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(ra(tl,"Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function il(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class ol{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return ul(this.K.delete())}}class sl extends ha{constructor(e,t){super(da.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function al(e){return"IndexedDbTransactionError"===e.name}class ll{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(ra(tl,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(ra(tl,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ul(n)}add(e){return ra(tl,"ADD",this.store.name,e,e),ul(this.store.add(e))}get(e){return ul(this.store.get(e)).next((t=>(void 0===t&&(t=null),ra(tl,"GET",this.store.name,e,t),t)))}delete(e){return ra(tl,"DELETE",this.store.name,e),ul(this.store.delete(e))}count(){return ra(tl,"COUNT",this.store.name),ul(this.store.count())}J(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new el(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.Y(e,((e,n)=>{t.push(n)})).next((()=>t))}}Z(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new el(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}X(e,t){ra(tl,"DELETE ALL",this.store.name);const n=this.options(e,t);n.ee=!1;const r=this.cursor(n);return this.Y(r,((e,t,n)=>n.delete()))}te(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Y(r,t)}ne(e){const t=this.cursor({});return new el(((n,r)=>{t.onerror=e=>{const t=dl(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}Y(e,t){const n=[];return new el(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new ol(i),s=t(i.primaryKey,i.value,o);if(s instanceof el){const e=s.catch((e=>(o.done(),el.reject(e))));n.push(e)}o.isDone?r():null===o.j?i.continue():i.continue(o.j)}})).next((()=>el.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.ee?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ul(e){return new el(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=dl(e.target.error);n(t)}}))}let cl=!1;function dl(e){const t=rl.M(to());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new ha("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return cl||(cl=!0,setTimeout((()=>{throw e}),0)),e}}return e}const hl="IndexBackfiller";class fl{constructor(e,t){this.asyncQueue=e,this.re=t,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ie(e){ra(hl,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const e=await this.re.se();ra(hl,`Documents written: ${e}`)}catch(e){al(e)?ra(hl,"Ignoring IndexedDB error during index backfill: ",e):await Za(e)}await this.ie(6e4)}))}}class pl{constructor(e,t){this.localStore=e,this.persistence=t}async se(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.oe(t,e)))}oe(e,t){const n=new Set;let r=t,i=!0;return el.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return ra(hl,`Processing collection: ${t}`),this._e(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}_e(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ae(r,n))).next((n=>(ra(hl,`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ae(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Ga(t);Ya(r,n)>0&&(n=r)})),new Qa(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class gl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}gl.le=-1;const ml=-1;function yl(e){return null==e}function vl(e){return 0===e&&1/e==-1/0}function bl(e){return"number"==typeof e&&Number.isInteger(e)&&!vl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const wl="\x01";function Sl(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Tl(t)),t=El(e.get(n),t);return Tl(t)}function El(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case wl:n+="\x01\x11";break;default:n+=t}}return n}function Tl(e){return e+wl+"\x01"}function xl(e){const t=e.length;if(ua(t>=2,64408,{path:e}),2===t)return ua(e.charAt(0)===wl&&"\x01"===e.charAt(1),56145,{path:e}),Fa.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf(wl,o);switch((t<0||t>n)&&aa(50515,{path:e}),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:aa(61167,{path:e})}o=t+2}return new Fa(r)}const kl="remoteDocuments",Cl="owner",Il="owner",_l="mutationQueues",Rl="mutations",Dl="batchId",Al="userMutationsIndex",Nl=["userId","batchId"];function Pl(e,t){return[e,Sl(t)]}function Ol(e,t,n){return[e,Sl(t),n]}const Ml={},Ll="documentMutations",Fl="remoteDocumentsV14",Bl=["prefixPath","collectionGroup","readTime","documentId"],zl="documentKeyIndex",Vl=["prefixPath","collectionGroup","documentId"],jl="collectionGroupIndex",Ul=["collectionGroup","readTime","prefixPath","documentId"],$l="remoteDocumentGlobal",ql="remoteDocumentGlobalKey",Wl="targets",Hl="queryTargetsIndex",Kl=["canonicalId","targetId"],Gl="targetDocuments",Ql=["targetId","path"],Yl="documentTargetsIndex",Xl=["path","targetId"],Jl="targetGlobalKey",Zl="targetGlobal",eu="collectionParents",tu=["collectionId","parent"],nu="clientMetadata",ru="bundles",iu="namedQueries",ou="indexConfiguration",su="collectionGroupIndex",au="indexState",lu=["indexId","uid"],uu="sequenceNumberIndex",cu=["uid","sequenceNumber"],du="indexEntries",hu=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fu="documentKeyIndex",pu=["indexId","uid","orderedDocumentKey"],gu="documentOverlays",mu=["userId","collectionPath","documentId"],yu="collectionPathOverlayIndex",vu=["userId","collectionPath","largestBatchId"],bu="collectionGroupOverlayIndex",wu=["userId","collectionGroup","largestBatchId"],Su="globals",Eu=[_l,Rl,Ll,kl,Wl,Cl,Zl,Gl,nu,$l,eu,ru,iu],Tu=[...Eu,gu],xu=[_l,Rl,Ll,Fl,Wl,Cl,Zl,Gl,nu,$l,eu,ru,iu,gu],ku=xu,Cu=[...ku,ou,au,du],Iu=Cu,_u=[...Cu,Su];class Ru extends Ja{constructor(e,t){super(),this.he=e,this.currentSequenceNumber=t}}function Du(e,t){const n=ca(e);return rl.N(n.he,t)}function Au(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Nu(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Pu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ou{constructor(e,t){this.comparator=e,this.root=t||Lu.EMPTY}insert(e,t){return new Ou(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lu.BLACK,null,null))}remove(e){return new Ou(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lu.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mu(this.root,e,this.comparator,!0)}}class Mu{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lu{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Lu.RED,this.left=null!=r?r:Lu.EMPTY,this.right=null!=i?i:Lu.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Lu(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Lu.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Lu.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw aa(43730,{key:this.key,value:this.value});if(this.right.isRed())throw aa(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw aa(27949);return e+(this.isRed()?0:1)}}Lu.EMPTY=null,Lu.RED=!0,Lu.BLACK=!1,Lu.EMPTY=new class{constructor(){this.size=0}get key(){throw aa(57766)}get value(){throw aa(16141)}get color(){throw aa(16727)}get left(){throw aa(29726)}get right(){throw aa(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Lu(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fu{constructor(e){this.comparator=e,this.data=new Ou(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bu(this.data.getIterator())}getIteratorFrom(e){return new Bu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Fu))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Fu(this.comparator);return t.data=e,t}}class Bu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function zu(e){return e.hasNext()?e.getNext():void 0}class Vu{constructor(e){this.fields=e,e.sort(za.comparator)}static empty(){return new Vu([])}unionWith(e){let t=new Fu(za.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Vu(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ra(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ju extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Uu{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ju("Invalid base64 string: "+e):e}}(e);return new Uu(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Uu(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ka(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Uu.EMPTY_BYTE_STRING=new Uu("");const $u=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qu(e){if(ua(!!e,39018),"string"==typeof e){let t=0;const n=$u.exec(e);if(ua(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Wu(e.seconds),nanos:Wu(e.nanos)}}function Wu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Hu(e){return"string"==typeof e?Uu.fromBase64String(e):Uu.fromUint8Array(e)}const Ku="server_timestamp",Gu="__type__",Qu="__previous_value__",Yu="__local_write_time__";function Xu(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Gu])||void 0===n?void 0:n.stringValue)===Ku}function Ju(e){const t=e.mapValue.fields[Qu];return Xu(t)?Ju(t):t}function Zu(e){const t=qu(e.mapValue.fields[Yu].timestampValue);return new Pa(t.seconds,t.nanos)}class ec{constructor(e,t,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=u}}const tc="(default)";class nc{constructor(e,t){this.projectId=e,this.database=t||tc}static empty(){return new nc("","")}get isDefaultDatabase(){return this.database===tc}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}const rc="__type__",ic="__max__",oc={mapValue:{fields:{__type__:{stringValue:ic}}}},sc="__vector__",ac="value",lc={nullValue:"NULL_VALUE"};function uc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Xu(e)?4:Cc(e)?9007199254740991:xc(e)?10:11:aa(28295,{value:e})}function cc(e,t){if(e===t)return!0;const n=uc(e);if(n!==uc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Zu(e).isEqual(Zu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=qu(e.timestampValue),r=qu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Hu(e.bytesValue).isEqual(Hu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Wu(e.geoPointValue.latitude)===Wu(t.geoPointValue.latitude)&&Wu(e.geoPointValue.longitude)===Wu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Wu(e.integerValue)===Wu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Wu(e.doubleValue),r=Wu(t.doubleValue);return n===r?vl(n)===vl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ra(e.arrayValue.values||[],t.arrayValue.values||[],cc);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Au(n)!==Au(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!cc(n[i],r[i])))return!1;return!0}(e,t);default:return aa(52216,{left:e})}}function dc(e,t){return void 0!==(e.values||[]).find((e=>cc(e,t)))}function hc(e,t){if(e===t)return 0;const n=uc(e),r=uc(t);if(n!==r)return ka(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ka(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Wu(e.integerValue||e.doubleValue),r=Wu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return fc(e.timestampValue,t.timestampValue);case 4:return fc(Zu(e),Zu(t));case 5:return Ca(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Hu(e),r=Hu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ka(n[i],r[i]);if(0!==e)return e}return ka(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ka(Wu(e.latitude),Wu(t.latitude));return 0!==n?n:ka(Wu(e.longitude),Wu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return pc(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const s=e.fields||{},a=t.fields||{},l=null===(n=s[ac])||void 0===n?void 0:n.arrayValue,u=null===(r=a[ac])||void 0===r?void 0:r.arrayValue,c=ka((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==u?void 0:u.values)||void 0===o?void 0:o.length)||0);return 0!==c?c:pc(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===oc.mapValue&&t===oc.mapValue)return 0;if(e===oc.mapValue)return 1;if(t===oc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Ca(r[s],o[s]);if(0!==e)return e;const t=hc(n[r[s]],i[o[s]]);if(0!==t)return t}return ka(r.length,o.length)}(e.mapValue,t.mapValue);default:throw aa(23264,{Pe:n})}}function fc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ka(e,t);const n=qu(e),r=qu(t),i=ka(n.seconds,r.seconds);return 0!==i?i:ka(n.nanos,r.nanos)}function pc(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=hc(n[i],r[i]);if(e)return e}return ka(n.length,r.length)}function gc(e){return mc(e)}function mc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=qu(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Hu(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Va.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=mc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${mc(e.fields[i])}`;return n+"}"}(e.mapValue):aa(61005,{value:e})}function yc(e){switch(uc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ju(e);return t?16+yc(t):16;case 5:return 2*e.stringValue.length;case 6:return Hu(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+yc(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Nu(e.fields,((e,n)=>{t+=e.length+yc(n)})),t}(e.mapValue);default:throw aa(13486,{value:e})}}function vc(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function bc(e){return!!e&&"integerValue"in e}function wc(e){return!!e&&"arrayValue"in e}function Sc(e){return!!e&&"nullValue"in e}function Ec(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Tc(e){return!!e&&"mapValue"in e}function xc(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[rc])||void 0===n?void 0:n.stringValue)===sc}function kc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Nu(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=kc(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=kc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Cc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ic}const Ic={mapValue:{fields:{[rc]:{stringValue:sc},[ac]:{arrayValue:{}}}}};function _c(e){return"nullValue"in e?lc:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?vc(nc.empty(),Va.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?xc(e)?Ic:{mapValue:{}}:aa(35942,{value:e})}function Rc(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?vc(nc.empty(),Va.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?Ic:"mapValue"in e?xc(e)?{mapValue:{}}:oc:aa(61959,{value:e})}function Dc(e,t){const n=hc(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ac(e,t){const n=hc(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Nc{constructor(e){this.value=e}static empty(){return new Nc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Tc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(t)}setAll(e){let t=za.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=kc(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Tc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Tc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Nu(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Nc(kc(this.value))}}function Pc(e){const t=[];return Nu(e.fields,((e,n)=>{const r=new za([e]);if(Tc(n)){const e=Pc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Vu(t)}class Oc{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Oc(e,0,Oa.min(),Oa.min(),Oa.min(),Nc.empty(),0)}static newFoundDocument(e,t,n,r){return new Oc(e,1,t,Oa.min(),n,r,0)}static newNoDocument(e,t){return new Oc(e,2,t,Oa.min(),Oa.min(),Nc.empty(),0)}static newUnknownDocument(e,t){return new Oc(e,3,t,Oa.min(),Oa.min(),Nc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oa.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oa.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Oc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Oc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mc{constructor(e,t){this.position=e,this.inclusive=t}}function Lc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Va.comparator(Va.fromName(s.referenceValue),n.key):hc(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Fc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!cc(e.position[n],t.position[n]))return!1;return!0}class Bc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function zc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Vc{}class jc extends Vc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Xc(e,t,n):"array-contains"===t?new td(e,n):"in"===t?new nd(e,n):"not-in"===t?new rd(e,n):"array-contains-any"===t?new id(e,n):new jc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Jc(e,n):new Zc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(hc(t,this.value)):null!==t&&uc(this.value)===uc(t)&&this.matchesComparison(hc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return aa(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Uc extends Vc{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Uc(e,t)}matches(e){return $c(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function $c(e){return"and"===e.op}function qc(e){return"or"===e.op}function Wc(e){return Hc(e)&&$c(e)}function Hc(e){for(const t of e.filters)if(t instanceof Uc)return!1;return!0}function Kc(e){if(e instanceof jc)return e.field.canonicalString()+e.op.toString()+gc(e.value);if(Wc(e))return e.filters.map((e=>Kc(e))).join(",");{const t=e.filters.map((e=>Kc(e))).join(",");return`${e.op}(${t})`}}function Gc(e,t){return e instanceof jc?function(e,t){return t instanceof jc&&e.op===t.op&&e.field.isEqual(t.field)&&cc(e.value,t.value)}(e,t):e instanceof Uc?function(e,t){return t instanceof Uc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Gc(n,t.filters[r])),!0)}(e,t):void aa(19439)}function Qc(e,t){const n=e.filters.concat(t);return Uc.create(n,e.op)}function Yc(e){return e instanceof jc?function(e){return`${e.field.canonicalString()} ${e.op} ${gc(e.value)}`}(e):e instanceof Uc?function(e){return e.op.toString()+" {"+e.getFilters().map(Yc).join(" ,")+"}"}(e):"Filter"}class Xc extends jc{constructor(e,t,n){super(e,t,n),this.key=Va.fromName(n.referenceValue)}matches(e){const t=Va.comparator(e.key,this.key);return this.matchesComparison(t)}}class Jc extends jc{constructor(e,t){super(e,"in",t),this.keys=ed("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Zc extends jc{constructor(e,t){super(e,"not-in",t),this.keys=ed("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ed(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Va.fromName(e.referenceValue)))}class td extends jc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wc(t)&&dc(t.arrayValue,this.value)}}class nd extends jc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&dc(this.value.arrayValue,t)}}class rd extends jc{constructor(e,t){super(e,"not-in",t)}matches(e){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!dc(this.value.arrayValue,t)}}class id extends jc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>dc(this.value.arrayValue,e)))}}class od{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Ie=null}}function sd(e){return new od(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ad(e){const t=ca(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Kc(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),yl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>gc(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>gc(e))).join(",")),t.Ie=e}return t.Ie}function ld(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!zc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Gc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Fc(e.startAt,t.startAt)&&Fc(e.endAt,t.endAt)}function ud(e){return Va.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function cd(e,t){return e.filters.filter((e=>e instanceof jc&&e.field.isEqual(t)))}function dd(e,t,n){let r=lc,i=!0;for(const o of cd(e,t)){let e=lc,t=!0;switch(o.op){case"<":case"<=":e=_c(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=lc}Dc({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Dc({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function hd(e,t,n){let r=oc,i=!0;for(const o of cd(e,t)){let e=oc,t=!0;switch(o.op){case">=":case">":e=Rc(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=oc}Ac({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Ac({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class fd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function pd(e,t,n,r,i,o,s,a){return new fd(e,t,n,r,i,o,s,a)}function gd(e){return new fd(e)}function md(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function yd(e){return null!==e.collectionGroup}function vd(e){const t=ca(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Fu(za.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new Bc(r,n))})),e.has(za.keyField().canonicalString())||t.Ee.push(new Bc(za.keyField(),n))}return t.Ee}function bd(e){const t=ca(e);return t.de||(t.de=wd(t,vd(e))),t.de}function wd(e,t){if("F"===e.limitType)return sd(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Bc(e.field,t)}));const n=e.endAt?new Mc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Mc(e.startAt.position,e.startAt.inclusive):null;return sd(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Sd(e,t,n){return new fd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ed(e,t){return ld(bd(e),bd(t))&&e.limitType===t.limitType}function Td(e){return`${ad(bd(e))}|lt:${e.limitType}`}function xd(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Yc(e))).join(", ")}]`),yl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>gc(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>gc(e))).join(",")),`Target(${t})`}(bd(e))}; limitType=${e.limitType})`}function kd(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Va.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of vd(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Lc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,vd(e),t))&&!(e.endAt&&!function(e,t,n){const r=Lc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,vd(e),t))}(e,t)}function Cd(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Id(e){return(t,n)=>{let r=!1;for(const i of vd(e)){const e=_d(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function _d(e,t,n){const r=e.field.isKeyField()?Va.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?hc(r,i):aa(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return aa(19790,{direction:e.dir})}}class Rd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Nu(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Pu(this.inner)}size(){return this.innerSize}}const Dd=new Ou(Va.comparator);function Ad(){return Dd}const Nd=new Ou(Va.comparator);function Pd(){let e=Nd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Od(e){let t=Nd;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Md(){return Fd()}function Ld(){return Fd()}function Fd(){return new Rd((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Bd=new Ou(Va.comparator),zd=new Fu(Va.comparator);function Vd(){let e=zd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const jd=new Fu(ka);function Ud(){return jd}function $d(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vl(t)?"-0":t}}function qd(e){return{integerValue:""+e}}function Wd(e,t){return bl(t)?qd(t):$d(e,t)}class Hd{constructor(){this._=void 0}}function Kd(e,t,n){return e instanceof Yd?function(e,t){const n={fields:{[Gu]:{stringValue:Ku},[Yu]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Xu(t)&&(t=Ju(t)),t&&(n.fields[Qu]=t),{mapValue:n}}(n,t):e instanceof Xd?Jd(e,t):e instanceof Zd?eh(e,t):function(e,t){const n=Qd(e,t),r=nh(n)+nh(e.Re);return bc(n)&&bc(e.Re)?qd(r):$d(e.serializer,r)}(e,t)}function Gd(e,t,n){return e instanceof Xd?Jd(e,t):e instanceof Zd?eh(e,t):n}function Qd(e,t){return e instanceof th?function(e){return bc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Yd extends Hd{}class Xd extends Hd{constructor(e){super(),this.elements=e}}function Jd(e,t){const n=rh(t);for(const r of e.elements)n.some((e=>cc(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Zd extends Hd{constructor(e){super(),this.elements=e}}function eh(e,t){let n=rh(t);for(const r of e.elements)n=n.filter((e=>!cc(e,r)));return{arrayValue:{values:n}}}class th extends Hd{constructor(e,t){super(),this.serializer=e,this.Re=t}}function nh(e){return Wu(e.integerValue||e.doubleValue)}function rh(e){return wc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ih{constructor(e,t){this.field=e,this.transform=t}}class oh{constructor(e,t){this.version=e,this.transformResults=t}}class sh{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new sh}static exists(e){return new sh(void 0,e)}static updateTime(e){return new sh(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class lh{}function uh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new bh(e.key,sh.none()):new ph(e.key,e.data,sh.none());{const n=e.data,r=Nc.empty();let i=new Fu(za.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new gh(e.key,r,new Vu(i.toArray()),sh.none())}}function ch(e,t,n){e instanceof ph?function(e,t,n){const r=e.value.clone(),i=yh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof gh?function(e,t,n){if(!ah(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=yh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(mh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function dh(e,t,n,r){return e instanceof ph?function(e,t,n,r){if(!ah(e.precondition,t))return n;const i=e.value.clone(),o=vh(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof gh?function(e,t,n,r){if(!ah(e.precondition,t))return n;const i=vh(e.fieldTransforms,r,t),o=t.data;return o.setAll(mh(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return ah(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function hh(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Qd(r.transform,e||null);null!=i&&(null===n&&(n=Nc.empty()),n.set(r.field,i))}return n||null}function fh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ra(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Xd&&t instanceof Xd||e instanceof Zd&&t instanceof Zd?Ra(e.elements,t.elements,cc):e instanceof th&&t instanceof th?cc(e.Re,t.Re):e instanceof Yd&&t instanceof Yd}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ph extends lh{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class gh extends lh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function mh(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function yh(e,t,n){const r=new Map;ua(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Gd(s,a,n[i]))}return r}function vh(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Kd(e,o,t))}return r}class bh extends lh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wh extends lh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Sh{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ch(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=dh(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=dh(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ld();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=uh(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Oa.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Vd())}isEqual(e){return this.batchId===e.batchId&&Ra(this.mutations,e.mutations,((e,t)=>fh(e,t)))&&Ra(this.baseMutations,e.baseMutations,((e,t)=>fh(e,t)))}}class Eh{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ua(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=Bd;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Eh(e,t,n,r)}}class Th{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class xh{constructor(e,t){this.count=e,this.unchangedNames=t}}var kh,Ch;function Ih(e){switch(e){case da.OK:return aa(64938);case da.CANCELLED:case da.UNKNOWN:case da.DEADLINE_EXCEEDED:case da.RESOURCE_EXHAUSTED:case da.INTERNAL:case da.UNAVAILABLE:case da.UNAUTHENTICATED:return!1;case da.INVALID_ARGUMENT:case da.NOT_FOUND:case da.ALREADY_EXISTS:case da.PERMISSION_DENIED:case da.FAILED_PRECONDITION:case da.ABORTED:case da.OUT_OF_RANGE:case da.UNIMPLEMENTED:case da.DATA_LOSS:return!0;default:return aa(15467,{code:e})}}function _h(e){if(void 0===e)return ia("GRPC error has no .code"),da.UNKNOWN;switch(e){case kh.OK:return da.OK;case kh.CANCELLED:return da.CANCELLED;case kh.UNKNOWN:return da.UNKNOWN;case kh.DEADLINE_EXCEEDED:return da.DEADLINE_EXCEEDED;case kh.RESOURCE_EXHAUSTED:return da.RESOURCE_EXHAUSTED;case kh.INTERNAL:return da.INTERNAL;case kh.UNAVAILABLE:return da.UNAVAILABLE;case kh.UNAUTHENTICATED:return da.UNAUTHENTICATED;case kh.INVALID_ARGUMENT:return da.INVALID_ARGUMENT;case kh.NOT_FOUND:return da.NOT_FOUND;case kh.ALREADY_EXISTS:return da.ALREADY_EXISTS;case kh.PERMISSION_DENIED:return da.PERMISSION_DENIED;case kh.FAILED_PRECONDITION:return da.FAILED_PRECONDITION;case kh.ABORTED:return da.ABORTED;case kh.OUT_OF_RANGE:return da.OUT_OF_RANGE;case kh.UNIMPLEMENTED:return da.UNIMPLEMENTED;case kh.DATA_LOSS:return da.DATA_LOSS;default:return aa(39323,{code:e})}}(Ch=kh||(kh={}))[Ch.OK=0]="OK",Ch[Ch.CANCELLED=1]="CANCELLED",Ch[Ch.UNKNOWN=2]="UNKNOWN",Ch[Ch.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ch[Ch.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ch[Ch.NOT_FOUND=5]="NOT_FOUND",Ch[Ch.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ch[Ch.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ch[Ch.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ch[Ch.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ch[Ch.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ch[Ch.ABORTED=10]="ABORTED",Ch[Ch.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ch[Ch.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ch[Ch.INTERNAL=13]="INTERNAL",Ch[Ch.UNAVAILABLE=14]="UNAVAILABLE",Ch[Ch.DATA_LOSS=15]="DATA_LOSS";let Rh=null;const Dh=new Fs([4294967295,4294967295],0);function Ah(e){const t=Ta().encode(e),n=new Bs;return n.update(t),new Uint8Array(n.digest())}function Nh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Fs([n,r],0),new Fs([i,o],0)]}class Ph{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Oh(`Invalid padding: ${t}`);if(n<0)throw new Oh(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Oh(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Oh(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Fs.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(Fs.fromNumber(n)));return 1===r.compare(Dh)&&(r=new Fs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=Ah(e),[n,r]=Nh(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Ph(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.pe)return;const t=Ah(e),[n,r]=Nh(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Oh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mh{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Lh.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Mh(Oa.min(),r,new Ou(ka),Ad(),Vd())}}class Lh{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Lh(n,t,Vd(),Vd(),Vd())}}class Fh{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class Bh{constructor(e,t){this.targetId=e,this.Ce=t}}class zh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uu.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Vh{constructor(){this.Fe=0,this.Me=$h(),this.xe=Uu.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Vd(),t=Vd(),n=Vd();return this.Me.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:aa(38017,{changeType:i})}})),new Lh(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=$h()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ua(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class jh{constructor(e){this.ze=e,this.je=new Map,this.He=Ad(),this.Je=Uh(),this.Ye=Uh(),this.Ze=new Ou(ka)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:aa(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const i=r.target;if(ud(i))if(0===n){const e=new Va(i.path);this.tt(t,e,Oc.newNoDocument(e,Oa.min()))}else ua(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),i=n?this.lt(n,e,r):1;if(0!==i){this.st(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==Rh||Rh.ht(function(e,t,n,r,i){var o,s,a,l,u,c;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==h?void 0:h.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.Ce,this.ze.Pt(),n,i))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Hu(n).toUint8Array()}catch(e){if(e instanceof ju)return oa("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Ph(o,r,i)}catch(e){return oa(e instanceof Oh?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.pe?null:s}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ze.Pt(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.tt(t,n,null),r++)})),r}It(e){const t=new Map;this.je.forEach(((n,r)=>{const i=this._t(r);if(i){if(n.current&&ud(i.target)){const t=new Va(i.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,Oc.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}}));let n=Vd();this.Ye.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const r=new Mh(e,t,this.Ze,this.He,n);return this.He=Ad(),this.Je=Uh(),this.Ye=Uh(),this.Ze=new Ou(ka),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Vh,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Fu(ka),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Fu(ka),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||ra("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Vh),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Uh(){return new Ou(Va.comparator)}function $h(){return new Ou(Va.comparator)}const qh={asc:"ASCENDING",desc:"DESCENDING"},Wh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hh={and:"AND",or:"OR"};class Kh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Gh(e,t){return e.useProto3Json||yl(t)?t:{value:t}}function Qh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Yh(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Xh(e,t){return Qh(e,t.toTimestamp())}function Jh(e){return ua(!!e,49232),Oa.fromTimestamp(function(e){const t=qu(e);return new Pa(t.seconds,t.nanos)}(e))}function Zh(e,t){return ef(e,t).canonicalString()}function ef(e,t){const n=function(e){return new Fa(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function tf(e){const t=Fa.fromString(e);return ua(xf(t),10190,{key:t.toString()}),t}function nf(e,t){return Zh(e.databaseId,t.path)}function rf(e,t){const n=tf(t);if(n.get(1)!==e.databaseId.projectId)throw new ha(da.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ha(da.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Va(lf(n))}function of(e,t){return Zh(e.databaseId,t)}function sf(e){const t=tf(e);return 4===t.length?Fa.emptyPath():lf(t)}function af(e){return new Fa(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function lf(e){return ua(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function uf(e,t,n){return{name:nf(e,t),fields:n.value.mapValue.fields}}function cf(e,t,n){const r=rf(e,t.name),i=Jh(t.updateTime),o=t.createTime?Jh(t.createTime):Oa.min(),s=new Nc({mapValue:{fields:t.fields}}),a=Oc.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function df(e,t){let n;if(t instanceof ph)n={update:uf(e,t.key,t.value)};else if(t instanceof bh)n={delete:nf(e,t.key)};else if(t instanceof gh)n={update:uf(e,t.key,t.data),updateMask:Tf(t.fieldMask)};else{if(!(t instanceof wh))return aa(16599,{ft:t.type});n={verify:nf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Yd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Xd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Zd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof th)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw aa(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Xh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:aa(27497)}(e,t.precondition)),n}function hf(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?sh.updateTime(Jh(e.updateTime)):void 0!==e.exists?sh.exists(e.exists):sh.none()}(t.currentDocument):sh.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)ua("REQUEST_TIME"===t.setToServerValue,16630,{proto:t}),n=new Yd;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Xd(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Zd(e)}else"increment"in t?n=new th(e,t.increment):aa(16584,{proto:t});const r=za.fromServerFormat(t.fieldPath);return new ih(r,n)}(e,t))):[];if(t.update){t.update.name;const i=rf(e,t.update.name),o=new Nc({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Vu(t.map((e=>za.fromServerFormat(e))))}(t.updateMask);return new gh(i,o,e,n,r)}return new ph(i,o,n,r)}if(t.delete){const r=rf(e,t.delete);return new bh(r,n)}if(t.verify){const r=rf(e,t.verify);return new wh(r,n)}return aa(1463,{proto:t})}function ff(e,t){return{documents:[of(e,t.path)]}}function pf(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=of(e,i);const o=function(e){if(0!==e.length)return Ef(Uc.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:wf(e.field),direction:yf(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Gh(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:i}}function gf(e){let t=sf(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ua(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=mf(e);return t instanceof Uc&&Wc(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Bc(Sf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,yl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Mc(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Mc(n,t)}(n.endAt)),pd(t,i,s,o,a,"F",l,u)}function mf(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Sf(e.unaryFilter.field);return jc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Sf(e.unaryFilter.field);return jc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Sf(e.unaryFilter.field);return jc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Sf(e.unaryFilter.field);return jc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return aa(61313);default:return aa(60726)}}(e):void 0!==e.fieldFilter?function(e){return jc.create(Sf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return aa(58110);default:return aa(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Uc.create(e.compositeFilter.filters.map((e=>mf(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return aa(1026)}}(e.compositeFilter.op))}(e):aa(30097,{filter:e})}function yf(e){return qh[e]}function vf(e){return Wh[e]}function bf(e){return Hh[e]}function wf(e){return{fieldPath:e.canonicalString()}}function Sf(e){return za.fromServerFormat(e.fieldPath)}function Ef(e){return e instanceof jc?function(e){if("=="===e.op){if(Ec(e.value))return{unaryFilter:{field:wf(e.field),op:"IS_NAN"}};if(Sc(e.value))return{unaryFilter:{field:wf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ec(e.value))return{unaryFilter:{field:wf(e.field),op:"IS_NOT_NAN"}};if(Sc(e.value))return{unaryFilter:{field:wf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wf(e.field),op:vf(e.op),value:e.value}}}(e):e instanceof Uc?function(e){const t=e.getFilters().map((e=>Ef(e)));return 1===t.length?t[0]:{compositeFilter:{op:bf(e.op),filters:t}}}(e):aa(54877,{filter:e})}function Tf(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function xf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class kf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Oa.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Oa.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Uu.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new kf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new kf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Cf{constructor(e){this.wt=e}}function If(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:_f(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:nf(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Qh(e,t.version.toTimestamp()),createTime:Qh(e,t.createTime.toTimestamp())}}(e.wt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Rf(t.version)};else{if(!t.isUnknownDocument())return aa(57904,{document:t});r.unknownDocument={path:n.path.toArray(),version:Rf(t.version)}}return r}function _f(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Rf(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Df(e){const t=new Pa(e.seconds,e.nanoseconds);return Oa.fromTimestamp(t)}function Af(e,t){const n=(t.baseMutations||[]).map((t=>hf(e.wt,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>hf(e.wt,t))),i=Pa.fromMillis(t.localWriteTimeMs);return new Sh(t.batchId,i,n,r)}function Nf(e){const t=Df(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Df(e.lastLimboFreeSnapshotVersion):Oa.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){const t=e.documents.length;return ua(1===t,1966,{count:t}),bd(gd(sf(e.documents[0])))}(e.query):function(e){return bd(gf(e))}(e.query),new kf(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Uu.fromBase64String(e.resumeToken))}function Pf(e,t){const n=Rf(t.snapshotVersion),r=Rf(t.lastLimboFreeSnapshotVersion);let i;i=ud(t.target)?ff(e.wt,t.target):pf(e.wt,t.target).gt;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ad(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Of(e){const t=gf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Sd(t,t.limit,"L"):t}function Mf(e,t){return new Th(t.largestBatchId,hf(e.wt,t.overlayMutation))}function Lf(e,t){const n=t.path.lastSegment();return[e,Sl(t.path.popLast()),n]}function Ff(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Rf(r.readTime),documentKey:Sl(r.documentKey.path),largestBatchId:r.largestBatchId}}class Bf{getBundleMetadata(e,t){return zf(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Df(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return zf(e).put(function(e){return{bundleId:e.id,createTime:Rf(Jh(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Vf(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Of(e.bundledQuery),readTime:Df(e.readTime)}}(e)}))}saveNamedQuery(e,t){return Vf(e).put(function(e){return{name:e.name,readTime:Rf(Jh(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function zf(e){return Du(e,ru)}function Vf(e){return Du(e,iu)}class jf{constructor(e,t){this.serializer=e,this.userId=t}static bt(e,t){const n=t.uid||"";return new jf(e,n)}getOverlay(e,t){return Uf(e).get(Lf(this.userId,t)).next((e=>e?Mf(this.serializer,e):null))}getOverlays(e,t){const n=Md();return el.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new Th(t,i);r.push(this.St(e,o))})),el.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Sl(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Uf(e).X(yu,r))})),el.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Md(),i=Sl(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Uf(e).J(yu,o).next((e=>{for(const t of e){const e=Mf(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Md();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Uf(e).te({index:bu,range:s},((e,t,n)=>{const s=Mf(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}St(e,t){return Uf(e).put(function(e,t,n){const[r,i,o]=Lf(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:df(e.wt,n.mutation)}}(this.serializer,this.userId,t))}}function Uf(e){return Du(e,gu)}class $f{Dt(e){return Du(e,Su)}getSessionToken(e){return this.Dt(e).get("sessionToken").next((e=>{const t=null==e?void 0:e.value;return t?Uu.fromUint8Array(t):Uu.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.Dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class qf{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Wu(e.integerValue));else if("doubleValue"in e){const n=Wu(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),vl(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=qu(n)),t.Ot(`${n.seconds||""}`),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Hu(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?Cc(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):xc(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):aa(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const i=e.fields||{};this.Mt(t,53);const o=ac,s=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(Wu(s)),this.Nt(o,t),this.Ct(i[o],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),Va.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}qf.Wt=new qf;const Wf=255;function Hf(e){if(0===e)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}function Kf(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Hf(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}class Gf{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.zt(n.value),n=t.next();this.jt()}Ht(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Jt(n.value),n=t.next();this.Yt()}Zt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.zt(e);else if(e<2048)this.zt(960|e>>>6),this.zt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.zt(480|e>>>12),this.zt(128|63&e>>>6),this.zt(128|63&e);else{const e=t.codePointAt(0);this.zt(240|e>>>18),this.zt(128|63&e>>>12),this.zt(128|63&e>>>6),this.zt(128|63&e)}}this.jt()}Xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Jt(e);else if(e<2048)this.Jt(960|e>>>6),this.Jt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Jt(480|e>>>12),this.Jt(128|63&e>>>6),this.Jt(128|63&e);else{const e=t.codePointAt(0);this.Jt(240|e>>>18),this.Jt(128|63&e>>>12),this.Jt(128|63&e>>>6),this.Jt(128|63&e)}}this.Yt()}en(e){const t=this.tn(e),n=Kf(t);this.nn(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}rn(e){const t=this.tn(e),n=Kf(t);this.nn(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}sn(){this._n(Wf),this._n(255)}an(){this.un(Wf),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}zt(e){const t=255&e;0===t?(this._n(0),this._n(255)):t===Wf?(this._n(Wf),this._n(0)):this._n(t)}Jt(e){const t=255&e;0===t?(this.un(0),this.un(255)):t===Wf?(this.un(Wf),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Qf{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class Yf{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class Xf{constructor(){this.ln=new Gf,this.hn=new Qf(this.ln),this.Pn=new Yf(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return 0===e?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}class Jf{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}In(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Jf(this.indexId,this.documentKey,this.arrayValue,n)}}function Zf(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=ep(e.arrayValue,t.arrayValue),0!==n?n:(n=ep(e.directionalValue,t.directionalValue),0!==n?n:Va.comparator(e.documentKey,t.documentKey)))}function ep(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class tp{constructor(e){this.En=new Fu(((e,t)=>za.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.An=[];for(const t of e.filters){const e=t;e.isInequality()?this.En=this.En.add(e):this.An.push(e)}}get Rn(){return this.En.size>1}Vn(e){if(ua(e.collectionGroup===this.collectionId,49279),this.Rn)return!1;const t=$a(e);if(void 0!==t&&!this.mn(t))return!1;const n=qa(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.mn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.En.size>0){const e=this.En.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.fn(e,t)||!this.gn(this.dn[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.dn.length||!this.gn(this.dn[o++],e))return!1}return!0}pn(){if(this.Rn)return null;let e=new Fu(za.comparator);const t=[];for(const n of this.An)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Wa(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Wa(n.field,0))}for(const n of this.dn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Wa(n.field,"asc"===n.dir?0:1)));return new Ua(Ua.UNKNOWN_ID,this.collectionId,t,Ha.empty())}mn(e){for(const t of this.An)if(this.fn(t,e))return!0;return!1}fn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}gn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function np(e){var t,n;if(ua(e instanceof jc||e instanceof Uc,20012),e instanceof jc){if(e instanceof nd){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>jc.create(e.field,"==",t))))||[];return Uc.create(r,"or")}return e}const r=e.filters.map((e=>np(e)));return Uc.create(r,e.op)}function rp(e){if(0===e.getFilters().length)return[];const t=ap(np(e));return ua(sp(t),7391),ip(t)||op(t)?[t]:t.getFilters()}function ip(e){return e instanceof jc}function op(e){return e instanceof Uc&&Wc(e)}function sp(e){return ip(e)||op(e)||function(e){if(e instanceof Uc&&qc(e)){for(const t of e.getFilters())if(!ip(t)&&!op(t))return!1;return!0}return!1}(e)}function ap(e){if(ua(e instanceof jc||e instanceof Uc,34018),e instanceof jc)return e;if(1===e.filters.length)return ap(e.filters[0]);const t=e.filters.map((e=>ap(e)));let n=Uc.create(t,e.op);return n=cp(n),sp(n)?n:(ua(n instanceof Uc,64498),ua($c(n),40251),ua(n.filters.length>1,57927),n.filters.reduce(((e,t)=>lp(e,t))))}function lp(e,t){let n;return ua(e instanceof jc||e instanceof Uc,38388),ua(t instanceof jc||t instanceof Uc,25473),n=e instanceof jc?t instanceof jc?function(e,t){return Uc.create([e,t],"and")}(e,t):up(e,t):t instanceof jc?up(t,e):function(e,t){if(ua(e.filters.length>0&&t.filters.length>0,48005),$c(e)&&$c(t))return Qc(e,t.getFilters());const n=qc(e)?e:t,r=qc(e)?t:e,i=n.filters.map((e=>lp(e,r)));return Uc.create(i,"or")}(e,t),cp(n)}function up(e,t){if($c(t))return Qc(t,e.getFilters());{const n=t.filters.map((t=>lp(e,t)));return Uc.create(n,"or")}}function cp(e){if(ua(e instanceof jc||e instanceof Uc,11850),e instanceof jc)return e;const t=e.getFilters();if(1===t.length)return cp(t[0]);if(Hc(e))return e;const n=t.map((e=>cp(e))),r=[];return n.forEach((t=>{t instanceof jc?r.push(t):t instanceof Uc&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Uc.create(r,e.op)}class dp{constructor(){this.yn=new hp}addToCollectionParentIndex(e,t){return this.yn.add(t),el.resolve()}getCollectionParents(e,t){return el.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return el.resolve()}deleteFieldIndex(e,t){return el.resolve()}deleteAllFieldIndexes(e){return el.resolve()}createTargetIndexes(e,t){return el.resolve()}getDocumentsMatchingTarget(e,t){return el.resolve(null)}getIndexType(e,t){return el.resolve(0)}getFieldIndexes(e,t){return el.resolve([])}getNextCollectionGroupToUpdate(e){return el.resolve(null)}getMinOffset(e,t){return el.resolve(Qa.min())}getMinOffsetFromCollectionGroup(e,t){return el.resolve(Qa.min())}updateCollectionGroup(e,t,n){return el.resolve()}updateIndexEntries(e,t){return el.resolve()}}class hp{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Fu(Fa.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Fu(Fa.comparator)).toArray()}}const fp="IndexedDbIndexManager",pp=new Uint8Array(0);class gp{constructor(e,t){this.databaseId=t,this.wn=new hp,this.bn=new Rd((e=>ad(e)),((e,t)=>ld(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.wn.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.wn.add(t)}));const i={collectionId:n,parent:Sl(r)};return mp(e).put(i)}return el.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Da(t),""],!1,!0);return mp(e).J(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(xl(r.parent))}return n}))}addFieldIndex(e,t){const n=vp(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=bp(e);return i.next((e=>{n.put(Ff(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=vp(e),r=bp(e),i=yp(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=vp(e),n=yp(e),r=bp(e);return t.X().next((()=>n.X())).next((()=>r.X()))}createTargetIndexes(e,t){return el.forEach(this.Sn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new tp(t).pn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=yp(e);let r=!0;const i=new Map;return el.forEach(this.Sn(t),(t=>this.Dn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Vd();const r=[];return el.forEach(i,((i,o)=>{ra(fp,`Using index ${function(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`}(i)} to execute ${ad(t)}`);const s=function(e,t){const n=$a(t);if(void 0===n)return null;for(const r of cd(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of qa(t))for(const t of cd(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of qa(t)){const t=0===i.kind?dd(e,i.fieldPath,e.startAt):hd(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Mc(n,r)}(o,i),u=function(e,t){const n=[];let r=!0;for(const i of qa(t)){const t=0===i.kind?hd(e,i.fieldPath,e.endAt):dd(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Mc(n,r)}(o,i),c=this.vn(i,o,l),d=this.vn(i,o,u),h=this.Cn(i,o,a),f=this.Fn(i.indexId,s,c,l.inclusive,d,u.inclusive,h);return el.forEach(f,(i=>n.Z(i,t.limit).next((t=>{t.forEach((t=>{const n=Va.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return el.resolve(null)}))}Sn(e){let t=this.bn.get(e);return t||(t=0===e.filters.length?[e]:rp(Uc.create(e.filters,"and")).map((t=>sd(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.bn.set(e,t),t)}Fn(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),u=[];for(let c=0;c<a;++c){const a=t?this.Mn(t[c/l]):pp,d=this.xn(e,a,n[c%l],r),h=this.On(e,a,i[c%l],o),f=s.map((t=>this.xn(e,a,t,!0)));u.push(...this.createRange(d,h,f))}return u}xn(e,t,n,r){const i=new Jf(e,Va.empty(),t,n);return r?i:i.In()}On(e,t,n,r){const i=new Jf(e,Va.empty(),t,n);return r?i.In():i}Dn(e,t){const n=new tp(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.Vn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.Sn(t);return el.forEach(r,(t=>this.Dn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Fu(za.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}Nn(e,t){const n=new Xf;for(const r of qa(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Tn(r.kind);qf.Wt.vt(e,i)}return n.cn()}Mn(e){const t=new Xf;return qf.Wt.vt(e,t.Tn(0)),t.cn()}Bn(e,t){const n=new Xf;return qf.Wt.vt(vc(this.databaseId,t),n.Tn(function(e){const t=qa(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.cn()}Cn(e,t,n){if(null===n)return[];let r=[];r.push(new Xf);let i=0;for(const o of qa(e)){const e=n[i++];for(const n of r)if(this.Ln(t,o.fieldPath)&&wc(e))r=this.kn(r,o,e);else{const t=n.Tn(o.kind);qf.Wt.vt(e,t)}}return this.qn(r)}vn(e,t,n){return this.Cn(e,t,n.position)}qn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].cn();return t}kn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new Xf;n.seed(e.cn()),qf.Wt.vt(o,n.Tn(t.kind)),i.push(n)}return i}Ln(e,t){return!!e.filters.find((e=>e instanceof jc&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=vp(e),r=bp(e);return(t?n.J(su,IDBKeyRange.bound(t,t)):n.J()).next((e=>{const t=[];return el.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Ha(t.sequenceNumber,new Qa(Df(t.readTime),new Va(xl(t.documentKey)),t.largestBatchId)):Ha.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Wa(za.fromServerFormat(t),n)}));return new Ua(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ka(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=vp(e),i=bp(e);return this.Qn(e).next((e=>r.J(su,IDBKeyRange.bound(t,t)).next((t=>el.forEach(t,(t=>i.put(Ff(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return el.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?el.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),el.forEach(i,(n=>this.$n(e,t,n).next((t=>{const i=this.Un(r,n);return t.isEqual(i)?el.resolve():this.Kn(e,r,n,t,i)})))))))}))}Wn(e,t,n,r){return yp(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Bn(n,t.key),documentKey:t.key.path.toArray()})}Gn(e,t,n,r){return yp(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Bn(n,t.key),t.key.path.toArray()])}$n(e,t,n){const r=yp(e);let i=new Fu(Zf);return r.te({index:fu,range:IDBKeyRange.only([n.indexId,this.uid,this.Bn(n,t)])},((e,r)=>{i=i.add(new Jf(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}Un(e,t){let n=new Fu(Zf);const r=this.Nn(t,e);if(null==r)return n;const i=$a(t);if(null!=i){const o=e.data.field(i.fieldPath);if(wc(o))for(const i of o.arrayValue.values||[])n=n.add(new Jf(t.indexId,e.key,this.Mn(i),r))}else n=n.add(new Jf(t.indexId,e.key,pp,r));return n}Kn(e,t,n,r,i){ra(fp,"Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=zu(o),l=zu(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=zu(s)):t?(i(a),a=zu(o)):(a=zu(o),l=zu(s))}}(r,i,Zf,(r=>{o.push(this.Wn(e,t,n,r))}),(r=>{o.push(this.Gn(e,t,n,r))})),el.waitFor(o)}Qn(e){let t=1;return bp(e).te({index:uu,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Zf(e,t))).filter(((e,t,n)=>!t||0!==Zf(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=Zf(o,e),i=Zf(o,t);if(0===n)r[0]=e.In();else if(n>0&&i<0)r.push(o),r.push(o.In());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.zn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,pp,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,pp,[]];i.push(IDBKeyRange.bound(e,t))}return i}zn(e,t){return Zf(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(wp)}getMinOffset(e,t){return el.mapArray(this.Sn(t),(t=>this.Dn(e,t).next((e=>e||aa(44426))))).next(wp)}}function mp(e){return Du(e,eu)}function yp(e){return Du(e,du)}function vp(e){return Du(e,ou)}function bp(e){return Du(e,au)}function wp(e){ua(0!==e.length,28825);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Ya(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Qa(t.readTime,t.documentKey,n)}const Sp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ep=41943040;class Tp{static withCacheSize(e){return new Tp(e,Tp.DEFAULT_COLLECTION_PERCENTILE,Tp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function xp(e,t,n){const r=e.store(Rl),i=e.store(Ll),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.te({range:s},((e,t,n)=>(a++,n.delete())));o.push(l.next((()=>{ua(1===a,47070,{batchId:n.batchId})})));const u=[];for(const c of n.mutations){const e=Ol(t,c.key.path,n.batchId);o.push(i.delete(e)),u.push(c.key)}return el.waitFor(o).next((()=>u))}function kp(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw aa(14731);t=e.noDocument}return JSON.stringify(t).length}Tp.DEFAULT_COLLECTION_PERCENTILE=10,Tp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tp.DEFAULT=new Tp(Ep,Tp.DEFAULT_COLLECTION_PERCENTILE,Tp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tp.DISABLED=new Tp(-1,0,0);class Cp{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.jn={}}static bt(e,t,n,r){ua(""!==e.uid,64387);const i=e.isAuthenticated()?e.uid:"";return new Cp(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _p(e).te({index:Al,range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Rp(e),o=_p(e);return o.add({}).next((s=>{ua("number"==typeof s,49019);const a=new Sh(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>df(e.wt,t))),i=n.mutations.map((t=>df(e.wt,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),u=[];let c=new Fu(((e,t)=>ka(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Ol(this.userId,e.key.path,s);c=c.add(e.key.path.popLast()),u.push(o.put(l)),u.push(i.put(t,Ml))}return c.forEach((t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.jn[s]=a.keys()})),el.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return _p(e).get(t).next((e=>e?(ua(e.userId===this.userId,48,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),Af(this.serializer,e)):null))}Hn(e,t){return this.jn[t]?el.resolve(this.jn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.jn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return _p(e).te({index:Al,range:r},((e,t,r)=>{t.userId===this.userId&&(ua(t.batchId>=n,47524,{Jn:n}),i=Af(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=ml;return _p(e).te({index:Al,range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,ml],[this.userId,Number.POSITIVE_INFINITY]);return _p(e).J(Al,t).next((e=>e.map((e=>Af(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Pl(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Rp(e).te({range:r},((n,r,o)=>{const[s,a,l]=n,u=xl(a);if(s===this.userId&&t.path.isEqual(u))return _p(e).get(l).next((e=>{if(!e)throw aa(61480,{Yn:n,batchId:l});ua(e.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:e.userId,batchId:l}),i.push(Af(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Fu(ka);const r=[];return t.forEach((t=>{const i=Pl(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=Rp(e).te({range:o},((e,r,i)=>{const[o,s,a]=e,l=xl(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(s)})),el.waitFor(r).next((()=>this.Zn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Pl(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new Fu(ka);return Rp(e).te({range:o},((e,t,i)=>{const[o,a,l]=e,u=xl(a);o===this.userId&&n.isPrefixOf(u)?u.length===r&&(s=s.add(l)):i.done()})).next((()=>this.Zn(e,s)))}Zn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(_p(e).get(t).next((e=>{if(null===e)throw aa(35274,{batchId:t});ua(e.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),n.push(Af(this.serializer,e))})))})),el.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return xp(e.he,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Xn(t.batchId)})),el.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Xn(e){delete this.jn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return el.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Rp(e).te({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=xl(e[1]);r.push(t)}else n.done()})).next((()=>{ua(0===r.length,56720,{er:r.map((e=>e.canonicalString()))})}))}))}containsKey(e,t){return Ip(e,this.userId,t)}tr(e){return Dp(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:ml,lastStreamToken:""}))}}function Ip(e,t,n){const r=Pl(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Rp(e).te({range:o,ee:!0},((e,n,r)=>{const[o,a,l]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function _p(e){return Du(e,Rl)}function Rp(e){return Du(e,Ll)}function Dp(e){return Du(e,_l)}class Ap{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Ap(0)}static ir(){return new Ap(-1)}}class Np{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.sr(e).next((t=>{const n=new Ap(t.highestTargetId);return t.highestTargetId=n.next(),this._r(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.sr(e).next((e=>Oa.fromTimestamp(new Pa(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.sr(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.sr(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this._r(e,r))))}addTargetData(e,t){return this.ar(e,t).next((()=>this.sr(e).next((n=>(n.targetCount+=1,this.ur(t,n),this._r(e,n))))))}updateTargetData(e,t){return this.ar(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Pp(e).delete(t.targetId))).next((()=>this.sr(e))).next((t=>(ua(t.targetCount>0,8065),t.targetCount-=1,this._r(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Pp(e).te(((o,s)=>{const a=Nf(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>el.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Pp(e).te(((e,n)=>{const r=Nf(n);t(r)}))}sr(e){return Op(e).get(Jl).next((e=>(ua(null!==e,2888),e)))}_r(e,t){return Op(e).put(Jl,t)}ar(e,t){return Pp(e).put(Pf(this.serializer,t))}ur(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.sr(e).next((e=>e.targetCount))}getTargetData(e,t){const n=ad(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Pp(e).te({range:r,index:Hl},((e,n,r)=>{const o=Nf(n);ld(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Mp(e);return t.forEach((t=>{const o=Sl(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),el.waitFor(r)}removeMatchingKeys(e,t,n){const r=Mp(e);return el.forEach(t,(t=>{const i=Sl(t.path);return el.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Mp(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Mp(e);let i=Vd();return r.te({range:n,ee:!0},((e,t,n)=>{const r=xl(e[1]),o=new Va(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=Sl(t.path),r=IDBKeyRange.bound([n],[Da(n)],!1,!0);let i=0;return Mp(e).te({index:Yl,ee:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}Rt(e,t){return Pp(e).get(t).next((e=>e?Nf(e):null))}}function Pp(e){return Du(e,Wl)}function Op(e){return Du(e,Zl)}function Mp(e){return Du(e,Gl)}const Lp="LruGarbageCollector",Fp=1048576;function Bp(e,t){let[n,r]=e,[i,o]=t;const s=ka(n,i);return 0===s?ka(r,o):s}class zp{constructor(e){this.cr=e,this.buffer=new Fu(Bp),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Bp(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Vp{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Tr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return null!==this.Tr}Ir(e){ra(Lp,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){al(e)?ra(Lp,"Ignoring IndexedDB error during garbage collection: ",e):await Za(e)}await this.Ir(3e5)}))}}class jp{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return el.resolve(gl.le);const n=new zp(t);return this.Er.forEachTarget(e,(e=>n.Pr(e.sequenceNumber))).next((()=>this.Er.Ar(e,(e=>n.Pr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Er.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ra("LruGarbageCollector","Garbage collection skipped; disabled"),el.resolve(Sp)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ra("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sp):this.Rr(e,t)))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let n,r,i,o,s,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(ra("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),na()<=yo.DEBUG&&ra("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-u}ms\n\tDetermined least recently used ${r} in `+(s-o)+"ms\n"+`\tRemoved ${i} targets in `+(a-s)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-u}ms`),el.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Up(e,t){return new jp(e,t)}class $p{constructor(e,t){this.db=e,this.garbageCollector=Up(this,t)}dr(e){const t=this.Vr(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Vr(e){let t=0;return this.Ar(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ar(e,t){return this.mr(e,((e,n)=>t(n)))}addReference(e,t,n){return qp(e,n)}removeReference(e,t,n){return qp(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return qp(e,t)}gr(e,t){return function(e,t){let n=!1;return Dp(e).ne((r=>Ip(e,r,t).next((e=>(e&&(n=!0),el.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.mr(e,((o,s)=>{if(s<=t){const t=this.gr(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,Oa.min()),Mp(e).delete(function(e){return[0,Sl(e.path)]}(o)))))}));r.push(t)}})).next((()=>el.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return qp(e,t)}mr(e,t){const n=Mp(e);let r,i=gl.le;return n.te({index:Yl},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:l}=n;0===o?(i!==gl.le&&t(new Va(xl(r)),i),i=l,r=a):i=gl.le})).next((()=>{i!==gl.le&&t(new Va(xl(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function qp(e,t){return Mp(e).put(function(e,t){return{targetId:0,path:Sl(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Wp{constructor(){this.changes=new Rd((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Oc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?el.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Hp{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Yp(e).put(n)}removeEntry(e,t,n){return Yp(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],_f(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.pr(e,n))))}getEntry(e,t){let n=Oc.newInvalidDocument(t);return Yp(e).te({index:zl,range:IDBKeyRange.only(Xp(t))},((e,r)=>{n=this.yr(t,r)})).next((()=>n))}wr(e,t){let n={size:0,document:Oc.newInvalidDocument(t)};return Yp(e).te({index:zl,range:IDBKeyRange.only(Xp(t))},((e,r)=>{n={document:this.yr(t,r),size:kp(r)}})).next((()=>n))}getEntries(e,t){let n=Ad();return this.br(e,t,((e,t)=>{const r=this.yr(e,t);n=n.insert(e,r)})).next((()=>n))}Sr(e,t){let n=Ad(),r=new Ou(Va.comparator);return this.br(e,t,((e,t)=>{const i=this.yr(e,t);n=n.insert(e,i),r=r.insert(e,kp(t))})).next((()=>({documents:n,Dr:r})))}br(e,t,n){if(t.isEmpty())return el.resolve();let r=new Fu(Zp);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Xp(r.first()),Xp(r.last())),o=r.getIterator();let s=o.getNext();return Yp(e).te({index:zl,range:i},((e,t,r)=>{const i=Va.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&Zp(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.H(Xp(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),_f(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yp(e).J(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Ad();for(const i of e){const e=this.yr(Va.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(kd(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Ad();const o=Jp(t,n),s=Jp(t,Qa.max());return Yp(e).te({index:jl,range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.yr(Va.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Gp(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Qp(e).get(ql).next((e=>(ua(!!e,20021),e)))}pr(e,t){return Qp(e).put(ql,t)}yr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=cf(e.wt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Va.fromSegments(t.noDocument.path),r=Df(t.noDocument.readTime);n=Oc.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return aa(56709);{const e=Va.fromSegments(t.unknownDocument.path),r=Df(t.unknownDocument.version);n=Oc.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Pa(e[0],e[1]);return Oa.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Oa.min()))return e}return Oc.newInvalidDocument(e)}}function Kp(e){return new Hp(e)}class Gp extends Wp{constructor(e,t){super(),this.vr=e,this.trackRemovals=t,this.Cr=new Rd((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Fu(((e,t)=>ka(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.Cr.get(i);if(t.push(this.vr.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=If(this.vr.serializer,o);r=r.add(i.path.popLast());const l=kp(a);n+=l-s.size,t.push(this.vr.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=If(this.vr.serializer,o.convertToNoDocument(Oa.min()));t.push(this.vr.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.vr.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.vr.updateMetadata(e,n)),el.waitFor(t)}getFromCache(e,t){return this.vr.wr(e,t).next((e=>(this.Cr.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.vr.Sr(e,t).next((e=>{let{documents:t,Dr:n}=e;return n.forEach(((e,n)=>{this.Cr.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Qp(e){return Du(e,$l)}function Yp(e){return Du(e,Fl)}function Xp(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Jp(e,t){const n=t.documentKey.path.toArray();return[e,_f(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Zp(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=ka(n[o],r[o]),i)return i;return i=ka(n.length,r.length),i||(i=ka(n[n.length-2],r[r.length-2]),i||ka(n[n.length-1],r[r.length-1]))}class eg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class tg{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&dh(n.mutation,e,Vu.empty(),Pa.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Vd()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vd();const r=Md();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Pd();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Md();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Vd())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Ad();const o=Fd(),s=Fd();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof gh)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),dh(s.mutation,t,s.mutation.getFieldMask(),Pa.now())):o.set(t.key,Vu.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new eg(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Fd();let r=new Ou(((e,t)=>e-t)),i=Vd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Vu.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Vd()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,u=Ld();l.forEach((e=>{if(!i.has(e)){const r=uh(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,u))}return el.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Va.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):el.resolve(Md());let s=ja,a=i;return o.next((t=>el.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?el.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Vd()))).next((e=>({batchId:s,changes:Od(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Va(t)).next((e=>{let t=Pd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Pd();return this.indexManager.getCollectionParents(e,i).next((s=>el.forEach(s,(s=>{const a=function(e,t){return new fd(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Oc.newInvalidDocument(r)))}));let n=Pd();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&dh(o.mutation,r,Vu.empty(),Pa.now()),kd(t,r)&&(n=n.insert(e,r))})),n}))}}class ng{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return el.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Jh(e.createTime)}}(t)),el.resolve()}getNamedQuery(e,t){return el.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(e){return{name:e.name,query:Of(e.bundledQuery),readTime:Jh(e.readTime)}}(t)),el.resolve()}}class rg{constructor(){this.overlays=new Ou(Va.comparator),this.Or=new Map}getOverlay(e,t){return el.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Md();return el.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),el.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Or.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Or.delete(n)),el.resolve()}getOverlaysForCollection(e,t,n){const r=Md(),i=t.length+1,o=new Va(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return el.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ou(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Md(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Md(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return el.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Or.get(r.largestBatchId).delete(n.key);this.Or.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Th(t,n));let i=this.Or.get(t);void 0===i&&(i=Vd(),this.Or.set(t,i)),this.Or.set(t,i.add(n.key))}}class ig{constructor(){this.sessionToken=Uu.EMPTY_BYTE_STRING}getSessionToken(e){return el.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,el.resolve()}}class og{constructor(){this.Nr=new Fu(sg.Br),this.Lr=new Fu(sg.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const n=new sg(e,t);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Qr(new sg(e,t))}$r(e,t){e.forEach((e=>this.removeReference(e,t)))}Ur(e){const t=new Va(new Fa([])),n=new sg(t,e),r=new sg(t,e+1),i=[];return this.Lr.forEachInRange([n,r],(e=>{this.Qr(e),i.push(e.key)})),i}Kr(){this.Nr.forEach((e=>this.Qr(e)))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Va(new Fa([])),n=new sg(t,e),r=new sg(t,e+1);let i=Vd();return this.Lr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new sg(e,0),n=this.Nr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class sg{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Va.comparator(e.key,t.key)||ka(e.Gr,t.Gr)}static kr(e,t){return ka(e.Gr,t.Gr)||Va.comparator(e.key,t.key)}}class ag{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Fu(sg.Br)}checkEmpty(e){return el.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Sh(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.zr=this.zr.add(new sg(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return el.resolve(o)}lookupMutationBatch(e,t){return el.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Hr(n),i=r<0?0:r;return el.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return el.resolve(0===this.mutationQueue.length?ml:this.Jn-1)}getAllMutationBatches(e){return el.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new sg(t,0),r=new sg(t,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([n,r],(e=>{const t=this.jr(e.Gr);i.push(t)})),el.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Fu(ka);return t.forEach((e=>{const t=new sg(e,0),r=new sg(e,Number.POSITIVE_INFINITY);this.zr.forEachInRange([t,r],(e=>{n=n.add(e.Gr)}))})),el.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Va.isDocumentKey(i)||(i=i.child(""));const o=new sg(new Va(i),0);let s=new Fu(ka);return this.zr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Gr)),!0)}),o),el.resolve(this.Jr(s))}Jr(e){const t=[];return e.forEach((e=>{const n=this.jr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ua(0===this.Yr(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.zr;return el.forEach(t.mutations,(r=>{const i=new sg(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.zr=n}))}Xn(e){}containsKey(e,t){const n=new sg(t,0),r=this.zr.firstAfterOrEqual(n);return el.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,el.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class lg{constructor(e){this.Zr=e,this.docs=new Ou(Va.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Zr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return el.resolve(n?n.document.mutableCopy():Oc.newInvalidDocument(t))}getEntries(e,t){let n=Ad();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Oc.newInvalidDocument(e))})),el.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ad();const o=t.path,s=new Va(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Ya(Ga(s),n)<=0||(r.has(s.key)||kd(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return el.resolve(i)}getAllFromCollectionGroup(e,t,n,r){aa(9500)}Xr(e,t){return el.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new ug(this)}getSize(e){return el.resolve(this.size)}}class ug extends Wp{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.vr.addEntry(e,r)):this.vr.removeEntry(n)})),el.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}class cg{constructor(e){this.persistence=e,this.ei=new Rd((e=>ad(e)),ld),this.lastRemoteSnapshotVersion=Oa.min(),this.highestTargetId=0,this.ti=0,this.ni=new og,this.targetCount=0,this.ri=Ap.rr()}forEachTarget(e,t){return this.ei.forEach(((e,n)=>t(n))),el.resolve()}getLastRemoteSnapshotVersion(e){return el.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return el.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),el.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ti&&(this.ti=t),el.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Ap(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,el.resolve()}updateTargetData(e,t){return this.ar(t),el.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,el.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ei.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.ei.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),el.waitFor(i).next((()=>r))}getTargetCount(e){return el.resolve(this.targetCount)}getTargetData(e,t){const n=this.ei.get(t)||null;return el.resolve(n)}addMatchingKeys(e,t,n){return this.ni.qr(t,n),el.resolve()}removeMatchingKeys(e,t,n){this.ni.$r(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),el.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),el.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ni.Wr(t);return el.resolve(n)}containsKey(e,t){return el.resolve(this.ni.containsKey(t))}}class dg{constructor(e,t){this.ii={},this.overlays={},this.si=new gl(0),this.oi=!1,this.oi=!0,this._i=new ig,this.referenceDelegate=e(this),this.ai=new cg(this),this.indexManager=new dp,this.remoteDocumentCache=function(e){return new lg(e)}((e=>this.referenceDelegate.ui(e))),this.serializer=new Cf(t),this.ci=new ng(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ii[e.toKey()];return n||(n=new ag(t,this.referenceDelegate),this.ii[e.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,n){ra("MemoryPersistence","Starting transaction:",e);const r=new hg(this.si.next());return this.referenceDelegate.li(),n(r).next((e=>this.referenceDelegate.hi(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Pi(e,t){return el.or(Object.values(this.ii).map((n=>()=>n.containsKey(e,t))))}}class hg extends Ja{constructor(e){super(),this.currentSequenceNumber=e}}class fg{constructor(e){this.persistence=e,this.Ti=new og,this.Ii=null}static Ei(e){return new fg(e)}get di(){if(this.Ii)return this.Ii;throw aa(60996)}addReference(e,t,n){return this.Ti.addReference(n,t),this.di.delete(n.toString()),el.resolve()}removeReference(e,t,n){return this.Ti.removeReference(n,t),this.di.add(n.toString()),el.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),el.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach((e=>this.di.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.di.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return el.forEach(this.di,(n=>{const r=Va.fromPath(n);return this.Ai(e,r).next((e=>{e||t.removeEntry(r,Oa.min())}))})).next((()=>(this.Ii=null,t.apply(e))))}updateLimboDocument(e,t){return this.Ai(e,t).next((e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())}))}ui(e){return 0}Ai(e,t){return el.or([()=>el.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class pg{constructor(e,t){this.persistence=e,this.Ri=new Rd((e=>Sl(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Up(this,t)}static Ei(e,t){return new pg(e,t)}li(){}hi(e){return el.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Vr(e){let t=0;return this.Ar(e,(e=>{t++})).next((()=>t))}Ar(e,t){return el.forEach(this.Ri,((n,r)=>this.gr(e,n,r).next((e=>e?el.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Xr(e,(r=>this.gr(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Oa.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),el.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),el.resolve()}removeReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),el.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),el.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=yc(e.data.value)),t}gr(e,t,n){return el.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.Ri.get(t);return el.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class gg{constructor(e){this.serializer=e}q(e,t,n,r){const i=new nl("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Cl)}(e),function(e){e.createObjectStore(_l,{keyPath:"userId"});e.createObjectStore(Rl,{keyPath:Dl,autoIncrement:!0}).createIndex(Al,Nl,{unique:!0}),e.createObjectStore(Ll)}(e),mg(e),function(e){e.createObjectStore(kl)}(e));let o=el.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Gl),e.deleteObjectStore(Wl),e.deleteObjectStore(Zl)}(e),mg(e)),o=o.next((()=>function(e){const t=e.store(Zl),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Oa.min().toTimestamp(),targetCount:0};return t.put(Jl,n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store(Rl).J().next((n=>{e.deleteObjectStore(Rl),e.createObjectStore(Rl,{keyPath:Dl,autoIncrement:!0}).createIndex(Al,Nl,{unique:!0});const r=t.store(Rl),i=n.map((e=>r.put(e)));return el.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore(nu,{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Vi(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore($l)}(e),this.mi(i))))),n<7&&r>=7&&(o=o.next((()=>this.fi(i)))),n<8&&r>=8&&(o=o.next((()=>this.gi(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.pi(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore(ru,{keyPath:"bundleId"})}(e),function(e){e.createObjectStore(iu,{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore(gu,{keyPath:mu});t.createIndex(yu,vu,{unique:!1}),t.createIndex(bu,wu,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore(Fl,{keyPath:Bl});t.createIndex(zl,Vl),t.createIndex(jl,Ul)}(e))).next((()=>this.yi(e,i))).next((()=>e.deleteObjectStore(kl)))),n<14&&r>=14&&(o=o.next((()=>this.wi(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore(ou,{keyPath:"indexId",autoIncrement:!0}).createIndex(su,"collectionGroup",{unique:!1});e.createObjectStore(au,{keyPath:lu}).createIndex(uu,cu,{unique:!1});e.createObjectStore(du,{keyPath:hu}).createIndex(fu,pu,{unique:!1})}(e)))),n<16&&r>=16&&(o=o.next((()=>{t.objectStore(au).clear()})).next((()=>{t.objectStore(du).clear()}))),n<17&&r>=17&&(o=o.next((()=>{!function(e){e.createObjectStore(Su,{keyPath:"name"})}(e)}))),o}mi(e){let t=0;return e.store(kl).te(((e,n)=>{t+=kp(n)})).next((()=>{const n={byteSize:t};return e.store($l).put(ql,n)}))}Vi(e){const t=e.store(_l),n=e.store(Rl);return t.J().next((t=>el.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,ml],[t.userId,t.lastAcknowledgedBatchId]);return n.J(Al,r).next((n=>el.forEach(n,(n=>{ua(n.userId===t.userId,18650,"Cannot process batch from unexpected user",{batchId:n.batchId});const r=Af(this.serializer,n);return xp(e,t.userId,r).next((()=>{}))}))))}))))}fi(e){const t=e.store(Gl),n=e.store(kl);return e.store(Zl).get(Jl).next((e=>{const r=[];return n.te(((n,i)=>{const o=new Fa(n),s=function(e){return[0,Sl(e)]}(o);r.push(t.get(s).next((n=>n?el.resolve():(n=>t.put({targetId:0,path:Sl(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>el.waitFor(r)))}))}gi(e,t){e.createObjectStore(eu,{keyPath:tu});const n=t.store(eu),r=new hp,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Sl(r)})}};return t.store(kl).te({ee:!0},((e,t)=>{const n=new Fa(e);return i(n.popLast())})).next((()=>t.store(Ll).te({ee:!0},((e,t)=>{let[n,r,o]=e;const s=xl(r);return i(s.popLast())}))))}pi(e){const t=e.store(Wl);return t.te(((e,n)=>{const r=Nf(n),i=Pf(this.serializer,r);return t.put(i)}))}yi(e,t){const n=t.store(kl),r=[];return n.te(((e,n)=>{const i=t.store(Fl),o=function(e){return e.document?new Va(Fa.fromString(e.document.name).popFirst(5)):e.noDocument?Va.fromSegments(e.noDocument.path):e.unknownDocument?Va.fromSegments(e.unknownDocument.path):aa(36783)}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>el.waitFor(r)))}wi(e,t){const n=t.store(Rl),r=Kp(this.serializer),i=new dg(fg.Ei,this.serializer.wt);return n.J().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Vd();Af(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),el.forEach(n,((e,n)=>{const o=new Zs(n),s=jf.bt(this.serializer,o),a=i.getIndexManager(o),l=Cp.bt(o,this.serializer,a,i.referenceDelegate);return new tg(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new Ru(t,gl.le),e).next()}))}))}}function mg(e){e.createObjectStore(Gl,{keyPath:Ql}).createIndex(Yl,Xl,{unique:!0}),e.createObjectStore(Wl,{keyPath:"targetId"}).createIndex(Hl,Kl,{unique:!0}),e.createObjectStore(Zl)}const yg="IndexedDbPersistence",vg=18e5,bg=5e3,wg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Sg="main";class Eg{constructor(e,t,n,r,i,o,s,a,l,u){let c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:17;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.bi=i,this.window=o,this.document=s,this.Si=l,this.Di=u,this.Ci=c,this.si=null,this.oi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fi=null,this.inForeground=!1,this.Mi=null,this.xi=null,this.Oi=Number.NEGATIVE_INFINITY,this.Ni=e=>Promise.resolve(),!Eg.C())throw new ha(da.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $p(this,r),this.Bi=t+Sg,this.serializer=new Cf(a),this.Li=new rl(this.Bi,this.Ci,new gg(this.serializer)),this._i=new $f,this.ai=new Np(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Kp(this.serializer),this.ci=new Bf,this.window&&this.window.localStorage?this.ki=this.window.localStorage:(this.ki=null,!1===u&&ia(yg,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.qi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ha(da.FAILED_PRECONDITION,wg);return this.Qi(),this.$i(),this.Ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.ai.getHighestSequenceNumber(e)))})).then((e=>{this.si=new gl(e,this.Si)})).then((()=>{this.oi=!0})).catch((e=>(this.Li&&this.Li.close(),Promise.reject(e))))}Ki(e){return this.Ni=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Li.U((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.bi.enqueueAndForget((async()=>{this.started&&await this.qi()})))}qi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>xg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Wi(e).next((e=>{e||(this.isPrimary=!1,this.bi.enqueueRetryable((()=>this.Ni(!1))))}))})).next((()=>this.Gi(e))).next((t=>this.isPrimary&&!t?this.zi(e).next((()=>!1)):!!t&&this.ji(e).next((()=>!0)))))).catch((e=>{if(al(e))return ra(yg,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ra(yg,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.bi.enqueueRetryable((()=>this.Ni(e))),this.isPrimary=e}))}Wi(e){return Tg(e).get(Il).next((e=>el.resolve(this.Hi(e))))}Ji(e){return xg(e).delete(this.clientId)}async Yi(){if(this.isPrimary&&!this.Zi(this.Oi,vg)){this.Oi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Du(e,nu);return t.J().next((e=>{const n=this.Xi(e,vg),r=e.filter((e=>-1===n.indexOf(e)));return el.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.ki)for(const t of e)this.ki.removeItem(this.es(t.clientId))}}Ui(){this.xi=this.bi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.qi().then((()=>this.Yi())).then((()=>this.Ui()))))}Hi(e){return!!e&&e.ownerId===this.clientId}Gi(e){return this.Di?el.resolve(!0):Tg(e).get(Il).next((t=>{if(null!==t&&this.Zi(t.leaseTimestampMs,bg)&&!this.ts(t.ownerId)){if(this.Hi(t)&&this.networkEnabled)return!0;if(!this.Hi(t)){if(!t.allowTabSynchronization)throw new ha(da.FAILED_PRECONDITION,wg);return!1}}return!(!this.networkEnabled||!this.inForeground)||xg(e).J().next((e=>void 0===this.Xi(e,bg).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&ra(yg,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.oi=!1,this.ns(),this.xi&&(this.xi.cancel(),this.xi=null),this.rs(),this.ss(),await this.Li.runTransaction("shutdown","readwrite",[Cl,nu],(e=>{const t=new Ru(e,gl.le);return this.zi(t).next((()=>this.Ji(t)))})),this.Li.close(),this._s()}Xi(e,t){return e.filter((e=>this.Zi(e.updateTimeMs,t)&&!this.ts(e.clientId)))}us(){return this.runTransaction("getActiveClients","readonly",(e=>xg(e).J().next((e=>this.Xi(e,vg).map((e=>e.clientId))))))}get started(){return this.oi}getGlobalsCache(){return this._i}getMutationQueue(e,t){return Cp.bt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new gp(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return jf.bt(this.serializer,e)}getBundleCache(){return this.ci}runTransaction(e,t,n){ra(yg,"Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 17===e?_u:16===e?Iu:15===e?Cu:14===e?ku:13===e?xu:12===e?Tu:11===e?Eu:void aa(60245)}(this.Ci);let o;return this.Li.runTransaction(e,r,i,(r=>(o=new Ru(r,this.si?this.si.next():gl.le),"readwrite-primary"===t?this.Wi(o).next((e=>!!e||this.Gi(o))).next((t=>{if(!t)throw ia(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.bi.enqueueRetryable((()=>this.Ni(!1))),new ha(da.FAILED_PRECONDITION,Xa);return n(o)})).next((e=>this.ji(o).next((()=>e)))):this.cs(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}cs(e){return Tg(e).get(Il).next((e=>{if(null!==e&&this.Zi(e.leaseTimestampMs,bg)&&!this.ts(e.ownerId)&&!this.Hi(e)&&!(this.Di||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ha(da.FAILED_PRECONDITION,wg)}))}ji(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Tg(e).put(Il,t)}static C(){return rl.C()}zi(e){const t=Tg(e);return t.get(Il).next((e=>this.Hi(e)?(ra(yg,"Releasing primary lease."),t.delete(Il)):el.resolve()))}Zi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(ia(`Detected an update time that is in the future: ${e} > ${n}`),!1))}Qi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Mi=()=>{this.bi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.qi())))},this.document.addEventListener("visibilitychange",this.Mi),this.inForeground="visible"===this.document.visibilityState)}rs(){this.Mi&&(this.document.removeEventListener("visibilitychange",this.Mi),this.Mi=null)}$i(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fi=()=>{this.ns();const e=/(?:Version|Mobile)\/1[456]/;no()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.bi.enterRestrictedMode(!0),this.bi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Fi))}ss(){this.Fi&&(this.window.removeEventListener("pagehide",this.Fi),this.Fi=null)}ts(e){var t;try{const n=null!==(null===(t=this.ki)||void 0===t?void 0:t.getItem(this.es(e)));return ra(yg,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return ia(yg,"Failed to get zombied client id.",e),!1}}ns(){if(this.ki)try{this.ki.setItem(this.es(this.clientId),String(Date.now()))}catch(e){ia("Failed to set zombie client id.",e)}}_s(){if(this.ki)try{this.ki.removeItem(this.es(this.clientId))}catch(e){}}es(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Tg(e){return Du(e,Cl)}function xg(e){return Du(e,nu)}function kg(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Cg{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ls=n,this.hs=r}static Ps(e,t){let n=Vd(),r=Vd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Cg(e,t.fromCache,n,r)}}class Ig{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _g{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=no()?8:il(to())>0?6:4}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Vs(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Ig;return this.fs(e,t,n).next((r=>{if(i.result=r,this.Is)return this.gs(e,t,n,r.size)}))})).next((()=>i.result))}gs(e,t,n,r){return n.documentReadCount<this.Es?(na()<=yo.DEBUG&&ra("QueryEngine","SDK will not create cache indexes for query:",xd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),el.resolve()):(na()<=yo.DEBUG&&ra("QueryEngine","Query:",xd(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ds*r?(na()<=yo.DEBUG&&ra("QueryEngine","The SDK decides to create cache indexes for query:",xd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bd(t))):el.resolve())}Rs(e,t){if(md(t))return el.resolve(null);let n=bd(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Sd(t,null,"F"),n=bd(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Vd(...r);return this.As.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ps(t,r);return this.ys(t,o,i,n.readTime)?this.Rs(e,Sd(t,null,"F")):this.ws(e,o,t,n)}))))})))))}Vs(e,t,n,r){return md(t)||r.isEqual(Oa.min())?el.resolve(null):this.As.getDocuments(e,n).next((i=>{const o=this.ps(t,i);return this.ys(t,o,n,r)?el.resolve(null):(na()<=yo.DEBUG&&ra("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xd(t)),this.ws(e,o,t,Ka(r,ja)).next((e=>e)))}))}ps(e,t){let n=new Fu(Id(e));return t.forEach(((t,r)=>{kd(e,r)&&(n=n.add(r))})),n}ys(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}fs(e,t,n){return na()<=yo.DEBUG&&ra("QueryEngine","Using full collection scan to execute query:",xd(t)),this.As.getDocumentsMatchingQuery(e,t,Qa.min(),n)}ws(e,t,n,r){return this.As.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Rg="LocalStore";class Dg{constructor(e,t,n,r){this.persistence=e,this.bs=t,this.serializer=r,this.Ss=new Ou(ka),this.Ds=new Rd((e=>ad(e)),ld),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(n)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tg(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ss)))}}function Ag(e,t,n,r){return new Dg(e,t,n,r)}async function Ng(e,t){const n=ca(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Fs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=Vd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({Ms:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Pg(e){const t=ca(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.ai.getLastRemoteSnapshotVersion(e)))}function Og(e,t,n){let r=Vd(),i=Vd();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Ad();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Oa.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):ra(Rg,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{xs:r,Os:i}}))}function Mg(e,t){const n=ca(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=ml),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Lg(e,t){const n=ca(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.ai.getTargetData(e,t).next((i=>i?(r=i,el.resolve(r)):n.ai.allocateTargetId(e).next((i=>(r=new kf(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.ai.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ss.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(e.targetId,e),n.Ds.set(t,e.targetId)),e}))}async function Fg(e,t,n){const r=ca(e),i=r.Ss.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!al(e))throw e;ra(Rg,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ss=r.Ss.remove(t),r.Ds.delete(i.target)}function Bg(e,t,n){const r=ca(e);let i=Oa.min(),o=Vd();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=ca(e),i=r.Ds.get(n);return void 0!==i?el.resolve(r.Ss.get(i)):r.ai.getTargetData(t,n)}(r,e,bd(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.bs.getDocumentsMatchingQuery(e,t,n?i:Oa.min(),n?o:Vd()))).next((e=>(zg(r,Cd(t),e),{documents:e,Ns:o})))))}function zg(e,t,n){let r=e.vs.get(t)||Oa.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.vs.set(t,r)}class Vg{constructor(){this.activeTargetIds=Ud()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jg{constructor(){this.So=new Vg,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,n){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Vg,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ug{vo(e){}shutdown(){}}const $g="ConnectivityMonitor";class qg{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ra($g,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ra($g,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Wg=null;function Hg(){return null===Wg?Wg=268435456+Math.round(2147483648*Math.random()):Wg++,"0x"+Wg.toString(16)}const Kg="RestConnection",Gg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qg{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${n}/databases/${r}`,this.qo=this.databaseId.database===tc?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Qo(e,t,n,r,i){const o=Hg(),s=this.$o(e,t.toUriEncodedString());ra(Kg,`Sending RPC '${e}' ${o}:`,s,n);const a={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(a,r,i);const{host:l}=new URL(s),u=co(l);return this.Ko(e,s,a,n,u).then((t=>(ra(Kg,`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw oa(Kg,`RPC '${e}' ${o} failed with error: `,t,"url: ",s,"request:",n),t}))}Wo(e,t,n,r,i,o){return this.Qo(e,t,n,r,i)}Uo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ea,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}$o(e,t){const n=Gg[e];return`${this.Lo}/v1/${t}:${n}`}terminate(){}}class Yg{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}const Xg="WebChannelConnection";class Jg extends Qg{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,n,r,i){const o=Hg();return new Promise(((i,s)=>{const a=new js;a.setWithCredentials(!0),a.listenOnce($s.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case qs.NO_ERROR:const t=a.getResponseJson();ra(Xg,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(t)),i(t);break;case qs.TIMEOUT:ra(Xg,`RPC '${e}' ${o} timed out`),s(new ha(da.DEADLINE_EXCEEDED,"Request time out"));break;case qs.HTTP_ERROR:const n=a.getStatus();if(ra(Xg,`RPC '${e}' ${o} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(da).indexOf(t)>=0?t:da.UNKNOWN}(t.status);s(new ha(e,t.message))}else s(new ha(da.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new ha(da.UNAVAILABLE,"Connection failed."));break;default:aa(9055,{s_:e,streamId:o,o_:a.getLastErrorCode(),__:a.getLastError()})}}finally{ra(Xg,`RPC '${e}' ${o} completed.`)}}));const l=JSON.stringify(r);ra(Xg,`RPC '${e}' ${o} sending request:`,r),a.send(t,"POST",l,n,15)}))}a_(e,t,n){const r=Hg(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Gs(),s=Ks(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Uo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");ra(Xg,`Creating RPC '${e}' stream ${r}: ${u}`,a);const c=o.createWebChannel(u,a);let d=!1,h=!1;const f=new Yg({Go:t=>{h?ra(Xg,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(ra(Xg,`Opening RPC '${e}' stream ${r} transport.`),c.open(),d=!0),ra(Xg,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},zo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,Us.EventType.OPEN,(()=>{h||(ra(Xg,`RPC '${e}' stream ${r} transport opened.`),f.t_())})),p(c,Us.EventType.CLOSE,(()=>{h||(h=!0,ra(Xg,`RPC '${e}' stream ${r} transport closed`),f.r_())})),p(c,Us.EventType.ERROR,(t=>{h||(h=!0,oa(Xg,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.r_(new ha(da.UNAVAILABLE,"The operation could not be completed")))})),p(c,Us.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];ua(!!i,16349);const o=i,s=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){ra(Xg,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=kh[e];if(void 0!==t)return _h(t)}(t),i=s.message;void 0===n&&(n=da.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.r_(new ha(n,i)),c.close()}else ra(Xg,`RPC '${e}' stream ${r} received:`,i),f.i_(i)}})),p(s,Hs.STAT_EVENT,(t=>{t.stat===Ws.PROXY?ra(Xg,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Ws.NOPROXY&&ra(Xg,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.n_()}),0),f}}function Zg(){return"undefined"!=typeof window?window:null}function em(){return"undefined"!=typeof document?document:null}function tm(e){return new Kh(e,!0)}class nm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.bi=e,this.timerId=t,this.u_=n,this.c_=r,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),r=Math.max(0,t-n);r>0&&ra("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,r,(()=>(this.T_=Date.now(),e()))),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){null!==this.P_&&(this.P_.skipDelay(),this.P_=null)}cancel(){null!==this.P_&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}const rm="PersistentStream";class im{constructor(e,t,n,r,i,o,s,a){this.bi=e,this.R_=n,this.V_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new nm(e,t)}w_(){return 1===this.state||5===this.state||this.b_()}b_(){return 2===this.state||3===this.state}start(){this.p_=0,4!==this.state?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&null===this.f_&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,(()=>this.C_())))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,4!==e?this.y_.reset():t&&t.code===da.RESOURCE_EXHAUSTED?(ia(t.toString()),ia("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===da.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.m_===t&&this.B_(n,r)}),(t=>{e((()=>{const e=new ha(da.UNKNOWN,"Fetching auth token failed: "+t.message);return this.L_(e)}))}))}B_(e,t){const n=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo((()=>{n((()=>this.listener.jo()))})),this.stream.Jo((()=>{n((()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,(()=>(this.b_()&&(this.state=3),Promise.resolve()))),this.listener.Jo())))})),this.stream.Zo((e=>{n((()=>this.L_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.p_?this.q_(e):this.onNext(e)))}))}S_(){this.state=5,this.y_.E_((async()=>{this.state=0,this.start()}))}L_(e){return ra(rm,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget((()=>this.m_===e?t():(ra(rm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class om extends im{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:aa(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(ua(void 0===t||"string"==typeof t,58123),Uu.fromBase64String(t||"")):(ua(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Uu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?da.UNKNOWN:_h(e.code);return new ha(t,e.message||"")}(s);n=new zh(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=rf(e,r.document.name),o=Jh(r.document.updateTime),s=r.document.createTime?Jh(r.document.createTime):Oa.min(),a=new Nc({mapValue:{fields:r.document.fields}}),l=Oc.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Fh(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=rf(e,r.document),o=r.readTime?Jh(r.readTime):Oa.min(),s=Oc.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Fh([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=rf(e,r.document),o=r.removedTargetIds||[];n=new Fh([],o,i,null)}else{if(!("filter"in t))return aa(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new xh(r,i),s=e.targetId;n=new Bh(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Oa.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Oa.min():t.readTime?Jh(t.readTime):Oa.min()}(e);return this.listener.Q_(t,n)}U_(e){const t={};t.database=af(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ud(r)?{documents:ff(e,r)}:{query:pf(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Yh(e,t.resumeToken);const r=Gh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Oa.min())>0){n.readTime=Qh(e,t.snapshotVersion.toTimestamp());const r=Gh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return aa(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.F_(t)}K_(e){const t={};t.database=af(this.serializer),t.removeTarget=e,this.F_(t)}}class sm extends im{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return ua(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ua(!e.writeResults||0===e.writeResults.length,55816),this.listener.z_()}onNext(e){ua(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=function(e,t){return e&&e.length>0?(ua(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?Jh(e.updateTime):Jh(t);return n.isEqual(Oa.min())&&(n=Jh(t)),new oh(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Jh(e.commitTime);return this.listener.j_(n,t)}H_(){const e={};e.database=af(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>df(this.serializer,e)))};this.F_(t)}}class am{}class lm extends am{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.J_=!1}Y_(){if(this.J_)throw new ha(da.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,n,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Qo(e,ef(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===da.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ha(da.UNKNOWN,e.toString())}))}Wo(e,t,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.Wo(e,ef(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===da.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ha(da.UNKNOWN,e.toString())}))}terminate(){this.J_=!0,this.connection.terminate()}}class um{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){0===this.Z_&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve()))))}ia(e){"Online"===this.state?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,"Online"===e&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ia(t),this.ea=!1):ra("OnlineStateTracker",t)}sa(){null!==this.X_&&(this.X_.cancel(),this.X_=null)}}const cm="RemoteStore";class dm{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo((e=>{n.enqueueAndForget((async()=>{wm(this)&&(ra(cm,"Restarting streams for network reachability change."),await async function(e){const t=ca(e);t.aa.add(4),await fm(t),t.la.set("Unknown"),t.aa.delete(4),await hm(t)}(this))}))})),this.la=new um(n,r)}}async function hm(e){if(wm(e))for(const t of e.ua)await t(!0)}async function fm(e){for(const t of e.ua)await t(!1)}function pm(e,t){const n=ca(e);n._a.has(t.targetId)||(n._a.set(t.targetId,t),bm(n)?vm(n):zm(n).b_()&&mm(n,t))}function gm(e,t){const n=ca(e),r=zm(n);n._a.delete(t),r.b_()&&ym(n,t),0===n._a.size&&(r.b_()?r.v_():wm(n)&&n.la.set("Unknown"))}function mm(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Oa.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}zm(e).U_(t)}function ym(e,t){e.ha.Ke(t),zm(e).K_(t)}function vm(e){e.ha=new jh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),zm(e).start(),e.la.ta()}function bm(e){return wm(e)&&!zm(e).w_()&&e._a.size>0}function wm(e){return 0===ca(e).aa.size}function Sm(e){e.ha=void 0}async function Em(e){e.la.set("Online")}async function Tm(e){e._a.forEach(((t,n)=>{mm(e,t)}))}async function xm(e,t){Sm(e),bm(e)?(e.la.ia(t),vm(e)):e.la.set("Unknown")}async function km(e,t,n){if(e.la.set("Online"),t instanceof zh&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e._a.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e._a.delete(r),e.ha.removeTarget(r))}(e,t)}catch(n){ra(cm,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Cm(e,n)}else if(t instanceof Fh?e.ha.Xe(t):t instanceof Bh?e.ha.ot(t):e.ha.nt(t),!n.isEqual(Oa.min()))try{const t=await Pg(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ha.It(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e._a.get(r);i&&e._a.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e._a.get(t);if(!r)return;e._a.set(t,r.withResumeToken(Uu.EMPTY_BYTE_STRING,r.snapshotVersion)),ym(e,t);const i=new kf(r.target,t,n,r.sequenceNumber);mm(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ra(cm,"Failed to raise snapshot:",t),await Cm(e,t)}}async function Cm(e,t,n){if(!al(t))throw t;e.aa.add(1),await fm(e),e.la.set("Offline"),n||(n=()=>Pg(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ra(cm,"Retrying IndexedDB access"),await n(),e.aa.delete(1),await hm(e)}))}function Im(e,t){return t().catch((n=>Cm(e,n,t)))}async function _m(e){const t=ca(e),n=Vm(t);let r=t.oa.length>0?t.oa[t.oa.length-1].batchId:ml;for(;Rm(t);)try{const e=await Mg(t.localStore,r);if(null===e){0===t.oa.length&&n.v_();break}r=e.batchId,Dm(t,e)}catch(e){await Cm(t,e)}Am(t)&&Nm(t)}function Rm(e){return wm(e)&&e.oa.length<10}function Dm(e,t){e.oa.push(t);const n=Vm(e);n.b_()&&n.W_&&n.G_(t.mutations)}function Am(e){return wm(e)&&!Vm(e).w_()&&e.oa.length>0}function Nm(e){Vm(e).start()}async function Pm(e){Vm(e).H_()}async function Om(e){const t=Vm(e);for(const n of e.oa)t.G_(n.mutations)}async function Mm(e,t,n){const r=e.oa.shift(),i=Eh.from(r,t,n);await Im(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await _m(e)}async function Lm(e,t){t&&Vm(e).W_&&await async function(e,t){if(function(e){return Ih(e)&&e!==da.ABORTED}(t.code)){const n=e.oa.shift();Vm(e).D_(),await Im(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await _m(e)}}(e,t),Am(e)&&Nm(e)}async function Fm(e,t){const n=ca(e);n.asyncQueue.verifyOperationInProgress(),ra(cm,"RemoteStore received new credentials");const r=wm(n);n.aa.add(3),await fm(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await hm(n)}async function Bm(e,t){const n=ca(e);t?(n.aa.delete(2),await hm(n)):t||(n.aa.add(2),await fm(n),n.la.set("Unknown"))}function zm(e){return e.Pa||(e.Pa=function(e,t,n){const r=ca(e);return r.Y_(),new om(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{jo:Em.bind(null,e),Jo:Tm.bind(null,e),Zo:xm.bind(null,e),Q_:km.bind(null,e)}),e.ua.push((async t=>{t?(e.Pa.D_(),bm(e)?vm(e):e.la.set("Unknown")):(await e.Pa.stop(),Sm(e))}))),e.Pa}function Vm(e){return e.Ta||(e.Ta=function(e,t,n){const r=ca(e);return r.Y_(),new sm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:Pm.bind(null,e),Zo:Lm.bind(null,e),z_:Om.bind(null,e),j_:Mm.bind(null,e)}),e.ua.push((async t=>{t?(e.Ta.D_(),await _m(e)):(await e.Ta.stop(),e.oa.length>0&&(ra(cm,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))}))),e.Ta}class jm{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new jm(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ha(da.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Um(e,t){if(ia("AsyncQueue",`${t}: ${e}`),al(e))return new ha(da.UNAVAILABLE,`${t}: ${e}`);throw e}class $m{static emptySet(e){return new $m(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Va.comparator(t.key,n.key):(e,t)=>Va.comparator(e.key,t.key),this.keyedMap=Pd(),this.sortedSet=new Ou(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $m))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new $m;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class qm{constructor(){this.Ia=new Ou(Va.comparator)}track(e){const t=e.doc.key,n=this.Ia.get(t);n?0!==e.type&&3===n.type?this.Ia=this.Ia.insert(t,e):3===e.type&&1!==n.type?this.Ia=this.Ia.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Ia=this.Ia.remove(t):1===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):aa(63341,{Vt:e,Ea:n}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Wm{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new Wm(e,t,$m.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Hm{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some((e=>e.ma()))}}class Km{constructor(){this.queries=Gm(),this.onlineState="Unknown",this.fa=new Set}terminate(){!function(e,t){const n=ca(e),r=n.queries;n.queries=Gm(),r.forEach(((e,n)=>{for(const r of n.Ra)r.onError(t)}))}(this,new ha(da.ABORTED,"Firestore shutting down"))}}function Gm(){return new Rd((e=>Td(e)),Ed)}async function Qm(e,t){const n=ca(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.Va()&&t.ma()&&(r=2):(o=new Hm,r=t.ma()?0:1);try{switch(r){case 0:o.Aa=await n.onListen(i,!0);break;case 1:o.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Um(e,`Initialization of query '${xd(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,o),o.Ra.push(t),t.ga(n.onlineState),o.Aa&&t.pa(o.Aa)&&Zm(n)}async function Ym(e,t){const n=ca(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.Ra.indexOf(t);e>=0&&(o.Ra.splice(e,1),0===o.Ra.length?i=t.ma()?0:1:!o.Va()&&t.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Xm(e,t){const n=ca(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Ra)e.pa(i)&&(r=!0);t.Aa=i}}r&&Zm(n)}function Jm(e,t,n){const r=ca(e),i=r.queries.get(t);if(i)for(const o of i.Ra)o.onError(n);r.queries.delete(t)}function Zm(e){e.fa.forEach((e=>{e.next()}))}var ey,ty;(ty=ey||(ey={})).ya="default",ty.Cache="cache";class ny{constructor(e,t,n){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Wm(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache)return!0;if(!this.ma())return!0;const n="Offline"!==t;return(!this.options.Fa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Ca(e){e=Wm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==ey.Cache}}class ry{constructor(e){this.key=e}}class iy{constructor(e){this.key=e}}class oy{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Vd(),this.mutatedKeys=Vd(),this.Ua=Id(e),this.Ka=new $m(this.Ua)}get Wa(){return this.qa}Ga(e,t){const n=t?t.za:new qm,r=t?t.Ka:this.Ka;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=kd(this.query,t)?t:null,d=!!u&&this.mutatedKeys.has(u.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?d!==h&&(n.track({type:3,doc:c}),f=!0):this.ja(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.Ua(c,a)>0||l&&this.Ua(c,l)<0)&&(s=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(s=!0)),f&&(c?(o=o.add(c),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ka:o,za:n,ys:s,mutatedKeys:i}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return aa(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Ua(e.doc,t.doc))),this.Ha(n),r=null!=r&&r;const s=t&&!r?this.Ja():[],a=0===this.$a.size&&this.current&&!r?1:0,l=a!==this.Qa;return this.Qa=a,0!==o.length||l?{snapshot:new Wm(this.query,e.Ka,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:s}:{Ya:s}}ga(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new qm,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach((e=>this.qa=this.qa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.qa=this.qa.delete(e))),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Vd(),this.Ka.forEach((e=>{this.Za(e.key)&&(this.$a=this.$a.add(e.key))}));const t=[];return e.forEach((e=>{this.$a.has(e)||t.push(new iy(e))})),this.$a.forEach((n=>{e.has(n)||t.push(new ry(n))})),t}Xa(e){this.qa=e.Ns,this.$a=Vd();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Wm.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,0===this.Qa,this.hasCachedResults)}}const sy="SyncEngine";class ay{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class ly{constructor(e){this.key=e,this.tu=!1}}class uy{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new Rd((e=>Td(e)),Ed),this.iu=new Map,this.su=new Set,this.ou=new Ou(Va.comparator),this._u=new Map,this.au=new og,this.uu={},this.cu=new Map,this.lu=Ap.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return!0===this.hu}}async function cy(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Ay(e);let i;const o=r.ru.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=await hy(r,t,n,!0),i}async function dy(e,t){const n=Ay(e);await hy(n,t,!0,!1)}async function hy(e,t,n,r){const i=await Lg(e.localStore,bd(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await fy(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&pm(e.remoteStore,i),a}async function fy(e,t,n,r,i){e.Pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ga(n);i.ys&&(i=await Bg(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ga(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return ky(e,t.targetId,a.Ya),a.snapshot}(e,t,n,r);const o=await Bg(e.localStore,t,!0),s=new oy(t,o.Ns),a=s.Ga(o.documents),l=Lh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=s.applyChanges(a,e.isPrimaryClient,l);ky(e,n,u.Ya);const c=new ay(t,n,s);return e.ru.set(t,c),e.iu.has(n)?e.iu.get(n).push(t):e.iu.set(n,[t]),u.snapshot}async function py(e,t,n){const r=ca(e),i=r.ru.get(t),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter((e=>!Ed(e,t)))),void r.ru.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Fg(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&gm(r.remoteStore,i.targetId),Ty(r,i.targetId)})).catch(Za)):(Ty(r,i.targetId),await Fg(r.localStore,i.targetId,!0))}async function gy(e,t){const n=ca(e),r=n.ru.get(t),i=n.iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gm(n.remoteStore,r.targetId))}async function my(e,t){const n=ca(e);try{const e=await function(e,t){const n=ca(e),r=t.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.ai.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.ai.addMatchingKeys(e,o.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(Uu.EMPTY_BYTE_STRING,Oa.min()).withLastLimboFreeSnapshotVersion(Oa.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,u,o)&&s.push(n.ai.updateTargetData(e,u))}));let a=Ad(),l=Vd();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Og(e,o,t.documentUpdates).next((e=>{a=e.xs,l=e.Os}))),!r.isEqual(Oa.min())){const t=n.ai.getLastRemoteSnapshotVersion(e).next((t=>n.ai.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return el.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ss=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n._u.get(t);r&&(ua(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.tu=!0:e.modifiedDocuments.size>0?ua(r.tu,14607):e.removedDocuments.size>0&&(ua(r.tu,42227),r.tu=!1))})),await _y(n,e,t)}catch(e){await Za(e)}}function yy(e,t,n){const r=ca(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ru.forEach(((n,r)=>{const i=r.view.ga(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=ca(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Ra)i.ga(t)&&(r=!0)})),r&&Zm(n)}(r.eventManager,t),e.length&&r.nu.Q_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function vy(e,t,n){const r=ca(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r._u.get(t),o=i&&i.key;if(o){let e=new Ou(Va.comparator);e=e.insert(o,Oc.newNoDocument(o,Oa.min()));const n=Vd().add(o),i=new Mh(Oa.min(),new Map,new Ou(ka),e,n);await my(r,i),r.ou=r.ou.remove(o),r._u.delete(t),Iy(r)}else await Fg(r.localStore,t,!1).then((()=>Ty(r,t,n))).catch(Za)}async function by(e,t){const n=ca(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ca(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=el.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);ua(null!==o,48541),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Vd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Ey(n,r,null),Sy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _y(n,e)}catch(e){await Za(e)}}async function wy(e,t,n){const r=ca(e);try{const e=await function(e,t){const n=ca(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(ua(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Ey(r,t,n),Sy(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await _y(r,e)}catch(n){await Za(n)}}function Sy(e,t){(e.cu.get(t)||[]).forEach((e=>{e.resolve()})),e.cu.delete(t)}function Ey(e,t,n){const r=ca(e);let i=r.uu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.uu[r.currentUser.toKey()]=i}}function Ty(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.iu.get(t))e.ru.delete(r),n&&e.nu.Tu(r,n);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach((t=>{e.au.containsKey(t)||xy(e,t)}))}function xy(e,t){e.su.delete(t.path.canonicalString());const n=e.ou.get(t);null!==n&&(gm(e.remoteStore,n),e.ou=e.ou.remove(t),e._u.delete(n),Iy(e))}function ky(e,t,n){for(const r of n)r instanceof ry?(e.au.addReference(r.key,t),Cy(e,r)):r instanceof iy?(ra(sy,"Document no longer in limbo: "+r.key),e.au.removeReference(r.key,t),e.au.containsKey(r.key)||xy(e,r.key)):aa(19791,{Iu:r})}function Cy(e,t){const n=t.key,r=n.path.canonicalString();e.ou.get(n)||e.su.has(r)||(ra(sy,"New document in limbo: "+n),e.su.add(r),Iy(e))}function Iy(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const n=new Va(Fa.fromString(t)),r=e.lu.next();e._u.set(r,new ly(n)),e.ou=e.ou.insert(n,r),pm(e.remoteStore,new kf(bd(gd(n.path)),r,"TargetPurposeLimboResolution",gl.le))}}async function _y(e,t,n){const r=ca(e),i=[],o=[],s=[];r.ru.isEmpty()||(r.ru.forEach(((e,a)=>{s.push(r.Pu(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Cg.Ps(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.nu.Q_(i),await async function(e,t){const n=ca(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>el.forEach(t,(t=>el.forEach(t.ls,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>el.forEach(t.hs,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!al(e))throw e;ra(Rg,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ss.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ss=n.Ss.insert(e,i)}}}(r.localStore,o))}async function Ry(e,t){const n=ca(e);if(!n.currentUser.isEqual(t)){ra(sy,"User change. New user:",t.toKey());const e=await Ng(n.localStore,t);n.currentUser=t,function(e,t){e.cu.forEach((e=>{e.forEach((e=>{e.reject(new ha(da.CANCELLED,t))}))})),e.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await _y(n,e.Ms)}}function Dy(e,t){const n=ca(e),r=n._u.get(t);if(r&&r.tu)return Vd().add(r.key);{let e=Vd();const r=n.iu.get(t);if(!r)return e;for(const t of r){const r=n.ru.get(t);e=e.unionWith(r.view.Wa)}return e}}function Ay(e){const t=ca(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=my.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dy.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vy.bind(null,t),t.nu.Q_=Xm.bind(null,t.eventManager),t.nu.Tu=Jm.bind(null,t.eventManager),t}function Ny(e){const t=ca(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=by.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wy.bind(null,t),t}class Py{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tm(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return Ag(this.persistence,new _g,e.initialUser,this.serializer)}Ru(e){return new dg(fg.Ei,this.serializer)}Au(e){return new jg}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Py.provider={build:()=>new Py};class Oy extends Py{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){ua(this.persistence.referenceDelegate instanceof pg,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Vp(n,e.asyncQueue,t)}Ru(e){const t=void 0!==this.cacheSizeBytes?Tp.withCacheSize(this.cacheSizeBytes):Tp.DEFAULT;return new dg((e=>pg.Ei(e,t)),this.serializer)}}class My extends Py{constructor(e,t,n){super(),this.gu=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.gu.initialize(this,e),await Ny(this.gu.syncEngine),await _m(this.gu.remoteStore),await this.persistence.Ki((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}Vu(e){return Ag(this.persistence,new _g,e.initialUser,this.serializer)}mu(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Vp(n,e.asyncQueue,t)}fu(e,t){const n=new pl(t,this.persistence);return new fl(e.asyncQueue,n)}Ru(e){const t=kg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Tp.withCacheSize(this.cacheSizeBytes):Tp.DEFAULT;return new Eg(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Zg(),em(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Au(e){return new jg}}class Ly{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>yy(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ry.bind(null,this.syncEngine),await Bm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Km}createDatastore(e){const t=tm(e.databaseInfo.databaseId),n=function(e){return new Jg(e)}(e.databaseInfo);return function(e,t,n,r){return new lm(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new dm(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>yy(this.syncEngine,e,0)),qg.C()?new qg:new Ug)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new uy(e,t,n,r,i,o);return s&&(a.hu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=ca(e);ra(cm,"RemoteStore shutting down."),t.aa.add(5),await fm(t),t.ca.shutdown(),t.la.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Ly.provider={build:()=>new Ly};class Fy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ia("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const By="FirestoreClient";class zy{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Zs.UNAUTHENTICATED,this.clientId=xa.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{ra(By,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ra(By,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Um(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Vy(e,t){e.asyncQueue.verifyOperationInProgress(),ra(By,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Ng(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function jy(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Uy(e);ra(By,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Fm(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Fm(t.remoteStore,n))),e._onlineComponents=t}async function Uy(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ra(By,"Using user provided OfflineComponentProvider");try{await Vy(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===da.FAILED_PRECONDITION||e.code===da.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;oa("Error using user provided cache. Falling back to memory cache: "+n),await Vy(e,new Py)}}else ra(By,"Using default OfflineComponentProvider"),await Vy(e,new Oy(void 0));return e._offlineComponents}async function $y(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ra(By,"Using user provided OnlineComponentProvider"),await jy(e,e._uninitializedComponentsProvider._online)):(ra(By,"Using default OnlineComponentProvider"),await jy(e,new Ly))),e._onlineComponents}function qy(e){return Uy(e).then((e=>e.persistence))}function Wy(e){return $y(e).then((e=>e.remoteStore))}function Hy(e){return $y(e).then((e=>e.syncEngine))}async function Ky(e){const t=await $y(e),n=t.eventManager;return n.onListen=cy.bind(null,t.syncEngine),n.onUnlisten=py.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=dy.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=gy.bind(null,t.syncEngine),n}function Gy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new fa;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Fy({next:n=>{o.yu(),t.enqueueAndForget((()=>Ym(e,s))),n.fromCache&&"server"===r.source?i.reject(new ha(da.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new ny(n,o,{includeMetadataChanges:!0,Fa:!0});return Qm(e,s)}(await Ky(e),e.asyncQueue,t,n,r))),r.promise}function Qy(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Yy=new Map;function Xy(e,t,n){if(!n)throw new ha(da.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Jy(e){if(!Va.isDocumentKey(e))throw new ha(da.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Zy(e){if(Va.isDocumentKey(e))throw new ha(da.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ev(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":aa(12329,{type:typeof e})}function tv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ha(da.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ev(e);throw new ha(da.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const nv="firestore.googleapis.com",rv=!0;class iv{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ha(da.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nv,this.ssl=rv}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:rv;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Ep;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Fp)throw new ha(da.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ha(da.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qy(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ha(da.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new ha(da.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new ha(da.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ov{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ha(da.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ha(da.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iv(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ga;switch(e.type){case"firstParty":return new ba(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ha(da.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Yy.get(e);t&&(ra("ComponentProvider","Removing Datastore"),Yy.delete(e),t.terminate())}(this),Promise.resolve()}}function sv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=tv(e,ov);const o=co(t),s=e._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;o&&async function(e){(await fetch(e,{credentials:"include"})).ok}(`https://${l}`),s.host!==nv&&s.host!==l&&oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:l,ssl:o,emulatorOptions:r});if(!ao(u,a)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Zs.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Gi(JSON.stringify({alg:"none",type:"JWT"})),Gi(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new ha(da.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Zs(o)}e._authCredentials=new ma(new pa(t,n))}}class av{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new av(this.firestore,e,this._query)}}class lv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uv(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lv(this.firestore,e,this._key)}}class uv extends av{constructor(e,t,n){super(e,t,gd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lv(this.firestore,null,new Va(e))}withConverter(e){return new uv(this.firestore,e,this._path)}}function cv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=uo(e),Xy("collection","path",t),e instanceof ov){const n=Fa.fromString(t,...r);return Zy(n),new uv(e,null,n)}{if(!(e instanceof lv||e instanceof uv))throw new ha(da.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Fa.fromString(t,...r));return Zy(n),new uv(e.firestore,null,n)}}function dv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=uo(e),1===arguments.length&&(t=xa.newId()),Xy("doc","path",t),e instanceof ov){const n=Fa.fromString(t,...r);return Jy(n),new lv(e,null,new Va(n))}{if(!(e instanceof lv||e instanceof uv))throw new ha(da.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Fa.fromString(t,...r));return Jy(n),new lv(e.firestore,e instanceof uv?e.converter:null,new Va(n))}}const hv="AsyncQueue";class fv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new nm(this,"async_queue_retry"),this.ju=()=>{const e=em();e&&ra(hv,"Visibility state changed to "+e.visibilityState),this.y_.A_()},this.Hu=e;const t=em();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=em();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise((()=>{}));const t=new fa;return this.Yu((()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qu.push(e),this.Zu())))}async Zu(){if(0!==this.Qu.length){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!al(e))throw e;ra(hv,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_((()=>this.Zu()))}}Yu(e){const t=this.Hu.then((()=>(this.Wu=!0,e().catch((e=>{throw this.Ku=e,this.Wu=!1,ia("INTERNAL UNHANDLED ERROR: ",pv(e)),e})).then((e=>(this.Wu=!1,e))))));return this.Hu=t,t}enqueueAfterDelay(e,t,n){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const r=jm.createAndSchedule(this,e,t,n,(e=>this.Xu(e)));return this.Uu.push(r),r}Ju(){this.Ku&&aa(47125,{ec:pv(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do{e=this.Hu,await e}while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then((()=>{this.Uu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Uu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.tc()}))}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function pv(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class gv extends ov{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new fv,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fv(e),this._firestoreClient=void 0,await e}}}function mv(e){if(e._terminated)throw new ha(da.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||yv(e),e._firestoreClient}function yv(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new ec(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Qy(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new zy(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function vv(e,t,n){if((e=tv(e,gv))._firestoreClient||e._terminated)throw new ha(da.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new ha(da.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},yv(e)}function bv(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await qy(e),n=await Wy(e);return t.setNetworkEnabled(!0),function(e){const t=ca(e);return t.aa.delete(0),hm(t)}(n)}))}(mv(e=tv(e,gv)))}function wv(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await qy(e),n=await Wy(e);return t.setNetworkEnabled(!1),async function(e){const t=ca(e);t.aa.add(0),await fm(t),t.la.set("Offline")}(n)}))}(mv(e=tv(e,gv)))}class Sv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sv(Uu.fromBase64String(e))}catch(e){throw new ha(da.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Sv(Uu.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ev{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ha(da.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new za(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tv{constructor(e){this._methodName=e}}class xv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ha(da.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ha(da.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ka(this._lat,e._lat)||ka(this._long,e._long)}}class kv{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Cv=/^__.*__$/;class Iv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new gh(e,this.data,this.fieldMask,t,this.fieldTransforms):new ph(e,this.data,t,this.fieldTransforms)}}class _v{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new gh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Rv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw aa(40011,{oc:e})}}class Dv{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this._c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Dv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ac({path:n,cc:!1});return r.lc(e),r}hc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ac({path:n,cc:!1});return r._c(),r}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return qv(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(0===e.length)throw this.Tc("Document fields must not be empty");if(Rv(this.oc)&&Cv.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Av{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||tm(e)}dc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Dv({oc:e,methodName:t,Ec:n,path:za.emptyPath(),cc:!1,Ic:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nv(e){const t=e._freezeSettings(),n=tm(e._databaseId);return new Av(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Pv(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.dc(o.merge||o.mergeFields?2:0,t,n,i);Vv("Data must be an object, but it was:",s,r);const a=Bv(r,s);let l,u;if(o.merge)l=new Vu(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=jv(t,r,n);if(!s.contains(i))throw new ha(da.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Wv(e,i)||e.push(i)}l=new Vu(e),u=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=s.fieldTransforms;return new Iv(new Nc(a),l,u)}class Ov extends Tv{_toFieldTransform(e){if(2!==e.oc)throw 1===e.oc?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ov}}function Mv(e,t,n,r){const i=e.dc(1,t,n);Vv("Data must be an object, but it was:",i,r);const o=[],s=Nc.empty();Nu(r,((e,r)=>{const a=$v(t,e,n);r=uo(r);const l=i.hc(a);if(r instanceof Ov)o.push(a);else{const e=Fv(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Vu(o);return new _v(s,a,i.fieldTransforms)}function Lv(e,t,n,r,i,o){const s=e.dc(1,t,n),a=[jv(t,r,n)],l=[i];if(o.length%2!=0)throw new ha(da.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(jv(t,o[h])),l.push(o[h+1]);const u=[],c=Nc.empty();for(let h=a.length-1;h>=0;--h)if(!Wv(u,a[h])){const e=a[h];let t=l[h];t=uo(t);const n=s.hc(e);if(t instanceof Ov)u.push(e);else{const r=Fv(t,n);null!=r&&(u.push(e),c.set(e,r))}}const d=new Vu(u);return new _v(c,d,s.fieldTransforms)}function Fv(e,t){if(zv(e=uo(e)))return Vv("Unsupported field value:",t,e),Bv(e,t);if(e instanceof Tv)return function(e,t){if(!Rv(t.oc))throw t.Tc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Tc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&4!==t.oc)throw t.Tc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Fv(i,t.Pc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=uo(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Wd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Pa.fromDate(e);return{timestampValue:Qh(t.serializer,n)}}if(e instanceof Pa){const n=new Pa(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Qh(t.serializer,n)}}if(e instanceof xv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Sv)return{bytesValue:Yh(t.serializer,e._byteString)};if(e instanceof lv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Tc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Zh(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof kv)return function(e,t){return{mapValue:{fields:{[rc]:{stringValue:sc},[ac]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Tc("VectorValues must only contain numeric values.");return $d(t.serializer,e)}))}}}}}}(e,t);throw t.Tc(`Unsupported field value: ${ev(e)}`)}(e,t)}function Bv(e,t){const n={};return Pu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Nu(e,((e,r)=>{const i=Fv(r,t.uc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function zv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Pa||e instanceof xv||e instanceof Sv||e instanceof lv||e instanceof Tv||e instanceof kv)}function Vv(e,t,n){if(!zv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=ev(n);throw"an object"===r?t.Tc(e+" a custom object"):t.Tc(e+" "+r)}}function jv(e,t,n){if((t=uo(t))instanceof Ev)return t._internalPath;if("string"==typeof t)return $v(e,t);throw qv("Field path arguments must be of type string or ",e,!1,void 0,n)}const Uv=new RegExp("[~\\*/\\[\\]]");function $v(e,t,n){if(t.search(Uv)>=0)throw qv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ev(...t.split("."))._internalPath}catch(r){throw qv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function qv(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ha(da.INVALID_ARGUMENT,a+e+l)}function Wv(e,t){return e.some((e=>e.isEqual(t)))}class Hv{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new lv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Kv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Gv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Kv extends Hv{data(){return super.data()}}function Gv(e,t){return"string"==typeof t?$v(e,t):t instanceof Ev?t._internalPath:t._delegate._internalPath}function Qv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ha(da.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yv{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(uc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw aa(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Nu(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[ac].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Wu(e.doubleValue)));return new kv(i)}convertGeoPoint(e){return new xv(Wu(e.latitude),Wu(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ju(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Zu(e));default:return null}}convertTimestamp(e){const t=qu(e);return new Pa(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Fa.fromString(e);ua(xf(n),9688,{name:e});const r=new nc(n.get(1),n.get(3)),i=new Va(n.popFirst(5));return r.isEqual(t)||ia(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Xv(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Jv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zv extends Hv{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new eb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Gv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class eb extends Zv{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class tb{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Jv(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new eb(this._firestore,this._userDataWriter,n.key,n,new Jv(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ha(da.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new eb(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Jv(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new eb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Jv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:nb(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function nb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return aa(61501,{type:e})}}class rb extends Yv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lv(this.firestore,null,t)}}function ib(e){e=tv(e,av);const t=tv(e.firestore,gv),n=mv(t),r=new rb(t);return Qv(e._query),Gy(n,e._query).then((n=>new tb(t,r,e,n)))}function ob(e,t){const n=tv(e.firestore,gv),r=dv(e),i=Xv(e.converter,t);return sb(n,[Pv(Nv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,sh.exists(!1))]).then((()=>r))}function sb(e,t){return function(e,t){const n=new fa;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Ny(e);try{const e=await function(e,t){const n=ca(e),r=Pa.now(),i=t.reduce(((e,t)=>e.add(t.key)),Vd());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Ad(),l=Vd();return n.Cs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=hh(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new gh(e.key,t,Pc(t.value.mapValue),sh.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Od(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.uu[e.currentUser.toKey()];r||(r=new Ou(ka)),r=r.insert(t,n),e.uu[e.currentUser.toKey()]=r}(r,e.batchId,n),await _y(r,e.changes),await _m(r.remoteStore)}catch(e){const t=Um(e,"Failed to persist write");n.reject(t)}}(await Hy(e),t,n))),n.promise}(mv(e),t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ea=e}("11.7.1"),Ss(new ho("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new gv(new ya(e.getProvider("auth-internal")),new Sa(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ha(da.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),Cs(Xs,Js,e),Cs(Xs,Js,"esm2017")}();const ab={apiKey:"AIzaSyCq2OzVOFhsqeaBtxOgkqWlWCJu8Vm-JiI",authDomain:"my-test-app-ea549.firebaseapp.com",projectId:"my-test-app-ea549",storageBucket:"my-test-app-ea549.firebasestorage.app",messagingSenderId:"639334781101",appId:"1:639334781101:web:2c24400753cdfd4ee57624"},lb=function(e,t){const n="object"==typeof e?e:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gs;const t=ys.get(e);if(!t&&e===gs&&Zi())return ks();if(!t)throw Ts.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||tc,i=Es(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=Ji("firestore");e&&sv(i,...e)}return i}(ks(ab));try{(function(e,t){oa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return vv(e,Ly.provider,{build:e=>new My(e,n.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()})(lb).then((()=>{console.log("Firestore persistence enabled successfully")})).catch((e=>{console.error("Error enabling Firestore persistence:",e.code,e.message),"failed-precondition"===e.code?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time"):"unimplemented"===e.code&&console.warn("The current browser does not support all features required for Firestore persistence")}))}catch(Ab){console.error("Error in persistence setup:",Ab)}var ub=n(579);const cb=e=>{let{activeSection:t,setActiveSection:n,logoImage:r}=e;const[i,o]=(0,f.useState)(!1),[s,a]=(0,f.useState)(Ui());(0,f.useEffect)((()=>{const e=dr.addEventListener("change",(e=>{let{window:t}=e;a(t.width<768),t.width>=768&&o(!1)}));return()=>{e.remove()}}),[]);const l=()=>[{id:"schedule",label:"Schedule"},{id:"registration",label:"Registration"},{id:"leaderboard",label:"Leaderboard"},{id:"results",label:"Results"}].map((e=>(0,ub.jsx)(mi,{style:[qi.navBtn,t===e.id&&qi.navBtnActive,s&&qi.navBtnMobile],onPress:()=>{return t=e.id,n(t),void(s&&o(!1));var t},children:(0,ub.jsx)(Hr,{style:qi.navBtnText,children:e.label})},e.id)));return(0,ub.jsxs)(Wn,{style:qi.navbar,children:[(0,ub.jsxs)(Wn,{style:qi.logoContainer,children:[(0,ub.jsx)(Ar,{source:r,style:qi.logoImage}),(0,ub.jsx)(Hr,{style:qi.logoText,children:"Battle Of Ross\xf6"})]}),s?(0,ub.jsxs)(Wn,{children:[(0,ub.jsx)(mi,{style:qi.menuToggle,onPress:()=>{o(!i)},children:(0,ub.jsx)(Hr,{style:qi.menuToggleText,children:"\u2630"})}),i&&(0,ub.jsx)(Wn,{style:qi.mobileMenu,children:l()})]}):(0,ub.jsx)(Wn,{style:qi.navLinks,children:l()})]})},db=n.p+"static/media/golf\xf62.c9f933d917bc2bb8df3c.png",hb=n.p+"static/media/golf_2.f3be3f064dbe264ffe01.jpg",fb=n.p+"static/media/arrows2.e8b8ab2dc56e8080ee94.png",pb=n.p+"static/media/surf1.78bf7a5357b561a3f68a.png",gb=n.p+"static/media/saw.17d3841941a01e1ae53c.png",mb=n.p+"static/media/elda_sn\xf6re3.784bcf8e095d0eeb7cd1.png",yb=n.p+"static/media/spik.7867aa301f0ec5a08264.png",vb=()=>{const[e,t]=(0,f.useState)(null),[n,r]=(0,f.useState)(Ui());(0,f.useEffect)((()=>{const e=dr.addEventListener("change",(e=>{let{window:t}=e;r(t.width<768)}));return()=>{e.remove()}}),[]);const i=[{time:"11:30",event:"\xd6ppnings Cermoni",details:"Welcome to our Pentathlon Event! The opening ceremony will include speeches from organizers, introduction of teams, and a brief overview of today's events.",image:"https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",category:"general"},{time:"12:30",event:"Game 1: \xd6-golf",details:"Ett slag, ett m\xe5l: en \xf6. Kom inte t\xf6rstig f\xf6r h\xe4r vill du undvika vatten. \xd6l tillhandah\xe5lls som hj\xe4lpmedel. Po\xe4ng ges f\xf6r att landa bollen p\xe5 \xf6n.",image:db,category:"precision"},{time:"13:00",event:"Game 2: N\xe4rmast flaggan",details:"En klassiker. Sl\xe5 ett slag, kom n\xe4rmast flaggan. Inga puttar, inga greener",image:hb,category:"precision"},{time:"13:30",event:"Game 3: Pilb\xe5gsskytte",details:"Klassiskt pilb\xe5gsskytte mot tavla.  ",image:fb,category:"precision"},{time:"14:00",event:"Game 4: Skrotholmen Surf",details:"\xd6ver vattnet, bygga torn, tillbaka.",image:pb,category:"brunk"},{time:"15:00",event:"Game 5: Spika spik",details:"Hammare, spik.... ",image:yb,category:"brunk"},{time:"15:30",event:"Game 6: S\xe5ga stock",details:"Nu kommer \xe4ntligen fogsvansen fram.",image:gb,category:"brunk"},{time:"16:00",event:"Game 7: Elda sn\xf6re",details:"F\xe5 upp eld med t\xe4ndst\xe5l, elda av sn\xf6ret s\xe5 snabbt som m\xf6jligt.  ",image:mb,category:"\xf6verlevnad"},{time:"17:00",event:"Middag och Cermoni",details:"A celebratory dinner will be served at the main hall, featuring a variety of dishes to accommodate all dietary requirements. (K\xf6rv).",image:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",category:"general"}],o={general:i.filter((e=>"general"===e.category)),precision:i.filter((e=>"precision"===e.category)),brunk:i.filter((e=>"brunk"===e.category)),"\xf6verlevnad":i.filter((e=>"\xf6verlevnad"===e.category))};return(0,ub.jsxs)(Wn,{style:qi.scheduleSectionContainer,children:[(0,ub.jsx)(Hr,{style:qi.sectionTitle,children:"Vad h\xe4nder under dagen?"}),(0,ub.jsxs)(Wn,{style:qi.scheduleContainer,children:[o.general.filter((e=>"11:30"===e.time)).map(((e,n)=>(0,ub.jsxs)(mi,{style:qi.scheduleItem,onPress:()=>t(e),activeOpacity:.7,children:[(0,ub.jsx)(Hr,{style:qi.scheduleTime,children:e.time}),(0,ub.jsxs)(Wn,{style:qi.scheduleContent,children:[(0,ub.jsx)(Hr,{style:qi.scheduleEvent,children:e.event}),(0,ub.jsx)(Hr,{style:qi.scheduleDetailsHint,children:"Tap for details \u2192"})]})]},n))),(0,ub.jsxs)(Wn,{style:qi.categoryContainer,children:[(0,ub.jsx)(Hr,{style:qi.categoryTitle,children:"Precision"}),o.precision.map(((e,n)=>(0,ub.jsxs)(mi,{style:qi.scheduleItem,onPress:()=>t(e),activeOpacity:.7,children:[(0,ub.jsx)(Hr,{style:qi.scheduleTime,children:e.time}),(0,ub.jsxs)(Wn,{style:qi.scheduleContent,children:[(0,ub.jsx)(Hr,{style:qi.scheduleEvent,children:e.event}),(0,ub.jsx)(Hr,{style:qi.scheduleDetailsHint,children:"Tap for details \u2192"})]})]},n)))]}),(0,ub.jsxs)(Wn,{style:qi.categoryContainer,children:[(0,ub.jsx)(Hr,{style:qi.categoryTitle,children:"Brunk"}),o.brunk.map(((e,n)=>(0,ub.jsxs)(mi,{style:qi.scheduleItem,onPress:()=>t(e),activeOpacity:.7,children:[(0,ub.jsx)(Hr,{style:qi.scheduleTime,children:e.time}),(0,ub.jsxs)(Wn,{style:qi.scheduleContent,children:[(0,ub.jsx)(Hr,{style:qi.scheduleEvent,children:e.event}),(0,ub.jsx)(Hr,{style:qi.scheduleDetailsHint,children:"Tap for details \u2192"})]})]},n)))]}),(0,ub.jsxs)(Wn,{style:qi.categoryContainer,children:[(0,ub.jsx)(Hr,{style:qi.categoryTitle,children:"\xd6verlevnad"}),o.\u00f6verlevnad.map(((e,n)=>(0,ub.jsxs)(mi,{style:qi.scheduleItem,onPress:()=>t(e),activeOpacity:.7,children:[(0,ub.jsx)(Hr,{style:qi.scheduleTime,children:e.time}),(0,ub.jsxs)(Wn,{style:qi.scheduleContent,children:[(0,ub.jsx)(Hr,{style:qi.scheduleEvent,children:e.event}),(0,ub.jsx)(Hr,{style:qi.scheduleDetailsHint,children:"Tap for details \u2192"})]})]},n)))]}),o.general.filter((e=>"17:00"===e.time)).map(((e,n)=>(0,ub.jsxs)(mi,{style:qi.scheduleItem,onPress:()=>t(e),activeOpacity:.7,children:[(0,ub.jsx)(Hr,{style:qi.scheduleTime,children:e.time}),(0,ub.jsxs)(Wn,{style:qi.scheduleContent,children:[(0,ub.jsx)(Hr,{style:qi.scheduleEvent,children:e.event}),(0,ub.jsx)(Hr,{style:qi.scheduleDetailsHint,children:"Tap for details \u2192"})]})]},n)))]}),e&&(0,ub.jsx)(Wn,{style:qi.eventDetailsModal,children:(0,ub.jsxs)(Wn,{style:[qi.eventDetailsContent,n&&qi.eventDetailsContentMobile],children:[(0,ub.jsx)(mi,{style:qi.closeButton,onPress:()=>t(null),hitSlop:{top:10,right:10,bottom:10,left:10},activeOpacity:.7,children:(0,ub.jsx)(Hr,{style:qi.closeButtonText,children:"\u2715"})}),(0,ub.jsx)(Wn,{style:qi.eventImageContainer,children:(0,ub.jsx)(Ar,{source:{uri:e.image},style:qi.eventImage,resizeMode:"cover"})}),(0,ub.jsxs)(Wn,{style:qi.eventDetailsContainer,children:[(0,ub.jsxs)(Wn,{style:qi.eventDetailsHeader,children:[(0,ub.jsx)(Hr,{style:qi.eventDetailsTitle,children:e.event}),(0,ub.jsx)(Hr,{style:qi.eventDetailsTime,children:e.time})]}),(0,ub.jsx)(zi,{style:qi.eventDetailsScroll,children:(0,ub.jsx)(Hr,{style:qi.eventDescription,children:e.details})})]})]})})]})};var bb=(e,t)=>{if(((e,t)=>{var n=e.selectionEnd,r=e.selectionStart,i=t.start,o=t.end;return i!==r||o!==n})(e,t)){var n=t.start,r=t.end;try{e.setSelectionRange(n,r||n)}catch(i){}}},wb=Object.assign({},Ct,It,_t,Rt,Dt,At,Nt,Pt,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0});var Sb=null,Eb=f.forwardRef(((e,t)=>{var n,r,i=e.autoCapitalize,o=void 0===i?"sentences":i,s=e.autoComplete,a=e.autoCompleteType,l=e.autoCorrect,u=void 0===l||l,c=e.blurOnSubmit,d=e.caretHidden,h=e.clearTextOnFocus,p=e.dir,g=e.editable,m=e.enterKeyHint,y=e.inputMode,v=e.keyboardType,b=e.multiline,w=void 0!==b&&b,S=e.numberOfLines,E=e.onBlur,T=e.onChange,x=e.onChangeText,k=e.onContentSizeChange,C=e.onFocus,I=e.onKeyPress,_=e.onLayout,R=e.onMoveShouldSetResponder,D=e.onMoveShouldSetResponderCapture,A=e.onResponderEnd,N=e.onResponderGrant,P=e.onResponderMove,O=e.onResponderReject,M=e.onResponderRelease,L=e.onResponderStart,F=e.onResponderTerminate,B=e.onResponderTerminationRequest,z=e.onScrollShouldSetResponder,V=e.onScrollShouldSetResponderCapture,j=e.onSelectionChange,U=e.onSelectionChangeShouldSetResponder,$=e.onSelectionChangeShouldSetResponderCapture,q=e.onStartShouldSetResponder,W=e.onStartShouldSetResponderCapture,H=e.onSubmitEditing,K=e.placeholderTextColor,G=e.readOnly,Q=void 0!==G&&G,Y=e.returnKeyType,X=e.rows,J=e.secureTextEntry,Z=void 0!==J&&J,ee=e.selection,te=e.selectTextOnFocus,ne=e.showSoftInputOnFocus,re=e.spellCheck;if(null!=y)r=y,n="email"===y?"email":"tel"===y?"tel":"search"===y?"search":"url"===y?"url":"text";else if(null!=v)switch(v){case"email-address":n="email";break;case"number-pad":case"numeric":r="numeric";break;case"decimal-pad":r="decimal";break;case"phone-pad":n="tel";break;case"search":case"web-search":n="search";break;case"url":n="url";break;default:n="text"}Z&&(n="password");var ie=f.useRef({height:null,width:null}),oe=f.useRef(null),se=f.useRef(null),ae=f.useRef(!1);f.useEffect((()=>{oe.current&&se.current&&bb(oe.current,se.current),ae.current=Z}),[Z]);var le=f.useCallback((e=>{if(w&&k&&null!=e){var t=e.scrollHeight,n=e.scrollWidth;t===ie.current.height&&n===ie.current.width||(ie.current.height=t,ie.current.width=n,k({nativeEvent:{contentSize:{height:ie.current.height,width:ie.current.width}}}))}}),[w,k]),ue=f.useMemo((()=>e=>{null!=e&&(e.clear=function(){null!=e&&(e.value="")},e.isFocused=function(){return null!=e&&Ti.currentlyFocusedField()===e},le(e))}),[le]);Mt((()=>{var e=oe.current;null!=e&&null!=ee&&bb(e,ee),document.activeElement===e&&(Ti._currentlyFocusedNode=e)}),[oe,ee]);var ce=w?"textarea":"input";Qt(oe,_),zn(oe,{onMoveShouldSetResponder:R,onMoveShouldSetResponderCapture:D,onResponderEnd:A,onResponderGrant:N,onResponderMove:P,onResponderReject:O,onResponderRelease:M,onResponderStart:L,onResponderTerminate:F,onResponderTerminationRequest:B,onScrollShouldSetResponder:z,onScrollShouldSetResponderCapture:V,onSelectionChangeShouldSetResponder:U,onSelectionChangeShouldSetResponderCapture:$,onStartShouldSetResponder:q,onStartShouldSetResponderCapture:W});var de=xt().direction,he=(e=>Ot(e,wb))(e);he.autoCapitalize=o,he.autoComplete=s||a||"on",he.autoCorrect=u?"on":"off",he.dir=void 0!==p?p:"auto",he.enterKeyHint=m||Y,he.inputMode=r,he.onBlur=function(e){Ti._currentlyFocusedNode=null,E&&(e.nativeEvent.text=e.target.value,E(e))},he.onChange=function(e){var t=e.target,n=t.value;e.nativeEvent.text=n,le(t),T&&T(e),x&&x(n)},he.onFocus=function(e){var t=e.target;C&&(e.nativeEvent.text=t.value,C(e)),null!=t&&(Ti._currentlyFocusedNode=t,h&&(t.value=""),te&&(null!=Sb&&clearTimeout(Sb),Sb=setTimeout((()=>{null!=t&&document.activeElement===t&&t.select()}),0)))},he.onKeyDown=function(e){var t=e.target;e.stopPropagation();var n=null==c?!w:c,r=e.nativeEvent,i=function(e){return e.isComposing||229===e.keyCode}(r);I&&I(e),"Enter"!==e.key||e.shiftKey||i||e.isDefaultPrevented()||(!c&&w||!H||(e.preventDefault(),r.text=e.target.value,H(e)),n&&null!=t&&setTimeout((()=>t.blur()),0))},he.onSelect=function(e){try{var t=e.target,n={start:t.selectionStart,end:t.selectionEnd};j&&(e.nativeEvent.selection=n,e.nativeEvent.text=e.target.value,j(e)),ae.current===Z&&(se.current=n)}catch(e){}},he.readOnly=!0===Q||!1===g,he.rows=w?null!=X?X:S:1,he.spellCheck=null!=re?re:u,he.style=[{"--placeholderTextColor":K},Tb.textinput$raw,Tb.placeholder,e.style,d&&Tb.caretHidden],he.type=w?void 0:n,he.virtualkeyboardpolicy=!1===ne?"manual":"auto";var fe=Zt(he),pe=Xt(oe,fe,ue,t);he.ref=pe;var ge=null!=e.lang?Et(e.lang):null,me=e.dir||ge;return kt(ce,he,{writingDirection:me||de})}));Eb.displayName="TextInput",Eb.State=Ti;var Tb=nt.create({textinput$raw:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"},placeholder:{placeholderTextColor:"var(--placeholderTextColor)"},caretHidden:{caretColor:"transparent"}});const xb=Eb,kb=e=>{let{addParticipant:t}=e;const[n,r]=(0,f.useState)(""),[i,o]=(0,f.useState)(""),[s,a]=(0,f.useState)(!1);return(0,ub.jsxs)(Wn,{style:qi.section,children:[(0,ub.jsx)(Hr,{style:qi.sectionTitle,children:"Deltagar Registrering"}),(0,ub.jsxs)(Wn,{style:qi.formContainer,children:[(0,ub.jsxs)(Wn,{style:qi.formGroup,children:[(0,ub.jsx)(Hr,{style:qi.label,children:"Fullst\xe4ndigt Namn:"}),(0,ub.jsx)(xb,{style:qi.input,value:n,onChangeText:r,placeholder:"Gustav Valdemar Olsson",placeholderTextColor:"#5D4037aa",editable:!s})]}),(0,ub.jsxs)(Wn,{style:qi.formGroup,children:[(0,ub.jsx)(Hr,{style:qi.label,children:"Ange Lagnamn:"}),(0,ub.jsx)(xb,{style:qi.input,value:i,onChangeText:o,placeholder:"Ross\xf6Losers",placeholderTextColor:"#5D4037aa",editable:!s})]}),(0,ub.jsx)(mi,{style:[qi.submitBtn,s&&qi.disabledButton],onPress:async()=>{if(n&&i)try{a(!0),await t({name:n,team:i}),r(""),o(""),alert("Otroligt! Du \xe4r nu anm\xe4ld till Battle of Ross\xf6. ")}catch(e){console.error("Error registering participant:",e),alert("Registration failed. Please try again.")}finally{a(!1)}else alert("Fyll i alla f\xe4lt")},disabled:s,activeOpacity:s?1:.7,children:s?(0,ub.jsx)(Ei,{size:"small",color:"#fff"}):(0,ub.jsx)(Hr,{style:qi.submitBtnText,children:"Register"})})]})]})},Cb=e=>{let{participants:t,loading:n}=e;const[r,i]=(0,f.useState)(Ui()),[o,s]=(0,f.useState)(null),[a,l]=(0,f.useState)("total");(0,f.useEffect)((()=>{const e=dr.addEventListener("change",(e=>{let{window:t}=e;i(t.width<768)}));return()=>{e.remove()}}),[]),(0,f.useEffect)((()=>{console.log("Leaderboard component - participants:",t),console.log("Leaderboard component - loading state:",n);try{t&&!Array.isArray(t)?(s("Participants data is not in the expected format"),console.error("Participants data is not an array:",t)):s(null)}catch(Ab){s("Error processing participants data"),console.error("Error in Leaderboard component:",Ab)}}),[t,n]);return o?(0,ub.jsxs)(Wn,{style:qi.section,children:[(0,ub.jsx)(Hr,{style:qi.sectionTitle,children:"Live Leaderboard"}),(0,ub.jsxs)(Wn,{style:qi.errorContainer,children:[(0,ub.jsxs)(Hr,{style:qi.errorText,children:["Error: ",o]}),(0,ub.jsx)(Hr,{style:qi.errorSubtext,children:"Please check the console for details."})]})]}):(0,ub.jsxs)(Wn,{style:qi.section,children:[(0,ub.jsx)(Hr,{style:qi.sectionTitle,children:"Live Leaderboard"}),(0,ub.jsxs)(Wn,{style:qi.pickerContainer,children:[(0,ub.jsx)(mi,{style:[qi.pickerButton,"total"===a&&qi.pickerButtonActive],onPress:()=>l("total"),children:(0,ub.jsx)(Hr,{style:[qi.pickerButtonText,"total"===a&&qi.pickerButtonTextActive],children:"Total Points"})}),["Game 1: \xd6-golf","Game 2: N\xe4rmast flaggan","Game 3: Pilb\xe5gsskytte","Game 4: Skrotholmen Surf","Game 5: Spika spik","Game 6: S\xe5ga stock","Game 7: Elda sn\xf6re"].map((e=>(0,ub.jsx)(mi,{style:[qi.pickerButton,a===e&&qi.pickerButtonActive],onPress:()=>l(e),children:(0,ub.jsx)(Hr,{style:[qi.pickerButtonText,a===e&&qi.pickerButtonTextActive],children:e.split(":")[0]})},e)))]}),(0,ub.jsxs)(Wn,{style:qi.leaderboardContainer,children:[(0,ub.jsxs)(Wn,{style:qi.tableHeader,children:[(0,ub.jsx)(Hr,{style:[qi.tableHeaderCell,{flex:r?.5:1}],children:"Rank"}),(0,ub.jsx)(Hr,{style:[qi.tableHeaderCell,{flex:r?2:3}],children:"Name"}),(0,ub.jsx)(Hr,{style:[qi.tableHeaderCell,{flex:2}],children:"Team"}),(0,ub.jsx)(Hr,{style:[qi.tableHeaderCell,{flex:r?1:2}],children:"total"===a?"Points":"Game Points"})]}),n?(0,ub.jsxs)(Wn,{style:qi.loadingContainer,children:[(0,ub.jsx)(Ei,{size:"large",color:"#0000ff"}),(0,ub.jsx)(Hr,{style:qi.loadingText,children:"Loading participants..."}),(0,ub.jsx)(Hr,{style:qi.loadingSubtext,children:"Check console for progress."})]}):(0,ub.jsx)(zi,{style:qi.tableBody,children:t&&0!==t.length?(t&&0!==t.length?"total"===a?[...t].sort(((e,t)=>t.points-e.points)):[...t].sort(((e,t)=>{const n=e.events&&e.events[a]?e.events[a]:0;return(t.events&&t.events[a]?t.events[a]:0)-n})):[]).map(((e,t)=>(0,ub.jsxs)(Wn,{style:qi.tableRow,children:[(0,ub.jsx)(Hr,{style:[qi.tableCell,{flex:r?.5:1}],children:t+1}),(0,ub.jsx)(Hr,{style:[qi.tableCell,{flex:r?2:3}],children:e.name}),(0,ub.jsx)(Hr,{style:[qi.tableCell,{flex:2}],children:e.team}),(0,ub.jsx)(Hr,{style:[qi.tableCell,{flex:r?1:2}],children:"total"===a?e.points||0:e.events&&e.events[a]||0})]},e.id))):(0,ub.jsx)(Wn,{style:qi.emptyStateContainer,children:(0,ub.jsx)(Hr,{style:qi.emptyStateText,children:"No participants found"})})})]}),"total"!==a&&(0,ub.jsx)(Wn,{style:qi.leaderboardInfo,children:(0,ub.jsx)(Hr,{style:qi.leaderboardInfoText,children:a.includes(":")?a:""})})]})},Ib=e=>{let{participants:t,updateScore:n,loading:r}=e;const[i,o]=(0,f.useState)(""),[s,a]=(0,f.useState)(""),l=["Game 1: \xd6-golf","Game 2: N\xe4rmast flaggan","Game 3: Pilb\xe5gsskytte","Game 4: Skrotholmen Surf","Game 5: Spika spik","Game 6: S\xe5ga stock","Game 7: Elda sn\xf6re"],[u,c]=(0,f.useState)(l[0]),[d,h]=(0,f.useState)(!1);return r?(0,ub.jsxs)(Wn,{style:qi.section,children:[(0,ub.jsx)(Hr,{style:qi.sectionTitle,children:"Register Results"}),(0,ub.jsxs)(Wn,{style:qi.loadingContainer,children:[(0,ub.jsx)(Ei,{size:"large",color:"#0000ff"}),(0,ub.jsx)(Hr,{style:qi.loadingText,children:"Loading participants..."})]})]}):(0,ub.jsxs)(Wn,{style:qi.section,children:[(0,ub.jsx)(Hr,{style:qi.sectionTitle,children:"Register Results"}),(0,ub.jsxs)(Wn,{style:qi.formContainer,children:[(0,ub.jsxs)(Wn,{style:qi.formGroup,children:[(0,ub.jsx)(Hr,{style:qi.label,children:"Participant Name:"}),(0,ub.jsx)(xb,{style:qi.input,value:i,onChangeText:o,placeholder:"Enter participant's full name",placeholderTextColor:"#5D4037aa",editable:!d})]}),(0,ub.jsxs)(Wn,{style:qi.formGroup,children:[(0,ub.jsx)(Hr,{style:qi.label,children:"Event:"}),(0,ub.jsx)(Wn,{style:qi.pickerContainer,children:l.map((e=>(0,ub.jsx)(mi,{style:[qi.pickerButton,u===e&&qi.pickerButtonActive,d&&qi.disabledButton],onPress:()=>!d&&c(e),activeOpacity:d?1:.7,disabled:d,children:(0,ub.jsx)(Hr,{style:[qi.pickerButtonText,u===e&&qi.pickerButtonTextActive,d&&qi.disabledText],children:e})},e)))})]}),(0,ub.jsxs)(Wn,{style:qi.formGroup,children:[(0,ub.jsx)(Hr,{style:qi.label,children:"Points Awarded:"}),(0,ub.jsx)(xb,{style:qi.input,value:s,onChangeText:a,placeholder:"Enter points",placeholderTextColor:"#5D4037aa",keyboardType:"number-pad",editable:!d})]}),(0,ub.jsx)(mi,{style:[qi.submitBtn,d&&qi.disabledButton],onPress:async()=>{if(r)return void alert("Please wait until data is loaded");const e=t.find((e=>e.name.toLowerCase()===i.toLowerCase())),l=parseInt(s,10);if(e)if(isNaN(l))alert("Please enter a valid number for points.");else if(u)try{h(!0),await n(e.id,l,u),o(""),a("")}catch(c){console.error("Error submitting score:",c),alert("Error submitting score. Please try again.")}finally{h(!1)}else alert("Please select an event.");else alert("Participant not found. Please check the name.")},activeOpacity:d?1:.7,disabled:d,children:d?(0,ub.jsx)(Ei,{size:"small",color:"#fff"}):(0,ub.jsx)(Hr,{style:qi.submitBtnText,children:"Submit Score"})})]})]})},_b=()=>{const[e,t]=(0,f.useState)("schedule"),[n,r]=(0,f.useState)([]),[i,o]=(0,f.useState)(Ui()),[s,a]=(0,f.useState)(!0),[l,u]=(0,f.useState)(null),[c,d]=(0,f.useState)(0),[h,p]=(0,f.useState)(!1);(0,f.useEffect)((()=>{const e=dr.addEventListener("change",(e=>{let{window:t}=e;o(t.width<768)}));return()=>{e.remove()}}),[]),(0,f.useEffect)((()=>{const e=(console.log("Checking Firestore configuration..."),console.log("Project ID:",ab.projectId),console.log("API Key (first 5 chars):",ab.apiKey.substring(0,5)+"..."),ab.projectId&&ab.apiKey);console.log("Firebase config check result:",e),e||(u("Invalid Firebase configuration"),a(!1))}),[]),(0,f.useEffect)((()=>{const e=async()=>{if(!h)try{console.log(`Starting to fetch participants from Firestore... (Attempt ${c+1})`),a(!0),u(null);const e=cv(lb,"participants");console.log("Created collection reference to 'participants'");try{const t=await ib(e);if(console.log(`Firestore query executed. Received ${t.size} documents.`),t.empty){console.log("No participants found. Adding sample data...");const t=[{name:"John Doe",email:"john@example.com",team:"Team A",points:100,events:{}},{name:"Jane Smith",email:"jane@example.com",team:"Team B",points:85,events:{}},{name:"Mike Johnson",email:"mike@example.com",team:"Team A",points:95,events:{}}];console.log("Adding sample participants to Firestore...");for(const n of t)try{const t=await ob(e,n);console.log(`Added sample participant with ID: ${t.id}`)}catch(l){console.error(`Error adding sample participant: ${l.message}`)}console.log("Fetching updated participant data...");try{const t=await ib(e);console.log(`Received ${t.size} documents after adding samples.`);const n=t.docs.map((e=>({id:e.id,...e.data()})));console.log("Processed participant data:",n),r(n)}catch(l){throw console.error(`Error fetching after adding samples: ${l.message}`),l}}else{console.log("Participants collection exists. Processing data...");const e=t.docs.map((e=>({id:e.id,...e.data()})));console.log("Processed participant data:",e),r(e)}}catch(l){throw console.error(`Error in getDocs: ${l.message}`),l}}catch(l){if(console.error(`Error fetching participants: ${l.message}`,l),c<3)return console.log(`Retrying in 2 seconds... (Attempt ${c+1} of 3)`),d(c+1),void setTimeout((()=>{e()}),2e3);u(`Failed to load participants after ${c+1} attempts. ${l.message}`),console.log("Attempting to fallback to localStorage...");try{const e=localStorage.getItem("participants");e?(console.log("Found data in localStorage, using it as fallback"),r(JSON.parse(e))):(console.log("No data in localStorage. Using empty array."),r([]))}catch(t){console.error(`LocalStorage fallback error: ${t.message}`),r([])}}finally{console.log("Finished loading data, setting loading state to false"),a(!1)}};e()}),[c,h]);return(0,ub.jsx)(Mr,{source:ji,style:qi.appBackgroundImage,resizeMode:"cover",children:(0,ub.jsxs)(Vr,{style:qi.safeAreaContainer,children:[(0,ub.jsx)(cb,{activeSection:e,setActiveSection:t,logoImage:Vi}),l&&(0,ub.jsxs)(Wn,{style:qi.errorBanner,children:[(0,ub.jsx)(Hr,{style:qi.errorBannerText,children:l}),(0,ub.jsx)(mi,{style:qi.resetButton,onPress:async()=>{p(!0),u(null),console.log("Manual connection reset requested");try{const e=await(async()=>{console.log("Attempting to reset Firestore connection...");try{return await wv(lb),console.log("Network disabled"),await new Promise((e=>setTimeout(e,1e3))),await bv(lb),console.log("Network re-enabled"),!0}catch(l){return console.error("Error resetting Firestore connection:",l),!1}})();e?(console.log("Connection reset successful, reloading data..."),d(0)):u("Failed to reset connection. Check console for details.")}catch(l){console.error("Error in reset:",l),u(`Reset failed: ${l.message}`)}finally{p(!1)}},disabled:h,children:h?(0,ub.jsx)(Ei,{size:"small",color:"#fff"}):(0,ub.jsx)(Hr,{style:qi.resetButtonText,children:"Reset Connection"})})]}),(0,ub.jsxs)(zi,{style:qi.mainScrollContainer,showsVerticalScrollIndicator:!1,contentContainerStyle:qi.mainScrollContent,children:["schedule"===e&&(0,ub.jsx)(vb,{}),"registration"===e&&(0,ub.jsx)(kb,{addParticipant:async e=>{try{const t={...e,points:e.points||0,events:{}},i={id:(await ob(cv(lb,"participants"),t)).id,...t};r([...n,i])}catch(l){console.error("Error adding participant:",l);const i={...e,id:Date.now(),points:e.points||0,events:{}},o=[...n,i];r(o),localStorage.setItem("participants",JSON.stringify(o))}}}),"leaderboard"===e&&(0,ub.jsx)(Cb,{participants:[...n].sort(((e,t)=>t.points-e.points)),loading:s}),"results"===e&&(0,ub.jsx)(Ib,{participants:n,updateScore:async(e,t,i)=>{try{const o=dv(lb,"participants",e),s=n.find((t=>t.id===e));if(!s)return;const a=(s.points||0)+t,l=(s.events&&s.events[i]?s.events[i]:0)+t,u=s.events||{};u[i]=l,await function(e,t,n){e=tv(e,lv);const r=tv(e.firestore,gv),i=Nv(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=uo(t))||t instanceof Ev?Lv(i,"updateDoc",e._key,t,n,a):Mv(i,"updateDoc",e._key,t),sb(r,[o.toMutation(e._key,sh.exists(!0))])}(o,{points:a,[`events.${i}`]:l});const c=n.map((t=>t.id===e?{...t,points:a,events:u}:t));r(c),alert(`Score updated for event: ${i} successfully!`)}catch(l){console.error("Error updating score:",l);const s=n.map((n=>{if(n.id===e){const e={...n.events||{},[i]:(n.events&&n.events[i]||0)+t};return{...n,points:(n.points||0)+t,events:e}}return n}));r(s),localStorage.setItem("participants",JSON.stringify(s)),alert(`Score updated for event: ${i} successfully!`)}},loading:s})]})]})})},Rb=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)}))},Db="pentathlon-app";or.registerComponent(Db,(()=>_b)),or.runApplication(Db,{rootTag:document.getElementById("root")}),Rb()})();
//# sourceMappingURL=main.bf2f778b.js.map